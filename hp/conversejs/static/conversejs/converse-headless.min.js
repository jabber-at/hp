/**
 * @license almond 0.3.3 Copyright jQuery Foundation and other contributors.
 * Released under MIT license, http://github.com/requirejs/almond/LICENSE
 */

/*!
 * Sizzle CSS Selector Engine v2.3.3
 * https://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-08-08
 */

/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.4+314e4831
 */

/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright JS Foundation and other contributors <https://js.foundation/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */

// Underscore 1.3.0 was used to port and is licensed

/**
   sprintf() for JavaScript 0.7-beta1
   http://www.diveintojavascript.com/projects/javascript-sprintf

   Copyright (c) Alexandru Marasteanu <alexaholic [at) gmail (dot] com>
   All rights reserved.

   Redistribution and use in source and binary forms, with or without
   modification, are permitted provided that the following conditions are met:
       * Redistributions of source code must retain the above copyright
         notice, this list of conditions and the following disclaimer.
       * Redistributions in binary form must reproduce the above copyright
         notice, this list of conditions and the following disclaimer in the
         documentation and/or other materials provided with the distribution.
       * Neither the name of sprintf() for JavaScript nor the
         names of its contributors may be used to endorse or promote products
         derived from this software without specific prior written permission.

   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
   ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
   WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
   DISCLAIMED. IN NO EVENT SHALL Alexandru Marasteanu BE LIABLE FOR ANY
   DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
   (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
   LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
   ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
   (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
   SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  */

//! moment.js
//! version : 2.18.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com

// Converse.js (A browser based XMPP chat client)
// http://conversejs.org
//
// This is the internationalization module.
//
// Copyright (c) 2012-2017, Jan-Carel Brand <jc@opkode.com>
// Licensed under the Mozilla Public License (MPLv2)
//

/*
    This program is distributed under the terms of the MIT license.
    Please see the LICENSE file for details.

    Copyright 2006-2008, OGG, LLC
*/

/*
 * A JavaScript implementation of the Secure Hash Algorithm, SHA-1, as defined
 * in FIPS PUB 180-1
 * Version 2.1a Copyright Paul Johnston 2000 - 2002.
 * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet
 * Distributed under the BSD License
 * See http://pajhome.org.uk/crypt/md5 for details.
 */

/*
 * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message
 * Digest Algorithm, as defined in RFC 1321.
 * Version 2.1 Copyright (C) Paul Johnston 1999 - 2002.
 * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet
 * Distributed under the BSD License
 * See http://pajhome.org.uk/crypt/md5 for more info.
 */

// Converse.js (A browser based XMPP chat client)
// http://conversejs.org
//
// This is the utilities module.
//
// Copyright (c) 2012-2017, Jan-Carel Brand <jc@opkode.com>
// Licensed under the Mozilla Public License (MPLv2)
//

//     (c) 2010-2016 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Backbone may be freely distributed under the MIT license.
//     For all details and documentation:
//     http://backbonejs.org

//     (c) 2015 Adam Krebs, Jimmy Yuen Ho Wong
//     Backbone.NativeView may be freely distributed under the MIT license.
//     For all details and documentation:
//     https://github.com/akre54/Backbone.NativeView

// Converse.js (A browser based XMPP chat client)
// http://conversejs.org
//
// Copyright (c) 2012-2017, Jan-Carel Brand <jc@opkode.com>
// Licensed under the Mozilla Public License (MPLv2)
//

/*!
 * Backbone.Overview 
 *
 * Copyright (c) 2018, JC Brand <jc@opkode.com>
 * Licensed under the Mozilla Public License (MPL) 
 */

//# sourceMappingURL=backbone.overview.js.map;
// Converse.js (A browser based XMPP chat client)
// http://conversejs.org
//
// Copyright (c) 2012-2017, Jan-Carel Brand <jc@opkode.com>
// Licensed under the Mozilla Public License (MPLv2)
//

/*
  Copyright 2010, François de Metz <francois@2metz.fr>
*/

/*
* Based on Ping Strophejs plugins (https://github.com/metajack/strophejs-plugins/tree/master/ping)
* This plugin is distributed under the terms of the MIT licence.
* Please see the LICENCE file for details.
*
* Copyright (c) Markus Kohlhase, 2010
* Refactored by Pavel Lang, 2011
* AMD Support added by Thierry
*/

!function(e,t){"function"==typeof define&&define.amd?define([],t):e.converse=t()}(this,function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var n,r,i;return function(e){function t(e,t){return w.call(e,t)}function o(e,t){var n,r,i,o,s,a,u,c,l,d,h,f,p=t&&t.split("/"),m=y.map,_=m&&m["*"]||{};if(e){for(e=e.split("/"),s=e.length-1,y.nodeIdCompat&&x.test(e[s])&&(e[s]=e[s].replace(x,"")),"."===e[0].charAt(0)&&p&&(f=p.slice(0,p.length-1),e=f.concat(e)),l=0;l<e.length;l++)if("."===(h=e[l]))e.splice(l,1),l-=1;else if(".."===h){if(0===l||1===l&&".."===e[2]||".."===e[l-1])continue;l>0&&(e.splice(l-1,2),l-=2)}e=e.join("/")}if((p||_)&&m){for(n=e.split("/"),l=n.length;l>0;l-=1){if(r=n.slice(0,l).join("/"),p)for(d=p.length;d>0;d-=1)if((i=m[p.slice(0,d).join("/")])&&(i=i[r])){o=i,a=l;break}if(o)break;!u&&_&&_[r]&&(u=_[r],c=l)}!o&&u&&(o=u,a=c),o&&(n.splice(0,a,o),e=n.join("/"))}return e}function s(t,n){return function(){var r=S.call(arguments,0);return"string"!=typeof r[0]&&1===r.length&&r.push(null),p.apply(e,r.concat([t,n]))}}function a(e){return function(t){return o(t,e)}}function u(e){return function(t){g[e]=t}}function c(n){if(t(v,n)){var r=v[n];delete v[n],b[n]=!0,f.apply(e,r)}if(!t(g,n)&&!t(b,n))throw new Error("No "+n);return g[n]}function l(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function d(e){return e?l(e):[]}function h(e){return function(){return y&&y.config&&y.config[e]||{}}}var f,p,m,_,g={},v={},y={},b={},w=Object.prototype.hasOwnProperty,S=[].slice,x=/\.js$/;m=function(e,t){var n,r=l(e),i=r[0],s=t[1];return e=r[1],i&&(i=o(i,s),n=c(i)),i?e=n&&n.normalize?n.normalize(e,a(s)):o(e,s):(e=o(e,s),r=l(e),i=r[0],e=r[1],i&&(n=c(i))),{f:i?i+"!"+e:e,n:e,pr:i,p:n}},_={require:function(e){return s(e)},exports:function(e){var t=g[e];return void 0!==t?t:g[e]={}},module:function(e){return{id:e,uri:"",exports:g[e],config:h(e)}}},f=function(n,r,i,o){var a,l,h,f,p,y,w,S=[],x=typeof i;if(o=o||n,y=d(o),"undefined"===x||"function"===x){for(r=!r.length&&i.length?["require","exports","module"]:r,p=0;p<r.length;p+=1)if(f=m(r[p],y),"require"===(l=f.f))S[p]=_.require(n);else if("exports"===l)S[p]=_.exports(n),w=!0;else if("module"===l)a=S[p]=_.module(n);else if(t(g,l)||t(v,l)||t(b,l))S[p]=c(l);else{if(!f.p)throw new Error(n+" missing "+l);f.p.load(f.n,s(o,!0),u(l),{}),S[p]=g[l]}h=i?i.apply(g[n],S):void 0,n&&(a&&a.exports!==e&&a.exports!==g[n]?g[n]=a.exports:h===e&&w||(g[n]=h))}else n&&(g[n]=i)},n=r=p=function(t,n,r,i,o){if("string"==typeof t)return _[t]?_[t](n):c(m(t,d(n)).f);if(!t.splice){if(y=t,y.deps&&p(y.deps,y.callback),!n)return;n.splice?(t=n,n=r,r=null):t=e}return n=n||function(){},"function"==typeof r&&(r=i,i=o),i?f(e,t,n,r):setTimeout(function(){f(e,t,n,r)},4),p},p.config=function(e){return p(e)},n._defined=g,i=function(e,n,r){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");n.splice||(r=n,n=[]),t(g,e)||t(v,e)||(v[e]=[e,n,r])},i.amd={jQuery:!0}}(),i("almond",function(){}),function(e){function t(e,t,n,r){var i,o,s,a,u,c,d,f=t&&t.ownerDocument,p=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==p&&9!==p&&11!==p)return n;if(!r&&((t?t.ownerDocument||t:F)!==N&&C(t),t=t||N,I)){if(11!==p&&(u=_e.exec(e)))if(i=u[1]){if(9===p){if(!(s=t.getElementById(i)))return n;if(s.id===i)return n.push(s),n}else if(f&&(s=f.getElementById(i))&&j(t,s)&&s.id===i)return n.push(s),n}else{if(u[2])return Q.apply(n,t.getElementsByTagName(e)),n;if((i=u[3])&&w.getElementsByClassName&&t.getElementsByClassName)return Q.apply(n,t.getElementsByClassName(i)),n}if(w.qsa&&!U[e+" "]&&(!Y||!Y.test(e))){if(1!==p)f=t,d=e;else if("object"!==t.nodeName.toLowerCase()){for((a=t.getAttribute("id"))?a=a.replace(be,we):t.setAttribute("id",a=P),c=A(e),o=c.length;o--;)c[o]="#"+a+" "+h(c[o]);d=c.join(","),f=ge.test(e)&&l(t.parentNode)||t}if(d)try{return Q.apply(n,f.querySelectorAll(d)),n}catch(e){}finally{a===P&&t.removeAttribute("id")}}}return T(e.replace(se,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>S.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[P]=!0,e}function o(e){var t=N.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function s(e,t){for(var n=e.split("|"),r=n.length;r--;)S.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function u(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&xe(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function c(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),s=o.length;s--;)n[i=o[s]]&&(n[i]=!(r[i]=n[i]))})})}function l(e){return e&&void 0!==e.getElementsByTagName&&e}function d(){}function h(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function f(e,t,n){var r=t.dir,i=t.next,o=i||r,s=n&&"parentNode"===o,a=z++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||s)return e(t,n,i);return!1}:function(t,n,u){var c,l,d,h=[q,a];if(u){for(;t=t[r];)if((1===t.nodeType||s)&&e(t,n,u))return!0}else for(;t=t[r];)if(1===t.nodeType||s)if(d=t[P]||(t[P]={}),l=d[t.uniqueID]||(d[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((c=l[o])&&c[0]===q&&c[1]===a)return h[2]=c[2];if(l[o]=h,h[2]=e(t,n,u))return!0}return!1}}function p(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function m(e,n,r){for(var i=0,o=n.length;i<o;i++)t(e,n[i],r);return r}function _(e,t,n,r,i){for(var o,s=[],a=0,u=e.length,c=null!=t;a<u;a++)(o=e[a])&&(n&&!n(o,r,i)||(s.push(o),c&&t.push(a)));return s}function g(e,t,n,i,o,s){return i&&!i[P]&&(i=g(i)),o&&!o[P]&&(o=g(o,s)),r(function(r,s,a,u){var c,l,d,h=[],f=[],p=s.length,g=r||m(t||"*",a.nodeType?[a]:a,[]),v=!e||!r&&t?g:_(g,h,e,a,u),y=n?o||(r?e:p||i)?[]:s:v;if(n&&n(v,y,a,u),i)for(c=_(y,f),i(c,[],a,u),l=c.length;l--;)(d=c[l])&&(y[f[l]]=!(v[f[l]]=d));if(r){if(o||e){if(o){for(c=[],l=y.length;l--;)(d=y[l])&&c.push(v[l]=d);o(null,y=[],c,u)}for(l=y.length;l--;)(d=y[l])&&(c=o?K(r,d):h[l])>-1&&(r[c]=!(s[c]=d))}}else y=_(y===s?y.splice(p,y.length):y),o?o(null,s,y,u):Q.apply(s,y)})}function v(e){for(var t,n,r,i=e.length,o=S.relative[e[0].type],s=o||S.relative[" "],a=o?1:0,u=f(function(e){return e===t},s,!0),c=f(function(e){return K(t,e)>-1},s,!0),l=[function(e,n,r){var i=!o&&(r||n!==D)||((t=n).nodeType?u(e,n,r):c(e,n,r));return t=null,i}];a<i;a++)if(n=S.relative[e[a].type])l=[f(p(l),n)];else{if(n=S.filter[e[a].type].apply(null,e[a].matches),n[P]){for(r=++a;r<i&&!S.relative[e[r].type];r++);return g(a>1&&p(l),a>1&&h(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(se,"$1"),n,a<r&&v(e.slice(a,r)),r<i&&v(e=e.slice(r)),r<i&&h(e))}l.push(n)}return p(l)}function y(e,n){var i=n.length>0,o=e.length>0,s=function(r,s,a,u,c){var l,d,h,f=0,p="0",m=r&&[],g=[],v=D,y=r||o&&S.find.TAG("*",c),b=q+=null==v?1:Math.random()||.1,w=y.length;for(c&&(D=s===N||s||c);p!==w&&null!=(l=y[p]);p++){if(o&&l){for(d=0,s||l.ownerDocument===N||(C(l),a=!I);h=e[d++];)if(h(l,s||N,a)){u.push(l);break}c&&(q=b)}i&&((l=!h&&l)&&f--,r&&m.push(l))}if(f+=p,i&&p!==f){for(d=0;h=n[d++];)h(m,g,s,a);if(r){if(f>0)for(;p--;)m[p]||g[p]||(g[p]=V.call(u));g=_(g)}Q.apply(u,g),c&&!r&&g.length>0&&f+n.length>1&&t.uniqueSort(u)}return c&&(q=b,D=v),m};return i?r(s):s}var b,w,S,x,M,A,L,T,D,E,k,C,N,O,I,Y,R,H,j,P="sizzle"+1*new Date,F=e.document,q=0,z=0,W=n(),B=n(),U=n(),J=function(e,t){return e===t&&(k=!0),0},$={}.hasOwnProperty,G=[],V=G.pop,X=G.push,Q=G.push,Z=G.slice,K=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},ee="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",te="[\\x20\\t\\r\\n\\f]",ne="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",re="\\["+te+"*("+ne+")(?:"+te+"*([*^$|!~]?=)"+te+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ne+"))|)"+te+"*\\]",ie=":("+ne+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+re+")*)|.*)\\)|)",oe=new RegExp(te+"+","g"),se=new RegExp("^"+te+"+|((?:^|[^\\\\])(?:\\\\.)*)"+te+"+$","g"),ae=new RegExp("^"+te+"*,"+te+"*"),ue=new RegExp("^"+te+"*([>+~]|"+te+")"+te+"*"),ce=new RegExp("="+te+"*([^\\]'\"]*?)"+te+"*\\]","g"),le=new RegExp(ie),de=new RegExp("^"+ne+"$"),he={ID:new RegExp("^#("+ne+")"),CLASS:new RegExp("^\\.("+ne+")"),TAG:new RegExp("^("+ne+"|[*])"),ATTR:new RegExp("^"+re),PSEUDO:new RegExp("^"+ie),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+te+"*(even|odd|(([+-]|)(\\d*)n|)"+te+"*(?:([+-]|)"+te+"*(\\d+)|))"+te+"*\\)|)","i"),bool:new RegExp("^(?:"+ee+")$","i"),needsContext:new RegExp("^"+te+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+te+"*((?:-\\d)?\\d*)"+te+"*\\)|)(?=[^-]|$)","i")},fe=/^(?:input|select|textarea|button)$/i,pe=/^h\d$/i,me=/^[^{]+\{\s*\[native \w/,_e=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ge=/[+~]/,ve=new RegExp("\\\\([\\da-f]{1,6}"+te+"?|("+te+")|.)","ig"),ye=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},be=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,we=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},Se=function(){C()},xe=f(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{Q.apply(G=Z.call(F.childNodes),F.childNodes),G[F.childNodes.length].nodeType}catch(e){Q={apply:G.length?function(e,t){X.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}w=t.support={},M=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},C=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:F;return r!==N&&9===r.nodeType&&r.documentElement?(N=r,O=N.documentElement,I=!M(N),F!==N&&(n=N.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Se,!1):n.attachEvent&&n.attachEvent("onunload",Se)),w.attributes=o(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=o(function(e){return e.appendChild(N.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=me.test(N.getElementsByClassName),w.getById=o(function(e){return O.appendChild(e).id=P,!N.getElementsByName||!N.getElementsByName(P).length}),w.getById?(S.filter.ID=function(e){var t=e.replace(ve,ye);return function(e){return e.getAttribute("id")===t}},S.find.ID=function(e,t){if(void 0!==t.getElementById&&I){var n=t.getElementById(e);return n?[n]:[]}}):(S.filter.ID=function(e){var t=e.replace(ve,ye);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},S.find.ID=function(e,t){if(void 0!==t.getElementById&&I){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),S.find.TAG=w.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):w.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},S.find.CLASS=w.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&I)return t.getElementsByClassName(e)},R=[],Y=[],(w.qsa=me.test(N.querySelectorAll))&&(o(function(e){O.appendChild(e).innerHTML="<a id='"+P+"'></a><select id='"+P+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&Y.push("[*^$]="+te+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||Y.push("\\["+te+"*(?:value|"+ee+")"),e.querySelectorAll("[id~="+P+"-]").length||Y.push("~="),e.querySelectorAll(":checked").length||Y.push(":checked"),e.querySelectorAll("a#"+P+"+*").length||Y.push(".#.+[+~]")}),o(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=N.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&Y.push("name"+te+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&Y.push(":enabled",":disabled"),O.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&Y.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),Y.push(",.*:")})),(w.matchesSelector=me.test(H=O.matches||O.webkitMatchesSelector||O.mozMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&o(function(e){w.disconnectedMatch=H.call(e,"*"),H.call(e,"[s!='']:x"),R.push("!=",ie)}),Y=Y.length&&new RegExp(Y.join("|")),R=R.length&&new RegExp(R.join("|")),t=me.test(O.compareDocumentPosition),j=t||me.test(O.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},J=t?function(e,t){if(e===t)return k=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!w.sortDetached&&t.compareDocumentPosition(e)===n?e===N||e.ownerDocument===F&&j(F,e)?-1:t===N||t.ownerDocument===F&&j(F,t)?1:E?K(E,e)-K(E,t):0:4&n?-1:1)}:function(e,t){if(e===t)return k=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,s=[e],u=[t];if(!i||!o)return e===N?-1:t===N?1:i?-1:o?1:E?K(E,e)-K(E,t):0;if(i===o)return a(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;s[r]===u[r];)r++;return r?a(s[r],u[r]):s[r]===F?-1:u[r]===F?1:0},N):N},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==N&&C(e),n=n.replace(ce,"='$1']"),w.matchesSelector&&I&&!U[n+" "]&&(!R||!R.test(n))&&(!Y||!Y.test(n)))try{var r=H.call(e,n);if(r||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return t(n,N,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==N&&C(e),j(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==N&&C(e);var n=S.attrHandle[t.toLowerCase()],r=n&&$.call(S.attrHandle,t.toLowerCase())?n(e,t,!I):void 0;return void 0!==r?r:w.attributes||!I?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.escape=function(e){return(e+"").replace(be,we)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(k=!w.detectDuplicates,E=!w.sortStable&&e.slice(0),e.sort(J),k){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return E=null,e},x=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=x(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=x(t);return n},S=t.selectors={cacheLength:50,createPseudo:r,match:he,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ve,ye),e[3]=(e[3]||e[4]||e[5]||"").replace(ve,ye),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return he.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&le.test(n)&&(t=A(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ve,ye).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=W[e+" "];return t||(t=new RegExp("(^|"+te+")"+e+"("+te+"|$)"))&&W(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(oe," ")+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var c,l,d,h,f,p,m=o!==s?"nextSibling":"previousSibling",_=t.parentNode,g=a&&t.nodeName.toLowerCase(),v=!u&&!a,y=!1;if(_){if(o){for(;m;){for(h=t;h=h[m];)if(a?h.nodeName.toLowerCase()===g:1===h.nodeType)return!1;p=m="only"===e&&!p&&"nextSibling"}return!0}if(p=[s?_.firstChild:_.lastChild],s&&v){for(h=_,d=h[P]||(h[P]={}),l=d[h.uniqueID]||(d[h.uniqueID]={}),c=l[e]||[],f=c[0]===q&&c[1],y=f&&c[2],h=f&&_.childNodes[f];h=++f&&h&&h[m]||(y=f=0)||p.pop();)if(1===h.nodeType&&++y&&h===t){l[e]=[q,f,y];break}}else if(v&&(h=t,d=h[P]||(h[P]={}),l=d[h.uniqueID]||(d[h.uniqueID]={}),c=l[e]||[],f=c[0]===q&&c[1],y=f),!1===y)for(;(h=++f&&h&&h[m]||(y=f=0)||p.pop())&&((a?h.nodeName.toLowerCase()!==g:1!==h.nodeType)||!++y||(v&&(d=h[P]||(h[P]={}),l=d[h.uniqueID]||(d[h.uniqueID]={}),l[e]=[q,y]),h!==t)););return(y-=i)===r||y%r==0&&y/r>=0}}},PSEUDO:function(e,n){var i,o=S.pseudos[e]||S.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[P]?o(n):o.length>1?(i=[e,e,"",n],S.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),s=i.length;s--;)r=K(e,i[s]),e[r]=!(t[r]=i[s])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=L(e.replace(se,"$1"));return i[P]?r(function(e,t,n,r){for(var o,s=i(e,null,r,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(ve,ye),function(t){return(t.textContent||t.innerText||x(t)).indexOf(e)>-1}}),lang:r(function(e){return de.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(ve,ye).toLowerCase(),function(t){var n;do{if(n=I?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===O},focus:function(e){return e===N.activeElement&&(!N.hasFocus||N.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:u(!1),disabled:u(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!S.pseudos.empty(e)},header:function(e){return pe.test(e.nodeName)},input:function(e){return fe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[n<0?n+t:n]}),even:c(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:c(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},S.pseudos.nth=S.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})S.pseudos[b]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(b);for(b in{submit:!0,reset:!0})S.pseudos[b]=function(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}(b);d.prototype=S.filters=S.pseudos,S.setFilters=new d,A=t.tokenize=function(e,n){var r,i,o,s,a,u,c,l=B[e+" "];if(l)return n?0:l.slice(0);for(a=e,u=[],c=S.preFilter;a;){r&&!(i=ae.exec(a))||(i&&(a=a.slice(i[0].length)||a),u.push(o=[])),r=!1,(i=ue.exec(a))&&(r=i.shift(),o.push({value:r,type:i[0].replace(se," ")}),a=a.slice(r.length));for(s in S.filter)!(i=he[s].exec(a))||c[s]&&!(i=c[s](i))||(r=i.shift(),o.push({value:r,type:s,matches:i}),a=a.slice(r.length));if(!r)break}return n?a.length:a?t.error(e):B(e,u).slice(0)},L=t.compile=function(e,t){var n,r=[],i=[],o=U[e+" "];if(!o){for(t||(t=A(e)),n=t.length;n--;)o=v(t[n]),o[P]?r.push(o):i.push(o);o=U(e,y(i,r)),o.selector=e}return o},T=t.select=function(e,t,n,r){var i,o,s,a,u,c="function"==typeof e&&e,d=!r&&A(e=c.selector||e);if(n=n||[],1===d.length){if(o=d[0]=d[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&9===t.nodeType&&I&&S.relative[o[1].type]){if(!(t=(S.find.ID(s.matches[0].replace(ve,ye),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=he.needsContext.test(e)?0:o.length;i--&&(s=o[i],!S.relative[a=s.type]);)if((u=S.find[a])&&(r=u(s.matches[0].replace(ve,ye),ge.test(o[0].type)&&l(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&h(o)))return Q.apply(n,r),n;break}}return(c||L(e,d))(r,t,!I,n,!t||ge.test(e)&&l(t.parentNode)||t),n},w.sortStable=P.split("").sort(J).join("")===P,w.detectDuplicates=!!k,C(),w.sortDetached=o(function(e){return 1&e.compareDocumentPosition(N.createElement("fieldset"))}),o(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||s("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&o(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||s("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),o(function(e){return null==e.getAttribute("disabled")})||s(ee,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null});var Me=e.Sizzle;t.noConflict=function(){return e.Sizzle===t&&(e.Sizzle=Me),t},"function"==typeof i&&i.amd?i("sizzle",[],function(){return t}):"undefined"!=typeof module&&module.exports?module.exports=t:e.Sizzle=t}(window),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof i&&i.amd?i("es6-promise",t):e.ES6Promise=t()}(this,function(){"use strict";function e(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}function t(e){return"function"==typeof e}function n(e){F=e}function i(e){q=e}function o(){return void 0!==P?function(){P(a)}:s()}function s(){var e=setTimeout;return function(){return e(a,1)}}function a(){for(var e=0;e<j;e+=2){(0,$[e])($[e+1]),$[e]=void 0,$[e+1]=void 0}j=0}function u(e,t){var n=this,r=new this.constructor(l);void 0===r[V]&&D(r);var i=n._state;if(i){var o=arguments[i-1];q(function(){return A(i,r,o,n._result)})}else S(n,r,e,t);return r}function c(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(l);return v(n,e),n}function l(){}function d(){return new TypeError("You cannot resolve a promise with itself")}function h(){return new TypeError("A promises callback cannot return that same promise.")}function f(e){try{return e.then}catch(e){return K.error=e,K}}function p(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}function m(e,t,n){q(function(e){var r=!1,i=p(n,t,function(n){r||(r=!0,t!==n?v(e,n):b(e,n))},function(t){r||(r=!0,w(e,t))},"Settle: "+(e._label||" unknown promise"));!r&&i&&(r=!0,w(e,i))},e)}function _(e,t){t._state===Q?b(e,t._result):t._state===Z?w(e,t._result):S(t,void 0,function(t){return v(e,t)},function(t){return w(e,t)})}function g(e,n,r){n.constructor===e.constructor&&r===u&&n.constructor.resolve===c?_(e,n):r===K?(w(e,K.error),K.error=null):void 0===r?b(e,n):t(r)?m(e,n,r):b(e,n)}function v(t,n){t===n?w(t,d()):e(n)?g(t,n,f(n)):b(t,n)}function y(e){e._onerror&&e._onerror(e._result),x(e)}function b(e,t){e._state===X&&(e._result=t,e._state=Q,0!==e._subscribers.length&&q(x,e))}function w(e,t){e._state===X&&(e._state=Z,e._result=t,q(y,e))}function S(e,t,n,r){var i=e._subscribers,o=i.length;e._onerror=null,i[o]=t,i[o+Q]=n,i[o+Z]=r,0===o&&e._state&&q(x,e)}function x(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,i=void 0,o=e._result,s=0;s<t.length;s+=3)r=t[s],i=t[s+n],r?A(n,r,i,o):i(o);e._subscribers.length=0}}function M(e,t){try{return e(t)}catch(e){return K.error=e,K}}function A(e,n,r,i){var o=t(r),s=void 0,a=void 0,u=void 0,c=void 0;if(o){if(s=M(r,i),s===K?(c=!0,a=s.error,s.error=null):u=!0,n===s)return void w(n,h())}else s=i,u=!0;n._state!==X||(o&&u?v(n,s):c?w(n,a):e===Q?b(n,s):e===Z&&w(n,s))}function L(e,t){try{t(function(t){v(e,t)},function(t){w(e,t)})}catch(t){w(e,t)}}function T(){return ee++}function D(e){e[V]=ee++,e._state=void 0,e._result=void 0,e._subscribers=[]}function E(){return new Error("Array Methods must be provided an Array")}function k(e){return new te(this,e).promise}function C(e){var t=this;return new t(H(e)?function(n,r){for(var i=e.length,o=0;o<i;o++)t.resolve(e[o]).then(n,r)}:function(e,t){return t(new TypeError("You must pass an array to race."))})}function N(e){var t=this,n=new t(l);return w(n,e),n}function O(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function I(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function Y(){var e=void 0;if("undefined"!=typeof global)e=global;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=ne}var R=void 0;R=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var H=R,j=0,P=void 0,F=void 0,q=function(e,t){$[j]=e,$[j+1]=t,2===(j+=2)&&(F?F(a):G())},z="undefined"!=typeof window?window:void 0,W=z||{},B=W.MutationObserver||W.WebKitMutationObserver,U="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),J="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,$=new Array(1e3),G=void 0;G=U?function(){return function(){return process.nextTick(a)}}():B?function(){var e=0,t=new B(a),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}():J?function(){var e=new MessageChannel;return e.port1.onmessage=a,function(){return e.port2.postMessage(0)}}():void 0===z&&"function"==typeof r?function(){try{var e=Function("return this")().require("vertx");return P=e.runOnLoop||e.runOnContext,o()}catch(e){return s()}}():s();var V=Math.random().toString(36).substring(2),X=void 0,Q=1,Z=2,K={error:null},ee=0,te=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(l),this.promise[V]||D(this.promise),H(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?b(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&b(this.promise,this._result))):w(this.promise,E())}return e.prototype._enumerate=function(e){for(var t=0;this._state===X&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===c){var i=f(e);if(i===u&&e._state!==X)this._settledAt(e._state,t,e._result);else if("function"!=typeof i)this._remaining--,this._result[t]=e;else if(n===ne){var o=new n(l);g(o,e,i),this._willSettleAt(o,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(r(e),t)},e.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===X&&(this._remaining--,e===Z?w(r,n):this._result[t]=n),0===this._remaining&&b(r,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;S(e,void 0,function(e){return n._settledAt(Q,t,e)},function(e){return n._settledAt(Z,t,e)})},e}(),ne=function(){function e(t){this[V]=T(),this._result=this._state=void 0,this._subscribers=[],l!==t&&("function"!=typeof t&&O(),this instanceof e?L(this,t):I())}return e.prototype.catch=function(e){return this.then(null,e)},e.prototype.finally=function(e){var t=this,n=t.constructor;return t.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){throw t})})},e}();return ne.prototype.then=u,ne.all=k,ne.race=C,ne.resolve=c,ne.reject=N,ne._setScheduler=n,ne._setAsap=i,ne._asap=q,ne.polyfill=Y,ne.Promise=ne,ne.polyfill(),ne}),function(){function e(e,t){return e.set(t[0],t[1]),e}function t(e,t){return e.add(t),e}function n(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function r(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var s=e[i];t(r,s,n(s),e)}return r}function o(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function s(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function a(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function u(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}function c(e,t){return!!(null==e?0:e.length)&&b(e,t,0)>-1}function l(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function d(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function h(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function f(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function p(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function m(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function _(e){return e.split("")}function g(e){return e.match(Rt)||[]}function v(e,t,n){var r;return n(e,function(e,n,i){if(t(e,n,i))return r=n,!1}),r}function y(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function b(e,t,n){return t===t?$(e,t,n):y(e,S,n)}function w(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function S(e){return e!==e}function x(e,t){var n=null==e?0:e.length;return n?D(e,t)/n:Ce}function M(e){return function(t){return null==t?ee:t[e]}}function A(e){return function(t){return null==e?ee:e[t]}}function L(e,t,n,r,i){return i(e,function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)}),n}function T(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function D(e,t){for(var n,r=-1,i=e.length;++r<i;){var o=t(e[r]);o!==ee&&(n=n===ee?o:n+o)}return n}function E(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function k(e,t){return d(t,function(t){return[t,e[t]]})}function C(e){return function(t){return e(t)}}function N(e,t){return d(t,function(t){return e[t]})}function O(e,t){return e.has(t)}function I(e,t){
for(var n=-1,r=e.length;++n<r&&b(t,e[n],0)>-1;);return n}function Y(e,t){for(var n=e.length;n--&&b(t,e[n],0)>-1;);return n}function R(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}function H(e){return"\\"+Mn[e]}function j(e,t){return null==e?ee:e[t]}function P(e){return mn.test(e)}function F(e){return _n.test(e)}function q(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function z(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function W(e,t){return function(n){return e(t(n))}}function B(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n];s!==t&&s!==se||(e[n]=se,o[i++]=n)}return o}function U(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function J(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function $(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function G(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}function V(e){return P(e)?Q(e):qn(e)}function X(e){return P(e)?Z(e):_(e)}function Q(e){for(var t=fn.lastIndex=0;fn.test(e);)++t;return t}function Z(e){return e.match(fn)||[]}function K(e){return e.match(pn)||[]}var ee,te=200,ne="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",re="Expected a function",ie="__lodash_hash_undefined__",oe=500,se="__lodash_placeholder__",ae=1,ue=2,ce=4,le=1,de=2,he=1,fe=2,pe=4,me=8,_e=16,ge=32,ve=64,ye=128,be=256,we=512,Se=30,xe="...",Me=800,Ae=16,Le=1,Te=2,De=1/0,Ee=9007199254740991,ke=1.7976931348623157e308,Ce=NaN,Ne=4294967295,Oe=Ne-1,Ie=Ne>>>1,Ye=[["ary",ye],["bind",he],["bindKey",fe],["curry",me],["curryRight",_e],["flip",we],["partial",ge],["partialRight",ve],["rearg",be]],Re="[object Arguments]",He="[object Array]",je="[object AsyncFunction]",Pe="[object Boolean]",Fe="[object Date]",qe="[object DOMException]",ze="[object Error]",We="[object Function]",Be="[object GeneratorFunction]",Ue="[object Map]",Je="[object Number]",$e="[object Null]",Ge="[object Object]",Ve="[object Proxy]",Xe="[object RegExp]",Qe="[object Set]",Ze="[object String]",Ke="[object Symbol]",et="[object Undefined]",tt="[object WeakMap]",nt="[object WeakSet]",rt="[object ArrayBuffer]",it="[object DataView]",ot="[object Float32Array]",st="[object Float64Array]",at="[object Int8Array]",ut="[object Int16Array]",ct="[object Int32Array]",lt="[object Uint8Array]",dt="[object Uint8ClampedArray]",ht="[object Uint16Array]",ft="[object Uint32Array]",pt=/\b__p \+= '';/g,mt=/\b(__p \+=) '' \+/g,_t=/(__e\(.*?\)|\b__t\)) \+\n'';/g,gt=/&(?:amp|lt|gt|quot|#39);/g,vt=/[&<>"']/g,yt=RegExp(gt.source),bt=RegExp(vt.source),wt=/<%-([\s\S]+?)%>/g,St=/<%([\s\S]+?)%>/g,xt=/<%=([\s\S]+?)%>/g,Mt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,At=/^\w*$/,Lt=/^\./,Tt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Dt=/[\\^$.*+?()[\]{}|]/g,Et=RegExp(Dt.source),kt=/^\s+|\s+$/g,Ct=/^\s+/,Nt=/\s+$/,Ot=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,It=/\{\n\/\* \[wrapped with (.+)\] \*/,Yt=/,? & /,Rt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ht=/\\(\\)?/g,jt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Pt=/\w*$/,Ft=/^[-+]0x[0-9a-f]+$/i,qt=/^0b[01]+$/i,zt=/^\[object .+?Constructor\]$/,Wt=/^0o[0-7]+$/i,Bt=/^(?:0|[1-9]\d*)$/,Ut=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Jt=/($^)/,$t=/['\n\r\u2028\u2029\\]/g,Gt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Vt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Xt="["+Vt+"]",Qt="["+Gt+"]",Zt="[a-z\\xdf-\\xf6\\xf8-\\xff]",Kt="[^\\ud800-\\udfff"+Vt+"\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",en="\\ud83c[\\udffb-\\udfff]",tn="(?:\\ud83c[\\udde6-\\uddff]){2}",nn="[\\ud800-\\udbff][\\udc00-\\udfff]",rn="[A-Z\\xc0-\\xd6\\xd8-\\xde]",on="(?:"+Zt+"|"+Kt+")",sn="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",an="(?:\\u200d(?:"+["[^\\ud800-\\udfff]",tn,nn].join("|")+")[\\ufe0e\\ufe0f]?"+sn+")*",un="[\\ufe0e\\ufe0f]?"+sn+an,cn="(?:"+["[\\u2700-\\u27bf]",tn,nn].join("|")+")"+un,ln="(?:"+["[^\\ud800-\\udfff]"+Qt+"?",Qt,tn,nn,"[\\ud800-\\udfff]"].join("|")+")",dn=RegExp("['’]","g"),hn=RegExp(Qt,"g"),fn=RegExp(en+"(?="+en+")|"+ln+un,"g"),pn=RegExp([rn+"?"+Zt+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[Xt,rn,"$"].join("|")+")","(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[Xt,rn+on,"$"].join("|")+")",rn+"?"+on+"+(?:['’](?:d|ll|m|re|s|t|ve))?",rn+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)","\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)","\\d+",cn].join("|"),"g"),mn=RegExp("[\\u200d\\ud800-\\udfff"+Gt+"\\ufe0e\\ufe0f]"),_n=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,gn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],vn=-1,yn={};yn[ot]=yn[st]=yn[at]=yn[ut]=yn[ct]=yn[lt]=yn[dt]=yn[ht]=yn[ft]=!0,yn[Re]=yn[He]=yn[rt]=yn[Pe]=yn[it]=yn[Fe]=yn[ze]=yn[We]=yn[Ue]=yn[Je]=yn[Ge]=yn[Xe]=yn[Qe]=yn[Ze]=yn[tt]=!1;var bn={};bn[Re]=bn[He]=bn[rt]=bn[it]=bn[Pe]=bn[Fe]=bn[ot]=bn[st]=bn[at]=bn[ut]=bn[ct]=bn[Ue]=bn[Je]=bn[Ge]=bn[Xe]=bn[Qe]=bn[Ze]=bn[Ke]=bn[lt]=bn[dt]=bn[ht]=bn[ft]=!0,bn[ze]=bn[We]=bn[tt]=!1;var wn={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},Sn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},xn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Mn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},An=parseFloat,Ln=parseInt,Tn="object"==typeof global&&global&&global.Object===Object&&global,Dn="object"==typeof self&&self&&self.Object===Object&&self,En=Tn||Dn||Function("return this")(),kn="object"==typeof exports&&exports&&!exports.nodeType&&exports,Cn=kn&&"object"==typeof module&&module&&!module.nodeType&&module,Nn=Cn&&Cn.exports===kn,On=Nn&&Tn.process,In=function(){try{return On&&On.binding&&On.binding("util")}catch(e){}}(),Yn=In&&In.isArrayBuffer,Rn=In&&In.isDate,Hn=In&&In.isMap,jn=In&&In.isRegExp,Pn=In&&In.isSet,Fn=In&&In.isTypedArray,qn=M("length"),zn=A(wn),Wn=A(Sn),Bn=A(xn),Un=function i(_){function A(e){if(ou(e)&&!_h(e)&&!(e instanceof Z)){if(e instanceof Q)return e;if(_l.call(e,"__wrapped__"))return ns(e)}return new Q(e)}function $(){}function Q(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=ee}function Z(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ne,this.__views__=[]}function Rt(){var e=new Z(this.__wrapped__);return e.__actions__=Hi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Hi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Hi(this.__views__),e}function Gt(){if(this.__filtered__){var e=new Z(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Vt(){var e=this.__wrapped__.value(),t=this.__dir__,n=_h(e),r=t<0,i=n?e.length:0,o=To(0,i,this.__views__),s=o.start,a=o.end,u=a-s,c=r?a:s-1,l=this.__iteratees__,d=l.length,h=0,f=Jl(u,this.__takeCount__);if(!n||!r&&i==u&&f==u)return vi(e,this.__actions__);var p=[];e:for(;u--&&h<f;){c+=t;for(var m=-1,_=e[c];++m<d;){var g=l[m],v=g.iteratee,y=g.type,b=v(_);if(y==Te)_=b;else if(!b){if(y==Le)continue e;break e}}p[h++]=_}return p}function Xt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Qt(){this.__data__=nd?nd(null):{},this.size=0}function Zt(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function Kt(e){var t=this.__data__;if(nd){var n=t[e];return n===ie?ee:n}return _l.call(t,e)?t[e]:ee}function en(e){var t=this.__data__;return nd?t[e]!==ee:_l.call(t,e)}function tn(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=nd&&t===ee?ie:t,this}function nn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function rn(){this.__data__=[],this.size=0}function on(e){var t=this.__data__,n=Xn(t,e);return!(n<0)&&(n==t.length-1?t.pop():kl.call(t,n,1),--this.size,!0)}function sn(e){var t=this.__data__,n=Xn(t,e);return n<0?ee:t[n][1]}function an(e){return Xn(this.__data__,e)>-1}function un(e,t){var n=this.__data__,r=Xn(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function cn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ln(){this.size=0,this.__data__={hash:new Xt,map:new(Zl||nn),string:new Xt}}function fn(e){var t=xo(this,e).delete(e);return this.size-=t?1:0,t}function pn(e){return xo(this,e).get(e)}function mn(e){return xo(this,e).has(e)}function _n(e,t){var n=xo(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function wn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new cn;++t<n;)this.add(e[t])}function Sn(e){return this.__data__.set(e,ie),this}function xn(e){return this.__data__.has(e)}function Mn(e){var t=this.__data__=new nn(e);this.size=t.size}function Tn(){this.__data__=new nn,this.size=0}function Dn(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function kn(e){return this.__data__.get(e)}function Cn(e){return this.__data__.has(e)}function On(e,t){var n=this.__data__;if(n instanceof nn){var r=n.__data__;if(!Zl||r.length<te-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new cn(r)}return n.set(e,t),this.size=n.size,this}function In(e,t){var n=_h(e),r=!n&&mh(e),i=!n&&!r&&vh(e),o=!n&&!r&&!i&&xh(e),s=n||r||i||o,a=s?E(e.length,cl):[],u=a.length;for(var c in e)!t&&!_l.call(e,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Yo(c,u))||a.push(c);return a}function qn(e){var t=e.length;return t?e[Kr(0,t-1)]:ee}function Jn(e,t){return Zo(Hi(e),nr(t,0,e.length))}function $n(e){return Zo(Hi(e))}function Gn(e,t,n){(n===ee||Ua(e[t],n))&&(n!==ee||t in e)||er(e,t,n)}function Vn(e,t,n){var r=e[t];_l.call(e,t)&&Ua(r,n)&&(n!==ee||t in e)||er(e,t,n)}function Xn(e,t){for(var n=e.length;n--;)if(Ua(e[n][0],t))return n;return-1}function Qn(e,t,n,r){return pd(e,function(e,i,o){t(r,e,n(e),o)}),r}function Zn(e,t){return e&&ji(t,Fu(t),e)}function Kn(e,t){return e&&ji(t,qu(t),e)}function er(e,t,n){"__proto__"==t&&Il?Il(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function tr(e,t){for(var n=-1,r=t.length,i=nl(r),o=null==e;++n<r;)i[n]=o?ee:Hu(e,t[n]);return i}function nr(e,t,n){return e===e&&(n!==ee&&(e=e<=n?e:n),t!==ee&&(e=e>=t?e:t)),e}function rr(e,t,n,r,i,s){var a,u=t&ae,c=t&ue,l=t&ce;if(n&&(a=i?n(e,r,i,s):n(e)),a!==ee)return a;if(!iu(e))return e;var d=_h(e);if(d){if(a=ko(e),!u)return Hi(e,a)}else{var h=Ld(e),f=h==We||h==Be;if(vh(e))return Ai(e,u);if(h==Ge||h==Re||f&&!i){if(a=c||f?{}:Co(e),!u)return c?Fi(e,Kn(a,e)):Pi(e,Zn(a,e))}else{if(!bn[h])return i?e:{};a=No(e,h,rr,u)}}s||(s=new Mn);var p=s.get(e);if(p)return p;s.set(e,a);var m=l?c?yo:vo:c?qu:Fu,_=d?ee:m(e);return o(_||e,function(r,i){_&&(i=r,r=e[i]),Vn(a,i,rr(r,t,n,i,e,s))}),a}function ir(e){var t=Fu(e);return function(n){return or(n,e,t)}}function or(e,t,n){var r=n.length;if(null==e)return!r;for(e=al(e);r--;){var i=n[r],o=t[i],s=e[i];if(s===ee&&!(i in e)||!o(s))return!1}return!0}function sr(e,t,n){if("function"!=typeof e)throw new ll(re);return Ed(function(){e.apply(ee,n)},t)}function ar(e,t,n,r){var i=-1,o=c,s=!0,a=e.length,u=[],h=t.length;if(!a)return u;n&&(t=d(t,C(n))),r?(o=l,s=!1):t.length>=te&&(o=O,s=!1,t=new wn(t));e:for(;++i<a;){var f=e[i],p=null==n?f:n(f);if(f=r||0!==f?f:0,s&&p===p){for(var m=h;m--;)if(t[m]===p)continue e;u.push(f)}else o(t,p,r)||u.push(f)}return u}function ur(e,t){var n=!0;return pd(e,function(e,r,i){return n=!!t(e,r,i)}),n}function cr(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],s=t(o);if(null!=s&&(a===ee?s===s&&!_u(s):n(s,a)))var a=s,u=o}return u}function lr(e,t,n,r){var i=e.length;for(n=Su(n),n<0&&(n=-n>i?0:i+n),r=r===ee||r>i?i:Su(r),r<0&&(r+=i),r=n>r?0:xu(r);n<r;)e[n++]=t;return e}function dr(e,t){var n=[];return pd(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function hr(e,t,n,r,i){var o=-1,s=e.length;for(n||(n=Io),i||(i=[]);++o<s;){var a=e[o];t>0&&n(a)?t>1?hr(a,t-1,n,r,i):h(i,a):r||(i[i.length]=a)}return i}function fr(e,t){return e&&_d(e,t,Fu)}function pr(e,t){return e&&gd(e,t,Fu)}function mr(e,t){return u(t,function(t){return tu(e[t])})}function _r(e,t){t=xi(t,e);for(var n=0,r=t.length;null!=e&&n<r;)e=e[Ko(t[n++])];return n&&n==r?e:ee}function gr(e,t,n){var r=t(e);return _h(e)?r:h(r,n(e))}function vr(e){return null==e?e===ee?et:$e:Ol&&Ol in al(e)?Lo(e):Jo(e)}function yr(e,t){return e>t}function br(e,t){return null!=e&&_l.call(e,t)}function wr(e,t){return null!=e&&t in al(e)}function Sr(e,t,n){return e>=Jl(t,n)&&e<Ul(t,n)}function xr(e,t,n){for(var r=n?l:c,i=e[0].length,o=e.length,s=o,a=nl(o),u=1/0,h=[];s--;){var f=e[s];s&&t&&(f=d(f,C(t))),u=Jl(f.length,u),a[s]=!n&&(t||i>=120&&f.length>=120)?new wn(s&&f):ee}f=e[0];var p=-1,m=a[0];e:for(;++p<i&&h.length<u;){var _=f[p],g=t?t(_):_;if(_=n||0!==_?_:0,!(m?O(m,g):r(h,g,n))){for(s=o;--s;){var v=a[s];if(!(v?O(v,g):r(e[s],g,n)))continue e}m&&m.push(g),h.push(_)}}return h}function Mr(e,t,n,r){return fr(e,function(e,i,o){t(r,n(e),i,o)}),r}function Ar(e,t,r){t=xi(t,e),e=Go(e,t);var i=null==e?e:e[Ko(ws(t))];return null==i?ee:n(i,e,r)}function Lr(e){return ou(e)&&vr(e)==Re}function Tr(e){return ou(e)&&vr(e)==rt}function Dr(e){return ou(e)&&vr(e)==Fe}function Er(e,t,n,r,i){return e===t||(null==e||null==t||!ou(e)&&!ou(t)?e!==e&&t!==t:kr(e,t,n,r,Er,i))}function kr(e,t,n,r,i,o){var s=_h(e),a=_h(t),u=s?He:Ld(e),c=a?He:Ld(t);u=u==Re?Ge:u,c=c==Re?Ge:c;var l=u==Ge,d=c==Ge,h=u==c;if(h&&vh(e)){if(!vh(t))return!1;s=!0,l=!1}if(h&&!l)return o||(o=new Mn),s||xh(e)?po(e,t,n,r,i,o):mo(e,t,u,n,r,i,o);if(!(n&le)){var f=l&&_l.call(e,"__wrapped__"),p=d&&_l.call(t,"__wrapped__");if(f||p){var m=f?e.value():e,_=p?t.value():t;return o||(o=new Mn),i(m,_,n,r,o)}}return!!h&&(o||(o=new Mn),_o(e,t,n,r,i,o))}function Cr(e){return ou(e)&&Ld(e)==Ue}function Nr(e,t,n,r){var i=n.length,o=i,s=!r;if(null==e)return!o;for(e=al(e);i--;){var a=n[i];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<o;){a=n[i];var u=a[0],c=e[u],l=a[1];if(s&&a[2]){if(c===ee&&!(u in e))return!1}else{var d=new Mn;if(r)var h=r(c,l,u,e,t,d);if(!(h===ee?Er(l,c,le|de,r,d):h))return!1}}return!0}function Or(e){return!(!iu(e)||Fo(e))&&(tu(e)?Sl:zt).test(es(e))}function Ir(e){return ou(e)&&vr(e)==Xe}function Yr(e){return ou(e)&&Ld(e)==Qe}function Rr(e){return ou(e)&&ru(e.length)&&!!yn[vr(e)]}function Hr(e){return"function"==typeof e?e:null==e?kc:"object"==typeof e?_h(e)?Wr(e[0],e[1]):zr(e):jc(e)}function jr(e){if(!qo(e))return Bl(e);var t=[];for(var n in al(e))_l.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Pr(e){if(!iu(e))return Uo(e);var t=qo(e),n=[];for(var r in e)("constructor"!=r||!t&&_l.call(e,r))&&n.push(r);return n}function Fr(e,t){return e<t}function qr(e,t){var n=-1,r=Ja(e)?nl(e.length):[];return pd(e,function(e,i,o){r[++n]=t(e,i,o)}),r}function zr(e){var t=Mo(e);return 1==t.length&&t[0][2]?Wo(t[0][0],t[0][1]):function(n){return n===e||Nr(n,e,t)}}function Wr(e,t){return Ho(e)&&zo(t)?Wo(Ko(e),t):function(n){var r=Hu(n,e);return r===ee&&r===t?Pu(n,e):Er(t,r,le|de)}}function Br(e,t,n,r,i){e!==t&&_d(t,function(o,s){if(iu(o))i||(i=new Mn),Ur(e,t,s,n,Br,r,i);else{var a=r?r(e[s],o,s+"",e,t,i):ee;a===ee&&(a=o),Gn(e,s,a)}},qu)}function Ur(e,t,n,r,i,o,s){var a=e[n],u=t[n],c=s.get(u);if(c)return void Gn(e,n,c);var l=o?o(a,u,n+"",e,t,s):ee,d=l===ee;if(d){var h=_h(u),f=!h&&vh(u),p=!h&&!f&&xh(u);l=u,h||f||p?_h(a)?l=a:$a(a)?l=Hi(a):f?(d=!1,l=Ai(u,!0)):p?(d=!1,l=Ni(u,!0)):l=[]:fu(u)||mh(u)?(l=a,mh(a)?l=Au(a):(!iu(a)||r&&tu(a))&&(l=Co(u))):d=!1}d&&(s.set(u,l),i(l,u,r,o,s),s.delete(u)),Gn(e,n,l)}function Jr(e,t){var n=e.length;if(n)return t+=t<0?n:0,Yo(t,n)?e[t]:ee}function $r(e,t,n){var r=-1;return t=d(t.length?t:[kc],C(So())),T(qr(e,function(e,n,i){return{criteria:d(t,function(t){return t(e)}),index:++r,value:e}}),function(e,t){return Ii(e,t,n)})}function Gr(e,t){return Vr(e,t,function(t,n){return Pu(e,n)})}function Vr(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var s=t[r],a=_r(e,s);n(a,s)&&oi(o,xi(s,e),a)}return o}function Xr(e){return function(t){return _r(t,e)}}function Qr(e,t,n,r){var i=r?w:b,o=-1,s=t.length,a=e;for(e===t&&(t=Hi(t)),n&&(a=d(e,C(n)));++o<s;)for(var u=0,c=t[o],l=n?n(c):c;(u=i(a,l,u,r))>-1;)a!==e&&kl.call(a,u,1),kl.call(e,u,1);return e}function Zr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;Yo(i)?kl.call(e,i,1):mi(e,i)}}return e}function Kr(e,t){return e+Pl(Vl()*(t-e+1))}function ei(e,t,n,r){for(var i=-1,o=Ul(jl((t-e)/(n||1)),0),s=nl(o);o--;)s[r?o:++i]=e,e+=n;return s}function ti(e,t){var n="";if(!e||t<1||t>Ee)return n;do{t%2&&(n+=e),(t=Pl(t/2))&&(e+=e)}while(t);return n}function ni(e,t){return kd($o(e,t,kc),e+"")}function ri(e){return qn(Ku(e))}function ii(e,t){var n=Ku(e);return Zo(n,nr(t,0,n.length))}function oi(e,t,n,r){if(!iu(e))return e;t=xi(t,e);for(var i=-1,o=t.length,s=o-1,a=e;null!=a&&++i<o;){var u=Ko(t[i]),c=n;if(i!=s){var l=a[u];c=r?r(l,u,a):ee,c===ee&&(c=iu(l)?l:Yo(t[i+1])?[]:{})}Vn(a,u,c),a=a[u]}return e}function si(e){return Zo(Ku(e))}function ai(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=nl(i);++r<i;)o[r]=e[r+t];return o}function ui(e,t){var n;return pd(e,function(e,r,i){return!(n=t(e,r,i))}),!!n}function ci(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t===t&&i<=Ie){for(;r<i;){var o=r+i>>>1,s=e[o];null!==s&&!_u(s)&&(n?s<=t:s<t)?r=o+1:i=o}return i}return li(e,t,kc,n)}function li(e,t,n,r){t=n(t);for(var i=0,o=null==e?0:e.length,s=t!==t,a=null===t,u=_u(t),c=t===ee;i<o;){var l=Pl((i+o)/2),d=n(e[l]),h=d!==ee,f=null===d,p=d===d,m=_u(d);if(s)var _=r||p;else _=c?p&&(r||h):a?p&&h&&(r||!f):u?p&&h&&!f&&(r||!m):!f&&!m&&(r?d<=t:d<t);_?i=l+1:o=l}return Jl(o,Oe)}function di(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n],a=t?t(s):s;if(!n||!Ua(a,u)){var u=a;o[i++]=0===s?0:s}}return o}function hi(e){return"number"==typeof e?e:_u(e)?Ce:+e}function fi(e){if("string"==typeof e)return e;if(_h(e))return d(e,fi)+"";if(_u(e))return hd?hd.call(e):"";var t=e+"";return"0"==t&&1/e==-De?"-0":t}function pi(e,t,n){var r=-1,i=c,o=e.length,s=!0,a=[],u=a;if(n)s=!1,i=l;else if(o>=te){var d=t?null:Sd(e);if(d)return U(d);s=!1,i=O,u=new wn}else u=t?[]:a;e:for(;++r<o;){var h=e[r],f=t?t(h):h;if(h=n||0!==h?h:0,s&&f===f){for(var p=u.length;p--;)if(u[p]===f)continue e;t&&u.push(f),a.push(h)}else i(u,f,n)||(u!==a&&u.push(f),a.push(h))}return a}function mi(e,t){return t=xi(t,e),null==(e=Go(e,t))||delete e[Ko(ws(t))]}function _i(e,t,n,r){return oi(e,t,n(_r(e,t)),r)}function gi(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?ai(e,r?0:o,r?o+1:i):ai(e,r?o+1:0,r?i:o)}function vi(e,t){var n=e;return n instanceof Z&&(n=n.value()),f(t,function(e,t){return t.func.apply(t.thisArg,h([e],t.args))},n)}function yi(e,t,n){var r=e.length;if(r<2)return r?pi(e[0]):[];for(var i=-1,o=nl(r);++i<r;)for(var s=e[i],a=-1;++a<r;)a!=i&&(o[i]=ar(o[i]||s,e[a],t,n));return pi(hr(o,1),t,n)}function bi(e,t,n){for(var r=-1,i=e.length,o=t.length,s={};++r<i;){var a=r<o?t[r]:ee;n(s,e[r],a)}return s}function wi(e){return $a(e)?e:[]}function Si(e){return"function"==typeof e?e:kc}function xi(e,t){return _h(e)?e:Ho(e,t)?[e]:Cd(Tu(e))}function Mi(e,t,n){var r=e.length;return n=n===ee?r:n,!t&&n>=r?e:ai(e,t,n)}function Ai(e,t){if(t)return e.slice();var n=e.length,r=Ll?Ll(n):new e.constructor(n);return e.copy(r),r}function Li(e){var t=new e.constructor(e.byteLength);return new Al(t).set(new Al(e)),t}function Ti(e,t){var n=t?Li(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function Di(t,n,r){return f(n?r(z(t),ae):z(t),e,new t.constructor)}function Ei(e){var t=new e.constructor(e.source,Pt.exec(e));return t.lastIndex=e.lastIndex,t}function ki(e,n,r){return f(n?r(U(e),ae):U(e),t,new e.constructor)}function Ci(e){return dd?al(dd.call(e)):{}}function Ni(e,t){var n=t?Li(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Oi(e,t){if(e!==t){var n=e!==ee,r=null===e,i=e===e,o=_u(e),s=t!==ee,a=null===t,u=t===t,c=_u(t);if(!a&&!c&&!o&&e>t||o&&s&&u&&!a&&!c||r&&s&&u||!n&&u||!i)return 1;if(!r&&!o&&!c&&e<t||c&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!u)return-1}return 0}function Ii(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,s=i.length,a=n.length;++r<s;){var u=Oi(i[r],o[r]);if(u){if(r>=a)return u;return u*("desc"==n[r]?-1:1)}}return e.index-t.index}function Yi(e,t,n,r){for(var i=-1,o=e.length,s=n.length,a=-1,u=t.length,c=Ul(o-s,0),l=nl(u+c),d=!r;++a<u;)l[a]=t[a];for(;++i<s;)(d||i<o)&&(l[n[i]]=e[i]);for(;c--;)l[a++]=e[i++];return l}function Ri(e,t,n,r){for(var i=-1,o=e.length,s=-1,a=n.length,u=-1,c=t.length,l=Ul(o-a,0),d=nl(l+c),h=!r;++i<l;)d[i]=e[i];for(var f=i;++u<c;)d[f+u]=t[u];for(;++s<a;)(h||i<o)&&(d[f+n[s]]=e[i++]);return d}function Hi(e,t){var n=-1,r=e.length;for(t||(t=nl(r));++n<r;)t[n]=e[n];return t}function ji(e,t,n,r){var i=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var a=t[o],u=r?r(n[a],e[a],a,n,e):ee;u===ee&&(u=e[a]),i?er(n,a,u):Vn(n,a,u)}return n}function Pi(e,t){return ji(e,Md(e),t)}function Fi(e,t){return ji(e,Ad(e),t)}function qi(e,t){return function(n,i){var o=_h(n)?r:Qn,s=t?t():{};return o(n,e,So(i,2),s)}}function zi(e){return ni(function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:ee,s=i>2?n[2]:ee;for(o=e.length>3&&"function"==typeof o?(i--,o):ee,s&&Ro(n[0],n[1],s)&&(o=i<3?ee:o,i=1),t=al(t);++r<i;){var a=n[r];a&&e(t,a,r,o)}return t})}function Wi(e,t){return function(n,r){if(null==n)return n;if(!Ja(n))return e(n,r);for(var i=n.length,o=t?i:-1,s=al(n);(t?o--:++o<i)&&!1!==r(s[o],o,s););return n}}function Bi(e){return function(t,n,r){for(var i=-1,o=al(t),s=r(t),a=s.length;a--;){var u=s[e?a:++i];if(!1===n(o[u],u,o))break}return t}}function Ui(e,t,n){function r(){return(this&&this!==En&&this instanceof r?o:e).apply(i?n:this,arguments)}var i=t&he,o=Gi(e);return r}function Ji(e){return function(t){t=Tu(t);var n=P(t)?X(t):ee,r=n?n[0]:t.charAt(0),i=n?Mi(n,1).join(""):t.slice(1);return r[e]()+i}}function $i(e){return function(t){return f(Ac(oc(t).replace(dn,"")),e,"")}}function Gi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=fd(e.prototype),r=e.apply(n,t);return iu(r)?r:n}}function Vi(e,t,r){function i(){for(var s=arguments.length,a=nl(s),u=s,c=wo(i);u--;)a[u]=arguments[u];var l=s<3&&a[0]!==c&&a[s-1]!==c?[]:B(a,c);return(s-=l.length)<r?so(e,t,Zi,i.placeholder,ee,a,l,ee,ee,r-s):n(this&&this!==En&&this instanceof i?o:e,this,a)}var o=Gi(e);return i}function Xi(e){return function(t,n,r){var i=al(t);if(!Ja(t)){var o=So(n,3);t=Fu(t),n=function(e){return o(i[e],e,i)}}var s=e(t,n,r);return s>-1?i[o?t[s]:s]:ee}}function Qi(e){return go(function(t){var n=t.length,r=n,i=Q.prototype.thru;for(e&&t.reverse();r--;){var o=t[r];if("function"!=typeof o)throw new ll(re);if(i&&!s&&"wrapper"==bo(o))var s=new Q([],!0)}for(r=s?r:n;++r<n;){o=t[r];var a=bo(o),u="wrapper"==a?xd(o):ee;s=u&&Po(u[0])&&u[1]==(ye|me|ge|be)&&!u[4].length&&1==u[9]?s[bo(u[0])].apply(s,u[3]):1==o.length&&Po(o)?s[a]():s.thru(o)}return function(){var e=arguments,r=e[0];if(s&&1==e.length&&_h(r))return s.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}})}function Zi(e,t,n,r,i,o,s,a,u,c){function l(){for(var g=arguments.length,v=nl(g),y=g;y--;)v[y]=arguments[y];if(p)var b=wo(l),w=R(v,b);if(r&&(v=Yi(v,r,i,p)),o&&(v=Ri(v,o,s,p)),g-=w,p&&g<c){var S=B(v,b);return so(e,t,Zi,l.placeholder,n,v,S,a,u,c-g)}var x=h?n:this,M=f?x[e]:e;return g=v.length,a?v=Vo(v,a):m&&g>1&&v.reverse(),d&&u<g&&(v.length=u),this&&this!==En&&this instanceof l&&(M=_||Gi(M)),M.apply(x,v)}var d=t&ye,h=t&he,f=t&fe,p=t&(me|_e),m=t&we,_=f?ee:Gi(e);return l}function Ki(e,t){return function(n,r){return Mr(n,e,t(r),{})}}function eo(e,t){return function(n,r){var i;if(n===ee&&r===ee)return t;if(n!==ee&&(i=n),r!==ee){if(i===ee)return r;"string"==typeof n||"string"==typeof r?(n=fi(n),r=fi(r)):(n=hi(n),r=hi(r)),i=e(n,r)}return i}}function to(e){return go(function(t){return t=d(t,C(So())),ni(function(r){var i=this;return e(t,function(e){return n(e,i,r)})})})}function no(e,t){t=t===ee?" ":fi(t);var n=t.length;if(n<2)return n?ti(t,e):t;var r=ti(t,jl(e/V(t)));return P(t)?Mi(X(r),0,e).join(""):r.slice(0,e)}function ro(e,t,r,i){function o(){for(var t=-1,u=arguments.length,c=-1,l=i.length,d=nl(l+u),h=this&&this!==En&&this instanceof o?a:e;++c<l;)d[c]=i[c];for(;u--;)d[c++]=arguments[++t];return n(h,s?r:this,d)}var s=t&he,a=Gi(e);return o}function io(e){return function(t,n,r){return r&&"number"!=typeof r&&Ro(t,n,r)&&(n=r=ee),t=wu(t),n===ee?(n=t,t=0):n=wu(n),r=r===ee?t<n?1:-1:wu(r),ei(t,n,r,e)}}function oo(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=Mu(t),n=Mu(n)),e(t,n)}}function so(e,t,n,r,i,o,s,a,u,c){var l=t&me,d=l?s:ee,h=l?ee:s,f=l?o:ee,p=l?ee:o;t|=l?ge:ve,(t&=~(l?ve:ge))&pe||(t&=~(he|fe));var m=[e,t,i,f,d,p,h,a,u,c],_=n.apply(ee,m);return Po(e)&&Dd(_,m),_.placeholder=r,Xo(_,e,t)}function ao(e){var t=sl[e];return function(e,n){if(e=Mu(e),n=null==n?0:Jl(Su(n),292)){var r=(Tu(e)+"e").split("e");return r=(Tu(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return t(e)}}function uo(e){return function(t){var n=Ld(t);return n==Ue?z(t):n==Qe?J(t):k(t,e(t))}}function co(e,t,n,r,i,o,s,a){var u=t&fe;if(!u&&"function"!=typeof e)throw new ll(re);var c=r?r.length:0;if(c||(t&=~(ge|ve),r=i=ee),s=s===ee?s:Ul(Su(s),0),a=a===ee?a:Su(a),c-=i?i.length:0,t&ve){var l=r,d=i;r=i=ee}var h=u?ee:xd(e),f=[e,t,n,r,i,l,d,o,s,a];if(h&&Bo(f,h),e=f[0],t=f[1],n=f[2],r=f[3],i=f[4],a=f[9]=f[9]===ee?u?0:e.length:Ul(f[9]-c,0),!a&&t&(me|_e)&&(t&=~(me|_e)),t&&t!=he)p=t==me||t==_e?Vi(e,t,a):t!=ge&&t!=(he|ge)||i.length?Zi.apply(ee,f):ro(e,t,n,r);else var p=Ui(e,t,n);return Xo((h?vd:Dd)(p,f),e,t)}function lo(e,t,n,r){return e===ee||Ua(e,fl[n])&&!_l.call(r,n)?t:e}function ho(e,t,n,r,i,o){return iu(e)&&iu(t)&&(o.set(t,e),Br(e,t,ee,ho,o),o.delete(t)),e}function fo(e){return fu(e)?ee:e}function po(e,t,n,r,i,o){var s=n&le,a=e.length,u=t.length;if(a!=u&&!(s&&u>a))return!1;var c=o.get(e);if(c&&o.get(t))return c==t;var l=-1,d=!0,h=n&de?new wn:ee;for(o.set(e,t),o.set(t,e);++l<a;){var f=e[l],p=t[l];if(r)var _=s?r(p,f,l,t,e,o):r(f,p,l,e,t,o);if(_!==ee){if(_)continue;d=!1;break}if(h){if(!m(t,function(e,t){if(!O(h,t)&&(f===e||i(f,e,n,r,o)))return h.push(t)})){d=!1;break}}else if(f!==p&&!i(f,p,n,r,o)){d=!1;break}}return o.delete(e),o.delete(t),d}function mo(e,t,n,r,i,o,s){switch(n){case it:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case rt:return!(e.byteLength!=t.byteLength||!o(new Al(e),new Al(t)));case Pe:case Fe:case Je:return Ua(+e,+t);case ze:return e.name==t.name&&e.message==t.message;case Xe:case Ze:return e==t+"";case Ue:var a=z;case Qe:var u=r&le;if(a||(a=U),e.size!=t.size&&!u)return!1;var c=s.get(e);if(c)return c==t;r|=de,s.set(e,t);var l=po(a(e),a(t),r,i,o,s);return s.delete(e),l;case Ke:if(dd)return dd.call(e)==dd.call(t)}return!1}function _o(e,t,n,r,i,o){var s=n&le,a=vo(e),u=a.length;if(u!=vo(t).length&&!s)return!1;for(var c=u;c--;){var l=a[c];if(!(s?l in t:_l.call(t,l)))return!1}var d=o.get(e);if(d&&o.get(t))return d==t;var h=!0;o.set(e,t),o.set(t,e);for(var f=s;++c<u;){l=a[c];var p=e[l],m=t[l];if(r)var _=s?r(m,p,l,t,e,o):r(p,m,l,e,t,o);if(!(_===ee?p===m||i(p,m,n,r,o):_)){h=!1;break}f||(f="constructor"==l)}if(h&&!f){var g=e.constructor,v=t.constructor;g!=v&&"constructor"in e&&"constructor"in t&&!("function"==typeof g&&g instanceof g&&"function"==typeof v&&v instanceof v)&&(h=!1)}return o.delete(e),o.delete(t),h}function go(e){return kd($o(e,ee,fs),e+"")}function vo(e){return gr(e,Fu,Md)}function yo(e){return gr(e,qu,Ad)}function bo(e){for(var t=e.name+"",n=id[t],r=_l.call(id,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function wo(e){return(_l.call(A,"placeholder")?A:e).placeholder}function So(){var e=A.iteratee||Cc;return e=e===Cc?Hr:e,arguments.length?e(arguments[0],arguments[1]):e}function xo(e,t){var n=e.__data__;return jo(t)?n["string"==typeof t?"string":"hash"]:n.map}function Mo(e){for(var t=Fu(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,zo(i)]}return t}function Ao(e,t){var n=j(e,t);return Or(n)?n:ee}function Lo(e){var t=_l.call(e,Ol),n=e[Ol];try{e[Ol]=ee;var r=!0}catch(e){}var i=yl.call(e);return r&&(t?e[Ol]=n:delete e[Ol]),i}function To(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=Jl(t,e+s);break;case"takeRight":e=Ul(e,t-s)}}return{start:e,end:t}}function Do(e){var t=e.match(It);return t?t[1].split(Yt):[]}function Eo(e,t,n){t=xi(t,e);for(var r=-1,i=t.length,o=!1;++r<i;){var s=Ko(t[r]);if(!(o=null!=e&&n(e,s)))break;e=e[s]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&ru(i)&&Yo(s,i)&&(_h(e)||mh(e))}function ko(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&_l.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Co(e){return"function"!=typeof e.constructor||qo(e)?{}:fd(Tl(e))}function No(e,t,n,r){var i=e.constructor;switch(t){case rt:return Li(e);case Pe:case Fe:return new i(+e);case it:return Ti(e,r);case ot:case st:case at:case ut:case ct:case lt:case dt:case ht:case ft:return Ni(e,r);case Ue:return Di(e,r,n);case Je:case Ze:return new i(e);case Xe:return Ei(e);case Qe:return ki(e,r,n);case Ke:return Ci(e)}}function Oo(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(Ot,"{\n/* [wrapped with "+t+"] */\n")}function Io(e){
return _h(e)||mh(e)||!!(Cl&&e&&e[Cl])}function Yo(e,t){return!!(t=null==t?Ee:t)&&("number"==typeof e||Bt.test(e))&&e>-1&&e%1==0&&e<t}function Ro(e,t,n){if(!iu(n))return!1;var r=typeof t;return!!("number"==r?Ja(n)&&Yo(t,n.length):"string"==r&&t in n)&&Ua(n[t],e)}function Ho(e,t){if(_h(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!_u(e))||(At.test(e)||!Mt.test(e)||null!=t&&e in al(t))}function jo(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function Po(e){var t=bo(e),n=A[t];if("function"!=typeof n||!(t in Z.prototype))return!1;if(e===n)return!0;var r=xd(n);return!!r&&e===r[0]}function Fo(e){return!!vl&&vl in e}function qo(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||fl)}function zo(e){return e===e&&!iu(e)}function Wo(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==ee||e in al(n)))}}function Bo(e,t){var n=e[1],r=t[1],i=n|r,o=i<(he|fe|ye),s=r==ye&&n==me||r==ye&&n==be&&e[7].length<=t[8]||r==(ye|be)&&t[7].length<=t[8]&&n==me;if(!o&&!s)return e;r&he&&(e[2]=t[2],i|=n&he?0:pe);var a=t[3];if(a){var u=e[3];e[3]=u?Yi(u,a,t[4]):a,e[4]=u?B(e[3],se):t[4]}return a=t[5],a&&(u=e[5],e[5]=u?Ri(u,a,t[6]):a,e[6]=u?B(e[5],se):t[6]),a=t[7],a&&(e[7]=a),r&ye&&(e[8]=null==e[8]?t[8]:Jl(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e}function Uo(e){var t=[];if(null!=e)for(var n in al(e))t.push(n);return t}function Jo(e){return yl.call(e)}function $o(e,t,r){return t=Ul(t===ee?e.length-1:t,0),function(){for(var i=arguments,o=-1,s=Ul(i.length-t,0),a=nl(s);++o<s;)a[o]=i[t+o];o=-1;for(var u=nl(t+1);++o<t;)u[o]=i[o];return u[t]=r(a),n(e,this,u)}}function Go(e,t){return t.length<2?e:_r(e,ai(t,0,-1))}function Vo(e,t){for(var n=e.length,r=Jl(t.length,n),i=Hi(e);r--;){var o=t[r];e[r]=Yo(o,n)?i[o]:ee}return e}function Xo(e,t,n){var r=t+"";return kd(e,Oo(r,ts(Do(r),n)))}function Qo(e){var t=0,n=0;return function(){var r=$l(),i=Ae-(r-n);if(n=r,i>0){if(++t>=Me)return arguments[0]}else t=0;return e.apply(ee,arguments)}}function Zo(e,t){var n=-1,r=e.length,i=r-1;for(t=t===ee?r:t;++n<t;){var o=Kr(n,i),s=e[o];e[o]=e[n],e[n]=s}return e.length=t,e}function Ko(e){if("string"==typeof e||_u(e))return e;var t=e+"";return"0"==t&&1/e==-De?"-0":t}function es(e){if(null!=e){try{return ml.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function ts(e,t){return o(Ye,function(n){var r="_."+n[0];t&n[1]&&!c(e,r)&&e.push(r)}),e.sort()}function ns(e){if(e instanceof Z)return e.clone();var t=new Q(e.__wrapped__,e.__chain__);return t.__actions__=Hi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function rs(e,t,n){t=(n?Ro(e,t,n):t===ee)?1:Ul(Su(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var i=0,o=0,s=nl(jl(r/t));i<r;)s[o++]=ai(e,i,i+=t);return s}function is(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i}function os(){var e=arguments.length;if(!e)return[];for(var t=nl(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return h(_h(n)?Hi(n):[n],hr(t,1))}function ss(e,t,n){var r=null==e?0:e.length;return r?(t=n||t===ee?1:Su(t),ai(e,t<0?0:t,r)):[]}function as(e,t,n){var r=null==e?0:e.length;return r?(t=n||t===ee?1:Su(t),t=r-t,ai(e,0,t<0?0:t)):[]}function us(e,t){return e&&e.length?gi(e,So(t,3),!0,!0):[]}function cs(e,t){return e&&e.length?gi(e,So(t,3),!0):[]}function ls(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&Ro(e,t,n)&&(n=0,r=i),lr(e,t,n,r)):[]}function ds(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:Su(n);return i<0&&(i=Ul(r+i,0)),y(e,So(t,3),i)}function hs(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return n!==ee&&(i=Su(n),i=n<0?Ul(r+i,0):Jl(i,r-1)),y(e,So(t,3),i,!0)}function fs(e){return(null==e?0:e.length)?hr(e,1):[]}function ps(e){return(null==e?0:e.length)?hr(e,De):[]}function ms(e,t){return(null==e?0:e.length)?(t=t===ee?1:Su(t),hr(e,t)):[]}function _s(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r}function gs(e){return e&&e.length?e[0]:ee}function vs(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:Su(n);return i<0&&(i=Ul(r+i,0)),b(e,t,i)}function ys(e){return(null==e?0:e.length)?ai(e,0,-1):[]}function bs(e,t){return null==e?"":Wl.call(e,t)}function ws(e){var t=null==e?0:e.length;return t?e[t-1]:ee}function Ss(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return n!==ee&&(i=Su(n),i=i<0?Ul(r+i,0):Jl(i,r-1)),t===t?G(e,t,i):y(e,S,i,!0)}function xs(e,t){return e&&e.length?Jr(e,Su(t)):ee}function Ms(e,t){return e&&e.length&&t&&t.length?Qr(e,t):e}function As(e,t,n){return e&&e.length&&t&&t.length?Qr(e,t,So(n,2)):e}function Ls(e,t,n){return e&&e.length&&t&&t.length?Qr(e,t,ee,n):e}function Ts(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=So(t,3);++r<o;){var s=e[r];t(s,r,e)&&(n.push(s),i.push(r))}return Zr(e,i),n}function Ds(e){return null==e?e:Xl.call(e)}function Es(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&Ro(e,t,n)?(t=0,n=r):(t=null==t?0:Su(t),n=n===ee?r:Su(n)),ai(e,t,n)):[]}function ks(e,t){return ci(e,t)}function Cs(e,t,n){return li(e,t,So(n,2))}function Ns(e,t){var n=null==e?0:e.length;if(n){var r=ci(e,t);if(r<n&&Ua(e[r],t))return r}return-1}function Os(e,t){return ci(e,t,!0)}function Is(e,t,n){return li(e,t,So(n,2),!0)}function Ys(e,t){if(null==e?0:e.length){var n=ci(e,t,!0)-1;if(Ua(e[n],t))return n}return-1}function Rs(e){return e&&e.length?di(e):[]}function Hs(e,t){return e&&e.length?di(e,So(t,2)):[]}function js(e){var t=null==e?0:e.length;return t?ai(e,1,t):[]}function Ps(e,t,n){return e&&e.length?(t=n||t===ee?1:Su(t),ai(e,0,t<0?0:t)):[]}function Fs(e,t,n){var r=null==e?0:e.length;return r?(t=n||t===ee?1:Su(t),t=r-t,ai(e,t<0?0:t,r)):[]}function qs(e,t){return e&&e.length?gi(e,So(t,3),!1,!0):[]}function zs(e,t){return e&&e.length?gi(e,So(t,3)):[]}function Ws(e){return e&&e.length?pi(e):[]}function Bs(e,t){return e&&e.length?pi(e,So(t,2)):[]}function Us(e,t){return t="function"==typeof t?t:ee,e&&e.length?pi(e,ee,t):[]}function Js(e){if(!e||!e.length)return[];var t=0;return e=u(e,function(e){if($a(e))return t=Ul(e.length,t),!0}),E(t,function(t){return d(e,M(t))})}function $s(e,t){if(!e||!e.length)return[];var r=Js(e);return null==t?r:d(r,function(e){return n(t,ee,e)})}function Gs(e,t){return bi(e||[],t||[],Vn)}function Vs(e,t){return bi(e||[],t||[],oi)}function Xs(e){var t=A(e);return t.__chain__=!0,t}function Qs(e,t){return t(e),e}function Zs(e,t){return t(e)}function Ks(){return Xs(this)}function ea(){return new Q(this.value(),this.__chain__)}function ta(){this.__values__===ee&&(this.__values__=bu(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?ee:this.__values__[this.__index__++]}}function na(){return this}function ra(e){for(var t,n=this;n instanceof $;){var r=ns(n);r.__index__=0,r.__values__=ee,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t}function ia(){var e=this.__wrapped__;if(e instanceof Z){var t=e;return this.__actions__.length&&(t=new Z(this)),t=t.reverse(),t.__actions__.push({func:Zs,args:[Ds],thisArg:ee}),new Q(t,this.__chain__)}return this.thru(Ds)}function oa(){return vi(this.__wrapped__,this.__actions__)}function sa(e,t,n){var r=_h(e)?a:ur;return n&&Ro(e,t,n)&&(t=ee),r(e,So(t,3))}function aa(e,t){return(_h(e)?u:dr)(e,So(t,3))}function ua(e,t){return hr(pa(e,t),1)}function ca(e,t){return hr(pa(e,t),De)}function la(e,t,n){return n=n===ee?1:Su(n),hr(pa(e,t),n)}function da(e,t){return(_h(e)?o:pd)(e,So(t,3))}function ha(e,t){return(_h(e)?s:md)(e,So(t,3))}function fa(e,t,n,r){e=Ja(e)?e:Ku(e),n=n&&!r?Su(n):0;var i=e.length;return n<0&&(n=Ul(i+n,0)),mu(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&b(e,t,n)>-1}function pa(e,t){return(_h(e)?d:qr)(e,So(t,3))}function ma(e,t,n,r){return null==e?[]:(_h(t)||(t=null==t?[]:[t]),n=r?ee:n,_h(n)||(n=null==n?[]:[n]),$r(e,t,n))}function _a(e,t,n){var r=_h(e)?f:L,i=arguments.length<3;return r(e,So(t,4),n,i,pd)}function ga(e,t,n){var r=_h(e)?p:L,i=arguments.length<3;return r(e,So(t,4),n,i,md)}function va(e,t){return(_h(e)?u:dr)(e,Na(So(t,3)))}function ya(e){return(_h(e)?qn:ri)(e)}function ba(e,t,n){return t=(n?Ro(e,t,n):t===ee)?1:Su(t),(_h(e)?Jn:ii)(e,t)}function wa(e){return(_h(e)?$n:si)(e)}function Sa(e){if(null==e)return 0;if(Ja(e))return mu(e)?V(e):e.length;var t=Ld(e);return t==Ue||t==Qe?e.size:jr(e).length}function xa(e,t,n){var r=_h(e)?m:ui;return n&&Ro(e,t,n)&&(t=ee),r(e,So(t,3))}function Ma(e,t){if("function"!=typeof t)throw new ll(re);return e=Su(e),function(){if(--e<1)return t.apply(this,arguments)}}function Aa(e,t,n){return t=n?ee:t,t=e&&null==t?e.length:t,co(e,ye,ee,ee,ee,ee,t)}function La(e,t){var n;if("function"!=typeof t)throw new ll(re);return e=Su(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=ee),n}}function Ta(e,t,n){t=n?ee:t;var r=co(e,me,ee,ee,ee,ee,ee,t);return r.placeholder=Ta.placeholder,r}function Da(e,t,n){t=n?ee:t;var r=co(e,_e,ee,ee,ee,ee,ee,t);return r.placeholder=Da.placeholder,r}function Ea(e,t,n){function r(t){var n=h,r=f;return h=f=ee,v=t,m=e.apply(r,n)}function i(e){return v=e,_=Ed(a,t),y?r(e):m}function o(e){var n=e-g,r=e-v,i=t-n;return b?Jl(i,p-r):i}function s(e){var n=e-g,r=e-v;return g===ee||n>=t||n<0||b&&r>=p}function a(){var e=ih();if(s(e))return u(e);_=Ed(a,o(e))}function u(e){return _=ee,w&&h?r(e):(h=f=ee,m)}function c(){_!==ee&&wd(_),v=0,h=g=f=_=ee}function l(){return _===ee?m:u(ih())}function d(){var e=ih(),n=s(e);if(h=arguments,f=this,g=e,n){if(_===ee)return i(g);if(b)return _=Ed(a,t),r(g)}return _===ee&&(_=Ed(a,t)),m}var h,f,p,m,_,g,v=0,y=!1,b=!1,w=!0;if("function"!=typeof e)throw new ll(re);return t=Mu(t)||0,iu(n)&&(y=!!n.leading,b="maxWait"in n,p=b?Ul(Mu(n.maxWait)||0,t):p,w="trailing"in n?!!n.trailing:w),d.cancel=c,d.flush=l,d}function ka(e){return co(e,we)}function Ca(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new ll(re);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(Ca.Cache||cn),n}function Na(e){if("function"!=typeof e)throw new ll(re);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Oa(e){return La(2,e)}function Ia(e,t){if("function"!=typeof e)throw new ll(re);return t=t===ee?t:Su(t),ni(e,t)}function Ya(e,t){if("function"!=typeof e)throw new ll(re);return t=null==t?0:Ul(Su(t),0),ni(function(r){var i=r[t],o=Mi(r,0,t);return i&&h(o,i),n(e,this,o)})}function Ra(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new ll(re);return iu(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Ea(e,t,{leading:r,maxWait:t,trailing:i})}function Ha(e){return Aa(e,1)}function ja(e,t){return lh(Si(t),e)}function Pa(){if(!arguments.length)return[];var e=arguments[0];return _h(e)?e:[e]}function Fa(e){return rr(e,ce)}function qa(e,t){return t="function"==typeof t?t:ee,rr(e,ce,t)}function za(e){return rr(e,ae|ce)}function Wa(e,t){return t="function"==typeof t?t:ee,rr(e,ae|ce,t)}function Ba(e,t){return null==t||or(e,t,Fu(t))}function Ua(e,t){return e===t||e!==e&&t!==t}function Ja(e){return null!=e&&ru(e.length)&&!tu(e)}function $a(e){return ou(e)&&Ja(e)}function Ga(e){return!0===e||!1===e||ou(e)&&vr(e)==Pe}function Va(e){return ou(e)&&1===e.nodeType&&!fu(e)}function Xa(e){if(null==e)return!0;if(Ja(e)&&(_h(e)||"string"==typeof e||"function"==typeof e.splice||vh(e)||xh(e)||mh(e)))return!e.length;var t=Ld(e);if(t==Ue||t==Qe)return!e.size;if(qo(e))return!jr(e).length;for(var n in e)if(_l.call(e,n))return!1;return!0}function Qa(e,t){return Er(e,t)}function Za(e,t,n){n="function"==typeof n?n:ee;var r=n?n(e,t):ee;return r===ee?Er(e,t,ee,n):!!r}function Ka(e){if(!ou(e))return!1;var t=vr(e);return t==ze||t==qe||"string"==typeof e.message&&"string"==typeof e.name&&!fu(e)}function eu(e){return"number"==typeof e&&zl(e)}function tu(e){if(!iu(e))return!1;var t=vr(e);return t==We||t==Be||t==je||t==Ve}function nu(e){return"number"==typeof e&&e==Su(e)}function ru(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Ee}function iu(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ou(e){return null!=e&&"object"==typeof e}function su(e,t){return e===t||Nr(e,t,Mo(t))}function au(e,t,n){return n="function"==typeof n?n:ee,Nr(e,t,Mo(t),n)}function uu(e){return hu(e)&&e!=+e}function cu(e){if(Td(e))throw new il(ne);return Or(e)}function lu(e){return null===e}function du(e){return null==e}function hu(e){return"number"==typeof e||ou(e)&&vr(e)==Je}function fu(e){if(!ou(e)||vr(e)!=Ge)return!1;var t=Tl(e);if(null===t)return!0;var n=_l.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&ml.call(n)==bl}function pu(e){return nu(e)&&e>=-Ee&&e<=Ee}function mu(e){return"string"==typeof e||!_h(e)&&ou(e)&&vr(e)==Ze}function _u(e){return"symbol"==typeof e||ou(e)&&vr(e)==Ke}function gu(e){return e===ee}function vu(e){return ou(e)&&Ld(e)==tt}function yu(e){return ou(e)&&vr(e)==nt}function bu(e){if(!e)return[];if(Ja(e))return mu(e)?X(e):Hi(e);if(Nl&&e[Nl])return q(e[Nl]());var t=Ld(e);return(t==Ue?z:t==Qe?U:Ku)(e)}function wu(e){if(!e)return 0===e?e:0;if((e=Mu(e))===De||e===-De){return(e<0?-1:1)*ke}return e===e?e:0}function Su(e){var t=wu(e),n=t%1;return t===t?n?t-n:t:0}function xu(e){return e?nr(Su(e),0,Ne):0}function Mu(e){if("number"==typeof e)return e;if(_u(e))return Ce;if(iu(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=iu(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(kt,"");var n=qt.test(e);return n||Wt.test(e)?Ln(e.slice(2),n?2:8):Ft.test(e)?Ce:+e}function Au(e){return ji(e,qu(e))}function Lu(e){return e?nr(Su(e),-Ee,Ee):0===e?e:0}function Tu(e){return null==e?"":fi(e)}function Du(e,t){var n=fd(e);return null==t?n:Zn(n,t)}function Eu(e,t){return v(e,So(t,3),fr)}function ku(e,t){return v(e,So(t,3),pr)}function Cu(e,t){return null==e?e:_d(e,So(t,3),qu)}function Nu(e,t){return null==e?e:gd(e,So(t,3),qu)}function Ou(e,t){return e&&fr(e,So(t,3))}function Iu(e,t){return e&&pr(e,So(t,3))}function Yu(e){return null==e?[]:mr(e,Fu(e))}function Ru(e){return null==e?[]:mr(e,qu(e))}function Hu(e,t,n){var r=null==e?ee:_r(e,t);return r===ee?n:r}function ju(e,t){return null!=e&&Eo(e,t,br)}function Pu(e,t){return null!=e&&Eo(e,t,wr)}function Fu(e){return Ja(e)?In(e):jr(e)}function qu(e){return Ja(e)?In(e,!0):Pr(e)}function zu(e,t){var n={};return t=So(t,3),fr(e,function(e,r,i){er(n,t(e,r,i),e)}),n}function Wu(e,t){var n={};return t=So(t,3),fr(e,function(e,r,i){er(n,r,t(e,r,i))}),n}function Bu(e,t){return Uu(e,Na(So(t)))}function Uu(e,t){if(null==e)return{};var n=d(yo(e),function(e){return[e]});return t=So(t),Vr(e,n,function(e,n){return t(e,n[0])})}function Ju(e,t,n){t=xi(t,e);var r=-1,i=t.length;for(i||(i=1,e=ee);++r<i;){var o=null==e?ee:e[Ko(t[r])];o===ee&&(r=i,o=n),e=tu(o)?o.call(e):o}return e}function $u(e,t,n){return null==e?e:oi(e,t,n)}function Gu(e,t,n,r){return r="function"==typeof r?r:ee,null==e?e:oi(e,t,n,r)}function Vu(e,t,n){var r=_h(e),i=r||vh(e)||xh(e);if(t=So(t,4),null==n){var s=e&&e.constructor;n=i?r?new s:[]:iu(e)&&tu(s)?fd(Tl(e)):{}}return(i?o:fr)(e,function(e,r,i){return t(n,e,r,i)}),n}function Xu(e,t){return null==e||mi(e,t)}function Qu(e,t,n){return null==e?e:_i(e,t,Si(n))}function Zu(e,t,n,r){return r="function"==typeof r?r:ee,null==e?e:_i(e,t,Si(n),r)}function Ku(e){return null==e?[]:N(e,Fu(e))}function ec(e){return null==e?[]:N(e,qu(e))}function tc(e,t,n){return n===ee&&(n=t,t=ee),n!==ee&&(n=Mu(n),n=n===n?n:0),t!==ee&&(t=Mu(t),t=t===t?t:0),nr(Mu(e),t,n)}function nc(e,t,n){return t=wu(t),n===ee?(n=t,t=0):n=wu(n),e=Mu(e),Sr(e,t,n)}function rc(e,t,n){if(n&&"boolean"!=typeof n&&Ro(e,t,n)&&(t=n=ee),n===ee&&("boolean"==typeof t?(n=t,t=ee):"boolean"==typeof e&&(n=e,e=ee)),e===ee&&t===ee?(e=0,t=1):(e=wu(e),t===ee?(t=e,e=0):t=wu(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=Vl();return Jl(e+i*(t-e+An("1e-"+((i+"").length-1))),t)}return Kr(e,t)}function ic(e){return Vh(Tu(e).toLowerCase())}function oc(e){return(e=Tu(e))&&e.replace(Ut,zn).replace(hn,"")}function sc(e,t,n){e=Tu(e),t=fi(t);var r=e.length;n=n===ee?r:nr(Su(n),0,r);var i=n;return(n-=t.length)>=0&&e.slice(n,i)==t}function ac(e){return e=Tu(e),e&&bt.test(e)?e.replace(vt,Wn):e}function uc(e){return e=Tu(e),e&&Et.test(e)?e.replace(Dt,"\\$&"):e}function cc(e,t,n){e=Tu(e),t=Su(t);var r=t?V(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return no(Pl(i),n)+e+no(jl(i),n)}function lc(e,t,n){e=Tu(e),t=Su(t);var r=t?V(e):0;return t&&r<t?e+no(t-r,n):e}function dc(e,t,n){e=Tu(e),t=Su(t);var r=t?V(e):0;return t&&r<t?no(t-r,n)+e:e}function hc(e,t,n){return n||null==t?t=0:t&&(t=+t),Gl(Tu(e).replace(Ct,""),t||0)}function fc(e,t,n){return t=(n?Ro(e,t,n):t===ee)?1:Su(t),ti(Tu(e),t)}function pc(){var e=arguments,t=Tu(e[0]);return e.length<3?t:t.replace(e[1],e[2])}function mc(e,t,n){return n&&"number"!=typeof n&&Ro(e,t,n)&&(t=n=ee),(n=n===ee?Ne:n>>>0)?(e=Tu(e),e&&("string"==typeof t||null!=t&&!wh(t))&&!(t=fi(t))&&P(e)?Mi(X(e),0,n):e.split(t,n)):[]}function _c(e,t,n){return e=Tu(e),n=null==n?0:nr(Su(n),0,e.length),t=fi(t),e.slice(n,n+t.length)==t}function gc(e,t,n){var r=A.templateSettings;n&&Ro(e,t,n)&&(t=ee),e=Tu(e),t=Dh({},t,r,lo);var i,o,s=Dh({},t.imports,r.imports,lo),a=Fu(s),u=N(s,a),c=0,l=t.interpolate||Jt,d="__p += '",h=ul((t.escape||Jt).source+"|"+l.source+"|"+(l===xt?jt:Jt).source+"|"+(t.evaluate||Jt).source+"|$","g"),f="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++vn+"]")+"\n";e.replace(h,function(t,n,r,s,a,u){return r||(r=s),d+=e.slice(c,u).replace($t,H),n&&(i=!0,d+="' +\n__e("+n+") +\n'"),a&&(o=!0,d+="';\n"+a+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+t.length,t}),d+="';\n";var p=t.variable;p||(d="with (obj) {\n"+d+"\n}\n"),d=(o?d.replace(pt,""):d).replace(mt,"$1").replace(_t,"$1;"),d="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var m=Xh(function(){return ol(a,f+"return "+d).apply(ee,u)});if(m.source=d,Ka(m))throw m;return m}function vc(e){return Tu(e).toLowerCase()}function yc(e){return Tu(e).toUpperCase()}function bc(e,t,n){if((e=Tu(e))&&(n||t===ee))return e.replace(kt,"");if(!e||!(t=fi(t)))return e;var r=X(e),i=X(t);return Mi(r,I(r,i),Y(r,i)+1).join("")}function wc(e,t,n){if((e=Tu(e))&&(n||t===ee))return e.replace(Nt,"");if(!e||!(t=fi(t)))return e;var r=X(e);return Mi(r,0,Y(r,X(t))+1).join("")}function Sc(e,t,n){if((e=Tu(e))&&(n||t===ee))return e.replace(Ct,"");if(!e||!(t=fi(t)))return e;var r=X(e);return Mi(r,I(r,X(t))).join("")}function xc(e,t){var n=Se,r=xe;if(iu(t)){var i="separator"in t?t.separator:i;n="length"in t?Su(t.length):n,r="omission"in t?fi(t.omission):r}e=Tu(e);var o=e.length;if(P(e)){var s=X(e);o=s.length}if(n>=o)return e;var a=n-V(r);if(a<1)return r;var u=s?Mi(s,0,a).join(""):e.slice(0,a);if(i===ee)return u+r;if(s&&(a+=u.length-a),wh(i)){if(e.slice(a).search(i)){var c,l=u;for(i.global||(i=ul(i.source,Tu(Pt.exec(i))+"g")),i.lastIndex=0;c=i.exec(l);)var d=c.index;u=u.slice(0,d===ee?a:d)}}else if(e.indexOf(fi(i),a)!=a){var h=u.lastIndexOf(i);h>-1&&(u=u.slice(0,h))}return u+r}function Mc(e){return e=Tu(e),e&&yt.test(e)?e.replace(gt,Bn):e}function Ac(e,t,n){return e=Tu(e),t=n?ee:t,t===ee?F(e)?K(e):g(e):e.match(t)||[]}function Lc(e){var t=null==e?0:e.length,r=So();return e=t?d(e,function(e){if("function"!=typeof e[1])throw new ll(re);return[r(e[0]),e[1]]}):[],ni(function(r){for(var i=-1;++i<t;){var o=e[i];if(n(o[0],this,r))return n(o[1],this,r)}})}function Tc(e){return ir(rr(e,ae))}function Dc(e){return function(){return e}}function Ec(e,t){return null==e||e!==e?t:e}function kc(e){return e}function Cc(e){return Hr("function"==typeof e?e:rr(e,ae))}function Nc(e){return zr(rr(e,ae))}function Oc(e,t){return Wr(e,rr(t,ae))}function Ic(e,t,n){var r=Fu(t),i=mr(t,r);null!=n||iu(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=mr(t,Fu(t)));var s=!(iu(n)&&"chain"in n&&!n.chain),a=tu(e);return o(i,function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(s||t){var n=e(this.__wrapped__);return(n.__actions__=Hi(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,h([this.value()],arguments))})}),e}function Yc(){return En._===this&&(En._=wl),this}function Rc(){}function Hc(e){return e=Su(e),ni(function(t){return Jr(t,e)})}function jc(e){return Ho(e)?M(Ko(e)):Xr(e)}function Pc(e){return function(t){return null==e?ee:_r(e,t)}}function Fc(){return[]}function qc(){return!1}function zc(){return{}}function Wc(){return""}function Bc(){return!0}function Uc(e,t){if((e=Su(e))<1||e>Ee)return[];var n=Ne,r=Jl(e,Ne);t=So(t),e-=Ne;for(var i=E(r,t);++n<e;)t(n);return i}function Jc(e){return _h(e)?d(e,Ko):_u(e)?[e]:Hi(Cd(Tu(e)))}function $c(e){var t=++gl;return Tu(e)+t}function Gc(e){return e&&e.length?cr(e,kc,yr):ee}function Vc(e,t){return e&&e.length?cr(e,So(t,2),yr):ee}function Xc(e){return x(e,kc)}function Qc(e,t){return x(e,So(t,2))}function Zc(e){return e&&e.length?cr(e,kc,Fr):ee}function Kc(e,t){return e&&e.length?cr(e,So(t,2),Fr):ee}function el(e){return e&&e.length?D(e,kc):0}function tl(e,t){return e&&e.length?D(e,So(t,2)):0}_=null==_?En:Un.defaults(En.Object(),_,Un.pick(En,gn));var nl=_.Array,rl=_.Date,il=_.Error,ol=_.Function,sl=_.Math,al=_.Object,ul=_.RegExp,cl=_.String,ll=_.TypeError,dl=nl.prototype,hl=ol.prototype,fl=al.prototype,pl=_["__core-js_shared__"],ml=hl.toString,_l=fl.hasOwnProperty,gl=0,vl=function(){var e=/[^.]+$/.exec(pl&&pl.keys&&pl.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),yl=fl.toString,bl=ml.call(al),wl=En._,Sl=ul("^"+ml.call(_l).replace(Dt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),xl=Nn?_.Buffer:ee,Ml=_.Symbol,Al=_.Uint8Array,Ll=xl?xl.allocUnsafe:ee,Tl=W(al.getPrototypeOf,al),Dl=al.create,El=fl.propertyIsEnumerable,kl=dl.splice,Cl=Ml?Ml.isConcatSpreadable:ee,Nl=Ml?Ml.iterator:ee,Ol=Ml?Ml.toStringTag:ee,Il=function(){try{var e=Ao(al,"defineProperty");return e({},"",{}),e}catch(e){}}(),Yl=_.clearTimeout!==En.clearTimeout&&_.clearTimeout,Rl=rl&&rl.now!==En.Date.now&&rl.now,Hl=_.setTimeout!==En.setTimeout&&_.setTimeout,jl=sl.ceil,Pl=sl.floor,Fl=al.getOwnPropertySymbols,ql=xl?xl.isBuffer:ee,zl=_.isFinite,Wl=dl.join,Bl=W(al.keys,al),Ul=sl.max,Jl=sl.min,$l=rl.now,Gl=_.parseInt,Vl=sl.random,Xl=dl.reverse,Ql=Ao(_,"DataView"),Zl=Ao(_,"Map"),Kl=Ao(_,"Promise"),ed=Ao(_,"Set"),td=Ao(_,"WeakMap"),nd=Ao(al,"create"),rd=td&&new td,id={},od=es(Ql),sd=es(Zl),ad=es(Kl),ud=es(ed),cd=es(td),ld=Ml?Ml.prototype:ee,dd=ld?ld.valueOf:ee,hd=ld?ld.toString:ee,fd=function(){function e(){}return function(t){if(!iu(t))return{};if(Dl)return Dl(t);e.prototype=t;var n=new e;return e.prototype=ee,n}}();A.templateSettings={escape:wt,evaluate:St,interpolate:xt,variable:"",imports:{_:A}},A.prototype=$.prototype,A.prototype.constructor=A,Q.prototype=fd($.prototype),Q.prototype.constructor=Q,Z.prototype=fd($.prototype),Z.prototype.constructor=Z,Xt.prototype.clear=Qt,Xt.prototype.delete=Zt,Xt.prototype.get=Kt,Xt.prototype.has=en,Xt.prototype.set=tn,nn.prototype.clear=rn,nn.prototype.delete=on,nn.prototype.get=sn,nn.prototype.has=an,nn.prototype.set=un,cn.prototype.clear=ln,cn.prototype.delete=fn,cn.prototype.get=pn,cn.prototype.has=mn,cn.prototype.set=_n,wn.prototype.add=wn.prototype.push=Sn,wn.prototype.has=xn,Mn.prototype.clear=Tn,Mn.prototype.delete=Dn,Mn.prototype.get=kn,Mn.prototype.has=Cn,Mn.prototype.set=On;var pd=Wi(fr),md=Wi(pr,!0),_d=Bi(),gd=Bi(!0),vd=rd?function(e,t){return rd.set(e,t),e}:kc,yd=Il?function(e,t){return Il(e,"toString",{configurable:!0,enumerable:!1,value:Dc(t),writable:!0})}:kc,bd=ni,wd=Yl||function(e){return En.clearTimeout(e)},Sd=ed&&1/U(new ed([,-0]))[1]==De?function(e){return new ed(e)}:Rc,xd=rd?function(e){return rd.get(e)}:Rc,Md=Fl?function(e){return null==e?[]:(e=al(e),u(Fl(e),function(t){return El.call(e,t)}))}:Fc,Ad=Fl?function(e){for(var t=[];e;)h(t,Md(e)),e=Tl(e);return t}:Fc,Ld=vr;(Ql&&Ld(new Ql(new ArrayBuffer(1)))!=it||Zl&&Ld(new Zl)!=Ue||Kl&&"[object Promise]"!=Ld(Kl.resolve())||ed&&Ld(new ed)!=Qe||td&&Ld(new td)!=tt)&&(Ld=function(e){var t=vr(e),n=t==Ge?e.constructor:ee,r=n?es(n):"";if(r)switch(r){case od:return it;case sd:return Ue;case ad:return"[object Promise]";case ud:return Qe;case cd:return tt}return t});var Td=pl?tu:qc,Dd=Qo(vd),Ed=Hl||function(e,t){return En.setTimeout(e,t)},kd=Qo(yd),Cd=function(e){var t=Ca(e,function(e){return n.size===oe&&n.clear(),e}),n=t.cache;return t}(function(e){var t=[];return Lt.test(e)&&t.push(""),e.replace(Tt,function(e,n,r,i){t.push(r?i.replace(Ht,"$1"):n||e)}),t}),Nd=ni(function(e,t){return $a(e)?ar(e,hr(t,1,$a,!0)):[]}),Od=ni(function(e,t){var n=ws(t);return $a(n)&&(n=ee),$a(e)?ar(e,hr(t,1,$a,!0),So(n,2)):[]}),Id=ni(function(e,t){var n=ws(t);return $a(n)&&(n=ee),$a(e)?ar(e,hr(t,1,$a,!0),ee,n):[]}),Yd=ni(function(e){var t=d(e,wi);return t.length&&t[0]===e[0]?xr(t):[]}),Rd=ni(function(e){var t=ws(e),n=d(e,wi);return t===ws(n)?t=ee:n.pop(),n.length&&n[0]===e[0]?xr(n,So(t,2)):[]}),Hd=ni(function(e){var t=ws(e),n=d(e,wi);return t="function"==typeof t?t:ee,t&&n.pop(),n.length&&n[0]===e[0]?xr(n,ee,t):[]}),jd=ni(Ms),Pd=go(function(e,t){var n=null==e?0:e.length,r=tr(e,t);return Zr(e,d(t,function(e){return Yo(e,n)?+e:e}).sort(Oi)),r}),Fd=ni(function(e){return pi(hr(e,1,$a,!0))}),qd=ni(function(e){var t=ws(e);return $a(t)&&(t=ee),pi(hr(e,1,$a,!0),So(t,2))}),zd=ni(function(e){var t=ws(e);return t="function"==typeof t?t:ee,pi(hr(e,1,$a,!0),ee,t)}),Wd=ni(function(e,t){return $a(e)?ar(e,t):[]}),Bd=ni(function(e){return yi(u(e,$a))}),Ud=ni(function(e){var t=ws(e);return $a(t)&&(t=ee),yi(u(e,$a),So(t,2))}),Jd=ni(function(e){var t=ws(e);return t="function"==typeof t?t:ee,yi(u(e,$a),ee,t)}),$d=ni(Js),Gd=ni(function(e){var t=e.length,n=t>1?e[t-1]:ee;return n="function"==typeof n?(e.pop(),n):ee,$s(e,n)}),Vd=go(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return tr(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Z&&Yo(n)?(r=r.slice(n,+n+(t?1:0)),r.__actions__.push({func:Zs,args:[i],thisArg:ee}),new Q(r,this.__chain__).thru(function(e){return t&&!e.length&&e.push(ee),e})):this.thru(i)}),Xd=qi(function(e,t,n){_l.call(e,n)?++e[n]:er(e,n,1)}),Qd=Xi(ds),Zd=Xi(hs),Kd=qi(function(e,t,n){_l.call(e,n)?e[n].push(t):er(e,n,[t])}),eh=ni(function(e,t,r){var i=-1,o="function"==typeof t,s=Ja(e)?nl(e.length):[];return pd(e,function(e){s[++i]=o?n(t,e,r):Ar(e,t,r)}),s}),th=qi(function(e,t,n){er(e,n,t)}),nh=qi(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),rh=ni(function(e,t){if(null==e)return[];var n=t.length;return n>1&&Ro(e,t[0],t[1])?t=[]:n>2&&Ro(t[0],t[1],t[2])&&(t=[t[0]]),$r(e,hr(t,1),[])}),ih=Rl||function(){return En.Date.now()},oh=ni(function(e,t,n){var r=he;if(n.length){var i=B(n,wo(oh));r|=ge}return co(e,r,t,n,i)}),sh=ni(function(e,t,n){var r=he|fe;if(n.length){var i=B(n,wo(sh));r|=ge}return co(t,r,e,n,i)}),ah=ni(function(e,t){return sr(e,1,t)}),uh=ni(function(e,t,n){return sr(e,Mu(t)||0,n)});Ca.Cache=cn;var ch=bd(function(e,t){t=1==t.length&&_h(t[0])?d(t[0],C(So())):d(hr(t,1),C(So()));var r=t.length;return ni(function(i){for(var o=-1,s=Jl(i.length,r);++o<s;)i[o]=t[o].call(this,i[o]);return n(e,this,i)})}),lh=ni(function(e,t){var n=B(t,wo(lh));return co(e,ge,ee,t,n)}),dh=ni(function(e,t){var n=B(t,wo(dh));return co(e,ve,ee,t,n)}),hh=go(function(e,t){return co(e,be,ee,ee,ee,t)}),fh=oo(yr),ph=oo(function(e,t){return e>=t}),mh=Lr(function(){return arguments}())?Lr:function(e){return ou(e)&&_l.call(e,"callee")&&!El.call(e,"callee")},_h=nl.isArray,gh=Yn?C(Yn):Tr,vh=ql||qc,yh=Rn?C(Rn):Dr,bh=Hn?C(Hn):Cr,wh=jn?C(jn):Ir,Sh=Pn?C(Pn):Yr,xh=Fn?C(Fn):Rr,Mh=oo(Fr),Ah=oo(function(e,t){return e<=t}),Lh=zi(function(e,t){if(qo(t)||Ja(t))return void ji(t,Fu(t),e);for(var n in t)_l.call(t,n)&&Vn(e,n,t[n])}),Th=zi(function(e,t){ji(t,qu(t),e)}),Dh=zi(function(e,t,n,r){ji(t,qu(t),e,r)}),Eh=zi(function(e,t,n,r){ji(t,Fu(t),e,r)}),kh=go(tr),Ch=ni(function(e){return e.push(ee,lo),n(Dh,ee,e)}),Nh=ni(function(e){return e.push(ee,ho),n(Hh,ee,e)}),Oh=Ki(function(e,t,n){e[t]=n},Dc(kc)),Ih=Ki(function(e,t,n){_l.call(e,t)?e[t].push(n):e[t]=[n]},So),Yh=ni(Ar),Rh=zi(function(e,t,n){Br(e,t,n)}),Hh=zi(function(e,t,n,r){Br(e,t,n,r)}),jh=go(function(e,t){var n={};if(null==e)return n;var r=!1;t=d(t,function(t){return t=xi(t,e),r||(r=t.length>1),t}),ji(e,yo(e),n),r&&(n=rr(n,ae|ue|ce,fo));for(var i=t.length;i--;)mi(n,t[i]);return n}),Ph=go(function(e,t){return null==e?{}:Gr(e,t)}),Fh=uo(Fu),qh=uo(qu),zh=$i(function(e,t,n){return t=t.toLowerCase(),e+(n?ic(t):t)}),Wh=$i(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Bh=$i(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),Uh=Ji("toLowerCase"),Jh=$i(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),$h=$i(function(e,t,n){return e+(n?" ":"")+Vh(t)}),Gh=$i(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),Vh=Ji("toUpperCase"),Xh=ni(function(e,t){try{return n(e,ee,t)}catch(e){return Ka(e)?e:new il(e)}}),Qh=go(function(e,t){return o(t,function(t){t=Ko(t),er(e,t,oh(e[t],e))}),e}),Zh=Qi(),Kh=Qi(!0),ef=ni(function(e,t){return function(n){return Ar(n,e,t)}}),tf=ni(function(e,t){return function(n){return Ar(e,n,t)}}),nf=to(d),rf=to(a),of=to(m),sf=io(),af=io(!0),uf=eo(function(e,t){return e+t},0),cf=ao("ceil"),lf=eo(function(e,t){return e/t},1),df=ao("floor"),hf=eo(function(e,t){return e*t},1),ff=ao("round"),pf=eo(function(e,t){return e-t},0);return A.after=Ma,A.ary=Aa,A.assign=Lh,A.assignIn=Th,A.assignInWith=Dh,A.assignWith=Eh,A.at=kh,A.before=La,A.bind=oh,A.bindAll=Qh,A.bindKey=sh,A.castArray=Pa,A.chain=Xs,A.chunk=rs,A.compact=is,A.concat=os,A.cond=Lc,A.conforms=Tc,A.constant=Dc,A.countBy=Xd,A.create=Du,A.curry=Ta,A.curryRight=Da,A.debounce=Ea,A.defaults=Ch,A.defaultsDeep=Nh,A.defer=ah,A.delay=uh,A.difference=Nd,A.differenceBy=Od,A.differenceWith=Id,A.drop=ss,A.dropRight=as,A.dropRightWhile=us,A.dropWhile=cs,A.fill=ls,A.filter=aa,A.flatMap=ua,A.flatMapDeep=ca,A.flatMapDepth=la,A.flatten=fs,A.flattenDeep=ps,A.flattenDepth=ms,A.flip=ka,A.flow=Zh,A.flowRight=Kh,A.fromPairs=_s,A.functions=Yu,A.functionsIn=Ru,A.groupBy=Kd,A.initial=ys,A.intersection=Yd,A.intersectionBy=Rd,A.intersectionWith=Hd,A.invert=Oh,A.invertBy=Ih,A.invokeMap=eh,A.iteratee=Cc,A.keyBy=th,A.keys=Fu,A.keysIn=qu,A.map=pa,A.mapKeys=zu,A.mapValues=Wu,A.matches=Nc,A.matchesProperty=Oc,A.memoize=Ca,A.merge=Rh,A.mergeWith=Hh,A.method=ef,A.methodOf=tf,A.mixin=Ic,A.negate=Na,A.nthArg=Hc,A.omit=jh,A.omitBy=Bu,A.once=Oa,A.orderBy=ma,A.over=nf,A.overArgs=ch,A.overEvery=rf,A.overSome=of,A.partial=lh,A.partialRight=dh,A.partition=nh,A.pick=Ph,A.pickBy=Uu,A.property=jc,A.propertyOf=Pc,A.pull=jd,A.pullAll=Ms,A.pullAllBy=As,A.pullAllWith=Ls,A.pullAt=Pd,A.range=sf,A.rangeRight=af,A.rearg=hh,A.reject=va,A.remove=Ts,A.rest=Ia,A.reverse=Ds,A.sampleSize=ba,A.set=$u,A.setWith=Gu,A.shuffle=wa,A.slice=Es,A.sortBy=rh,A.sortedUniq=Rs,A.sortedUniqBy=Hs,A.split=mc,A.spread=Ya,A.tail=js,A.take=Ps,A.takeRight=Fs,A.takeRightWhile=qs,A.takeWhile=zs,A.tap=Qs,A.throttle=Ra,A.thru=Zs,A.toArray=bu,A.toPairs=Fh,A.toPairsIn=qh,A.toPath=Jc,A.toPlainObject=Au,A.transform=Vu,A.unary=Ha,A.union=Fd,A.unionBy=qd,A.unionWith=zd,A.uniq=Ws,A.uniqBy=Bs,A.uniqWith=Us,A.unset=Xu,A.unzip=Js,A.unzipWith=$s,A.update=Qu,A.updateWith=Zu,A.values=Ku,A.valuesIn=ec,A.without=Wd,A.words=Ac,A.wrap=ja,A.xor=Bd,A.xorBy=Ud,A.xorWith=Jd,A.zip=$d,A.zipObject=Gs,A.zipObjectDeep=Vs,A.zipWith=Gd,A.entries=Fh,A.entriesIn=qh,A.extend=Th,A.extendWith=Dh,Ic(A,A),A.add=uf,A.attempt=Xh,A.camelCase=zh,A.capitalize=ic,A.ceil=cf,A.clamp=tc,A.clone=Fa,A.cloneDeep=za,A.cloneDeepWith=Wa,A.cloneWith=qa,A.conformsTo=Ba,A.deburr=oc,A.defaultTo=Ec,A.divide=lf,A.endsWith=sc,A.eq=Ua,A.escape=ac,A.escapeRegExp=uc,A.every=sa,A.find=Qd,A.findIndex=ds,A.findKey=Eu,A.findLast=Zd,A.findLastIndex=hs,A.findLastKey=ku,A.floor=df,
A.forEach=da,A.forEachRight=ha,A.forIn=Cu,A.forInRight=Nu,A.forOwn=Ou,A.forOwnRight=Iu,A.get=Hu,A.gt=fh,A.gte=ph,A.has=ju,A.hasIn=Pu,A.head=gs,A.identity=kc,A.includes=fa,A.indexOf=vs,A.inRange=nc,A.invoke=Yh,A.isArguments=mh,A.isArray=_h,A.isArrayBuffer=gh,A.isArrayLike=Ja,A.isArrayLikeObject=$a,A.isBoolean=Ga,A.isBuffer=vh,A.isDate=yh,A.isElement=Va,A.isEmpty=Xa,A.isEqual=Qa,A.isEqualWith=Za,A.isError=Ka,A.isFinite=eu,A.isFunction=tu,A.isInteger=nu,A.isLength=ru,A.isMap=bh,A.isMatch=su,A.isMatchWith=au,A.isNaN=uu,A.isNative=cu,A.isNil=du,A.isNull=lu,A.isNumber=hu,A.isObject=iu,A.isObjectLike=ou,A.isPlainObject=fu,A.isRegExp=wh,A.isSafeInteger=pu,A.isSet=Sh,A.isString=mu,A.isSymbol=_u,A.isTypedArray=xh,A.isUndefined=gu,A.isWeakMap=vu,A.isWeakSet=yu,A.join=bs,A.kebabCase=Wh,A.last=ws,A.lastIndexOf=Ss,A.lowerCase=Bh,A.lowerFirst=Uh,A.lt=Mh,A.lte=Ah,A.max=Gc,A.maxBy=Vc,A.mean=Xc,A.meanBy=Qc,A.min=Zc,A.minBy=Kc,A.stubArray=Fc,A.stubFalse=qc,A.stubObject=zc,A.stubString=Wc,A.stubTrue=Bc,A.multiply=hf,A.nth=xs,A.noConflict=Yc,A.noop=Rc,A.now=ih,A.pad=cc,A.padEnd=lc,A.padStart=dc,A.parseInt=hc,A.random=rc,A.reduce=_a,A.reduceRight=ga,A.repeat=fc,A.replace=pc,A.result=Ju,A.round=ff,A.runInContext=i,A.sample=ya,A.size=Sa,A.snakeCase=Jh,A.some=xa,A.sortedIndex=ks,A.sortedIndexBy=Cs,A.sortedIndexOf=Ns,A.sortedLastIndex=Os,A.sortedLastIndexBy=Is,A.sortedLastIndexOf=Ys,A.startCase=$h,A.startsWith=_c,A.subtract=pf,A.sum=el,A.sumBy=tl,A.template=gc,A.times=Uc,A.toFinite=wu,A.toInteger=Su,A.toLength=xu,A.toLower=vc,A.toNumber=Mu,A.toSafeInteger=Lu,A.toString=Tu,A.toUpper=yc,A.trim=bc,A.trimEnd=wc,A.trimStart=Sc,A.truncate=xc,A.unescape=Mc,A.uniqueId=$c,A.upperCase=Gh,A.upperFirst=Vh,A.each=da,A.eachRight=ha,A.first=gs,Ic(A,function(){var e={};return fr(A,function(t,n){_l.call(A.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),A.VERSION="4.17.4",o(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){A[e].placeholder=A}),o(["drop","take"],function(e,t){Z.prototype[e]=function(n){n=n===ee?1:Ul(Su(n),0);var r=this.__filtered__&&!t?new Z(this):this.clone();return r.__filtered__?r.__takeCount__=Jl(n,r.__takeCount__):r.__views__.push({size:Jl(n,Ne),type:e+(r.__dir__<0?"Right":"")}),r},Z.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),o(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n==Le||3==n;Z.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:So(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),o(["head","last"],function(e,t){var n="take"+(t?"Right":"");Z.prototype[e]=function(){return this[n](1).value()[0]}}),o(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");Z.prototype[e]=function(){return this.__filtered__?new Z(this):this[n](1)}}),Z.prototype.compact=function(){return this.filter(kc)},Z.prototype.find=function(e){return this.filter(e).head()},Z.prototype.findLast=function(e){return this.reverse().find(e)},Z.prototype.invokeMap=ni(function(e,t){return"function"==typeof e?new Z(this):this.map(function(n){return Ar(n,e,t)})}),Z.prototype.reject=function(e){return this.filter(Na(So(e)))},Z.prototype.slice=function(e,t){e=Su(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Z(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==ee&&(t=Su(t),n=t<0?n.dropRight(-t):n.take(t-e)),n)},Z.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Z.prototype.toArray=function(){return this.take(Ne)},fr(Z.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=A[r?"take"+("last"==t?"Right":""):t],o=r||/^find/.test(t);i&&(A.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,a=t instanceof Z,u=s[0],c=a||_h(t),l=function(e){var t=i.apply(A,h([e],s));return r&&d?t[0]:t};c&&n&&"function"==typeof u&&1!=u.length&&(a=c=!1);var d=this.__chain__,f=!!this.__actions__.length,p=o&&!d,m=a&&!f;if(!o&&c){t=m?t:new Z(this);var _=e.apply(t,s);return _.__actions__.push({func:Zs,args:[l],thisArg:ee}),new Q(_,d)}return p&&m?e.apply(this,s):(_=this.thru(l),p?r?_.value()[0]:_.value():_)})}),o(["pop","push","shift","sort","splice","unshift"],function(e){var t=dl[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);A.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(_h(i)?i:[],e)}return this[n](function(n){return t.apply(_h(n)?n:[],e)})}}),fr(Z.prototype,function(e,t){var n=A[t];if(n){var r=n.name+"";(id[r]||(id[r]=[])).push({name:t,func:n})}}),id[Zi(ee,fe).name]=[{name:"wrapper",func:ee}],Z.prototype.clone=Rt,Z.prototype.reverse=Gt,Z.prototype.value=Vt,A.prototype.at=Vd,A.prototype.chain=Ks,A.prototype.commit=ea,A.prototype.next=ta,A.prototype.plant=ra,A.prototype.reverse=ia,A.prototype.toJSON=A.prototype.valueOf=A.prototype.value=oa,A.prototype.first=A.prototype.head,Nl&&(A.prototype[Nl]=na),A}();"function"==typeof i&&"object"==typeof i.amd&&i.amd?(En._=Un,i("lodash",[],function(){return Un})):Cn?((Cn.exports=Un)._=Un,kn._=Un):En._=Un}.call(this),i("lodash.noconflict",["lodash"],function(e){if(!e.isUndefined(r)&&!e.isUndefined(r.s)){var t=r.s.contexts._.config.lodashLoader;t.templateSettings.imports={_:e},r.config({lodashLoader:t})}return e.noConflict()}),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof i&&i.amd?i("lodash.converter",[],t):"object"==typeof exports?exports.fp=t():e.fp=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){function r(e,t){return i(e,e,t)}var i=n(1);"function"==typeof _&&"function"==typeof _.runInContext&&(fp=r(_.runInContext())),e.exports=r},function(e,t,n){function r(e,t){return 2==t?function(t,n){return e.apply(void 0,arguments)}:function(t){return e.apply(void 0,arguments)}}function i(e,t){return 2==t?function(t,n){return e(t,n)}:function(t){return e(t)}}function o(e){for(var t=e?e.length:0,n=Array(t);t--;)n[t]=e[t];return n}function s(e){return function(t){return e({},t)}}function a(e,t){return function(){for(var n=arguments.length,r=n-1,i=Array(n);n--;)i[n]=arguments[n];var o=i[t],s=i.slice(0,t);return o&&h.apply(s,o),t!=r&&h.apply(s,i.slice(t+1)),e.apply(this,s)}}function u(e,t){return function(){var n=arguments.length;if(n){for(var r=Array(n);n--;)r[n]=arguments[n];var i=r[0]=t.apply(void 0,r);return e.apply(void 0,r),i}}}function c(e,t,n,h){function f(e,t){if(T.cap){var n=l.iterateeRearg[e];if(n)return w(t,n);var r=!A&&l.iterateeAry[e];if(r)return b(t,r)}return t}function p(e,t,n){return D||T.curry&&n>1?H(t,n):t}function m(e,t,n){if(T.fixed&&(E||!l.skipFixed[e])){var r=l.methodSpread[e],i=r&&r.start;return void 0===i?I(t,n):a(t,i)}return t}function _(e,t,n){return T.rearg&&n>1&&(k||!l.skipRearg[e])?z(t,l.methodRearg[e]||l.aryRearg[n]):t}function g(e,t){t=B(t);for(var n=-1,r=t.length,i=r-1,o=R(Object(e)),s=o;null!=s&&++n<r;){var a=t[n],u=s[a];null!=u&&(s[t[n]]=R(n==i?u:Object(u))),s=s[a]}return o}function v(e){return $.runInContext.convert(e)(void 0)}function y(e,t){var n=l.aliasToReal[e]||e,r=l.remap[n]||n,i=h;return function(e){var o=A?N:O,s=A?N[r]:t,a=Y(Y({},i),e);return c(o,n,s,a)}}function b(e,t){return S(e,function(e){return"function"==typeof e?i(e,t):e})}function w(e,t){return S(e,function(e){var n=t.length;return r(z(i(e,n),t),n)})}function S(e,t){return function(){var n=arguments.length;if(!n)return e();for(var r=Array(n);n--;)r[n]=arguments[n];var i=T.rearg?0:n-1;return r[i]=t(r[i]),e.apply(void 0,r)}}function x(e,t){var n,r=l.aliasToReal[e]||e,i=t,a=J[r];return a?i=a(t):T.immutable&&(l.mutate.array[r]?i=u(t,o):l.mutate.object[r]?i=u(t,s(t)):l.mutate.set[r]&&(i=u(t,g))),j(U,function(e){return j(l.aryMethod[e],function(t){if(r==t){var o=l.methodSpread[r],s=o&&o.afterRearg;return n=s?m(r,_(r,i,e),e):_(r,m(r,i,e),e),n=f(r,n),n=p(r,n,e),!1}}),!n}),n||(n=i),n==t&&(n=D?H(n,1):function(){return t.apply(this,arguments)}),n.convert=y(r,t),l.placeholder[r]&&(M=!0,n.placeholder=t.placeholder=C),n}var M,A="function"==typeof t,L=t===Object(t);if(L&&(h=n,n=t,t=void 0),null==n)throw new TypeError;h||(h={});var T={cap:!("cap"in h)||h.cap,curry:!("curry"in h)||h.curry,fixed:!("fixed"in h)||h.fixed,immutable:!("immutable"in h)||h.immutable,rearg:!("rearg"in h)||h.rearg},D="curry"in h&&h.curry,E="fixed"in h&&h.fixed,k="rearg"in h&&h.rearg,C=A?n:d,N=A?n.runInContext():void 0,O=A?n:{ary:e.ary,assign:e.assign,clone:e.clone,curry:e.curry,forEach:e.forEach,isArray:e.isArray,isFunction:e.isFunction,iteratee:e.iteratee,keys:e.keys,rearg:e.rearg,toInteger:e.toInteger,toPath:e.toPath},I=O.ary,Y=O.assign,R=O.clone,H=O.curry,j=O.forEach,P=O.isArray,F=O.isFunction,q=O.keys,z=O.rearg,W=O.toInteger,B=O.toPath,U=q(l.aryMethod),J={castArray:function(e){return function(){var t=arguments[0];return P(t)?e(o(t)):e.apply(void 0,arguments)}},iteratee:function(e){return function(){var t=arguments[0],n=arguments[1],r=e(t,n),o=r.length;return T.cap&&"number"==typeof n?(n=n>2?n-2:1,o&&o<=n?r:i(r,n)):r}},mixin:function(e){return function(t){var n=this;if(!F(n))return e(n,Object(t));var r=[];return j(q(t),function(e){F(t[e])&&r.push([e,n.prototype[e]])}),e(n,Object(t)),j(r,function(e){var t=e[1];F(t)?n.prototype[e[0]]=t:delete n.prototype[e[0]]}),n}},nthArg:function(e){return function(t){var n=t<0?1:W(t)+1;return H(e(t),n)}},rearg:function(e){return function(t,n){var r=n?n.length:0;return H(e(t,n),r)}},runInContext:function(t){return function(n){return c(e,t(n),h)}}};if(!L)return x(t,n);var $=n,G=[];return j(U,function(e){j(l.aryMethod[e],function(e){var t=$[l.remap[e]||e];t&&G.push([e,x(e,t)])})}),j(q($),function(e){var t=$[e];if("function"==typeof t){for(var n=G.length;n--;)if(G[n][0]==e)return;t.convert=y(e,t),G.push([e,t])}}),j(G,function(e){$[e[0]]=e[1]}),$.convert=v,M&&($.placeholder=C),j(q($),function(e){j(l.realToAlias[e]||[],function(t){$[t]=$[e]})}),$}var l=n(2),d=n(3),h=Array.prototype.push;e.exports=c},function(e,t){t.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"},t.aryMethod={1:["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],2:["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]},t.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},t.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},t.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},t.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},t.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},t.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},t.placeholder={bind:!0,bindKey:!0,curry:!0,curryRight:!0,partial:!0,partialRight:!0},t.realToAlias=function(){var e=Object.prototype.hasOwnProperty,n=t.aliasToReal,r={};for(var i in n){var o=n[i];e.call(r,o)?r[o].push(i):r[o]=[i]}return r}(),t.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"},t.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},t.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}},function(e,t){e.exports={}}])}),i("lodash.fp",["lodash","lodash.converter"],function(e,t){return t(e.runInContext())}),"function"!=typeof window.CustomEvent&&(e.prototype=window.Event.prototype,window.CustomEvent=e),String.prototype.includes||(String.prototype.includes=function(e,t){"use strict";return"number"!=typeof t&&(t=0),!(t+e.length>this.length)&&-1!==this.indexOf(e,t)}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var n=this.toString();(void 0===t||t>n.length)&&(t=n.length),t-=e.length;var r=n.indexOf(e,t);return-1!==r&&r===t}),String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),String.prototype.splitOnce||(String.prototype.splitOnce=function(e){var t=this.split(e);return[t.shift(),t.join(e)]}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}),i("polyfill",function(){}),function(e,t){function n(e){return h.PF.compile(e||"nplurals=2; plural=(n != 1);")}function r(e,t){this._key=e,this._i18n=t}var o=Array.prototype,s=Object.prototype,a=o.slice,u=s.hasOwnProperty,c=o.forEach,l={},d={forEach:function(e,t,n){var r,i,o;if(null!==e)if(c&&e.forEach===c)e.forEach(t,n);else if(e.length===+e.length){for(r=0,i=e.length;r<i;r++)if(r in e&&t.call(n,e[r],r,e)===l)return}else for(o in e)if(u.call(e,o)&&t.call(n,e[o],o,e)===l)return},extend:function(e){return this.forEach(a.call(arguments,1),function(t){for(var n in t)e[n]=t[n]}),e}},h=function(e){if(this.defaults={locale_data:{messages:{"":{domain:"messages",lang:"en",plural_forms:"nplurals=2; plural=(n != 1);"}}},domain:"messages",debug:!1},this.options=d.extend({},this.defaults,e),this.textdomain(this.options.domain),e.domain&&!this.options.locale_data[this.options.domain])throw new Error("Text domain set to non-existent domain: `"+e.domain+"`")};h.context_delimiter=String.fromCharCode(4),d.extend(r.prototype,{onDomain:function(e){return this._domain=e,this},withContext:function(e){return this._context=e,this},ifPlural:function(e,t){return this._val=e,this._pkey=t,this},fetch:function(e){return"[object Array]"!={}.toString.call(e)&&(e=[].slice.call(arguments,0)),(e&&e.length?h.sprintf:function(e){return e})(this._i18n.dcnpgettext(this._domain,this._context,this._key,this._pkey,this._val),e)}}),d.extend(h.prototype,{translate:function(e){return new r(e,this)},textdomain:function(e){if(!e)return this._textdomain;this._textdomain=e},gettext:function(e){return this.dcnpgettext.call(this,void 0,void 0,e)},dgettext:function(e,t){return this.dcnpgettext.call(this,e,void 0,t)},dcgettext:function(e,t){return this.dcnpgettext.call(this,e,void 0,t)},ngettext:function(e,t,n){return this.dcnpgettext.call(this,void 0,void 0,e,t,n)},dngettext:function(e,t,n,r){return this.dcnpgettext.call(this,e,void 0,t,n,r)},dcngettext:function(e,t,n,r){return this.dcnpgettext.call(this,e,void 0,t,n,r)},pgettext:function(e,t){return this.dcnpgettext.call(this,void 0,e,t)},dpgettext:function(e,t,n){return this.dcnpgettext.call(this,e,t,n)},dcpgettext:function(e,t,n){return this.dcnpgettext.call(this,e,t,n)},npgettext:function(e,t,n,r){return this.dcnpgettext.call(this,void 0,e,t,n,r)},dnpgettext:function(e,t,n,r,i){return this.dcnpgettext.call(this,e,t,n,r,i)},dcnpgettext:function(e,t,r,i,o){i=i||r,e=e||this._textdomain;var s;if(!this.options)return s=new h,s.dcnpgettext.call(s,void 0,void 0,r,i,o);if(!this.options.locale_data)throw new Error("No locale data provided.");if(!this.options.locale_data[e])throw new Error("Domain `"+e+"` was not found.");if(!this.options.locale_data[e][""])throw new Error("No locale meta information provided.");if(!r)throw new Error("No translation key found.");var a,u,c,l=t?t+h.context_delimiter+r:r,d=this.options.locale_data,f=d[e],p=(d.messages||this.defaults.locale_data.messages)[""],m=f[""].plural_forms||f[""]["Plural-Forms"]||f[""]["plural-forms"]||p.plural_forms||p["Plural-Forms"]||p["plural-forms"];if(void 0===o)c=0;else{if("number"!=typeof o&&(o=parseInt(o,10),isNaN(o)))throw new Error("The number that was passed in is not a number.");c=n(m)(o)}if(!f)throw new Error("No domain named `"+e+"` could be found.");return!(a=f[l])||c>a.length?(this.options.missing_key_callback&&this.options.missing_key_callback(l,e),u=[r,i],!0===this.options.debug&&console.log(u[n(m)(o)]),u[n()(o)]):(u=a[c])||(u=[r,i],u[n()(o)])}});var f=function(){function e(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function t(e,t){for(var n=[];t>0;n[--t]=e);return n.join("")}var n=function(){return n.cache.hasOwnProperty(arguments[0])||(n.cache[arguments[0]]=n.parse(arguments[0])),n.format.call(null,n.cache[arguments[0]],arguments)};return n.format=function(n,r){var i,o,s,a,u,c,l,d=1,h=n.length,p="",m=[];for(o=0;o<h;o++)if("string"===(p=e(n[o])))m.push(n[o]);else if("array"===p){if(a=n[o],a[2])for(i=r[d],s=0;s<a[2].length;s++){if(!i.hasOwnProperty(a[2][s]))throw f('[sprintf] property "%s" does not exist',a[2][s]);i=i[a[2][s]]}else i=a[1]?r[a[1]]:r[d++];if(/[^s]/.test(a[8])&&"number"!=e(i))throw f("[sprintf] expecting number but found %s",e(i));switch(void 0!==i&&null!==i||(i=""),a[8]){case"b":i=i.toString(2);break;case"c":i=String.fromCharCode(i);break;case"d":i=parseInt(i,10);break;case"e":i=a[7]?i.toExponential(a[7]):i.toExponential();break;case"f":i=a[7]?parseFloat(i).toFixed(a[7]):parseFloat(i);break;case"o":i=i.toString(8);break;case"s":i=(i=String(i))&&a[7]?i.substring(0,a[7]):i;break;case"u":i=Math.abs(i);break;case"x":i=i.toString(16);break;case"X":i=i.toString(16).toUpperCase()}i=/[def]/.test(a[8])&&a[3]&&i>=0?"+"+i:i,c=a[4]?"0"==a[4]?"0":a[4].charAt(1):" ",l=a[6]-String(i).length,u=a[6]?t(c,l):"",m.push(a[5]?i+u:u+i)}return m.join("")},n.cache={},n.parse=function(e){for(var t=e,n=[],r=[],i=0;t;){if(null!==(n=/^[^\x25]+/.exec(t)))r.push(n[0]);else if(null!==(n=/^\x25{2}/.exec(t)))r.push("%");else{if(null===(n=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(t)))throw"[sprintf] huh?";if(n[2]){i|=1;var o=[],s=n[2],a=[];if(null===(a=/^([a-z_][a-z_\d]*)/i.exec(s)))throw"[sprintf] huh?";for(o.push(a[1]);""!==(s=s.substring(a[0].length));)if(null!==(a=/^\.([a-z_][a-z_\d]*)/i.exec(s)))o.push(a[1]);else{if(null===(a=/^\[(\d+)\]/.exec(s)))throw"[sprintf] huh?";o.push(a[1])}n[2]=o}else i|=2;if(3===i)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";r.push(n)}t=t.substring(n[0].length)}return r},n}(),p=function(e,t){return t.unshift(e),f.apply(null,t)};h.parse_plural=function(e,t){return e=e.replace(/n/g,t),h.parse_expression(e)},h.sprintf=function(e,t){return"[object Array]"=={}.toString.call(t)?p(e,[].slice.call(t)):f.apply(this,[].slice.call(arguments))},h.prototype.sprintf=function(){return h.sprintf.apply(this,arguments)},h.PF={},h.PF.parse=function(e){var t=h.PF.extractPluralExpr(e);return h.PF.parser.parse.call(h.PF.parser,t)},h.PF.compile=function(e){function t(e){return!0===e?1:e||0}var n=h.PF.parse(e);return function(e){return t(h.PF.interpreter(n)(e))}},h.PF.interpreter=function(e){return function(t){switch(e.type){case"GROUP":return h.PF.interpreter(e.expr)(t);case"TERNARY":return h.PF.interpreter(e.expr)(t)?h.PF.interpreter(e.truthy)(t):h.PF.interpreter(e.falsey)(t);case"OR":return h.PF.interpreter(e.left)(t)||h.PF.interpreter(e.right)(t);case"AND":return h.PF.interpreter(e.left)(t)&&h.PF.interpreter(e.right)(t);case"LT":return h.PF.interpreter(e.left)(t)<h.PF.interpreter(e.right)(t);case"GT":return h.PF.interpreter(e.left)(t)>h.PF.interpreter(e.right)(t);case"LTE":return h.PF.interpreter(e.left)(t)<=h.PF.interpreter(e.right)(t);case"GTE":return h.PF.interpreter(e.left)(t)>=h.PF.interpreter(e.right)(t);case"EQ":return h.PF.interpreter(e.left)(t)==h.PF.interpreter(e.right)(t);case"NEQ":return h.PF.interpreter(e.left)(t)!=h.PF.interpreter(e.right)(t);case"MOD":return h.PF.interpreter(e.left)(t)%h.PF.interpreter(e.right)(t);case"VAR":return t;case"NUM":return e.val;default:throw new Error("Invalid Token found.")}}},h.PF.extractPluralExpr=function(e){e=e.replace(/^\s\s*/,"").replace(/\s\s*$/,""),/;\s*$/.test(e)||(e=e.concat(";"));var t,n=/nplurals\=(\d+);/,r=/plural\=(.*);/,i=e.match(n),o={};if(!(i.length>1))throw new Error("nplurals not found in plural_forms string: "+e);if(o.nplurals=i[1],e=e.replace(n,""),!((t=e.match(r))&&t.length>1))throw new Error("`plural` expression not found: "+e);return t[1]},h.PF.parser=function(){var e={trace:function(){},yy:{},symbols_:{error:2,expressions:3,e:4,EOF:5,"?":6,":":7,"||":8,"&&":9,"<":10,"<=":11,">":12,">=":13,"!=":14,"==":15,"%":16,"(":17,")":18,n:19,NUMBER:20,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",6:"?",7:":",8:"||",9:"&&",10:"<",11:"<=",12:">",13:">=",14:"!=",15:"==",16:"%",17:"(",18:")",19:"n",20:"NUMBER"},productions_:[0,[3,2],[4,5],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,1],[4,1]],performAction:function(e,t,n,r,i,o,s){var a=o.length-1;switch(i){case 1:return{type:"GROUP",expr:o[a-1]};case 2:this.$={type:"TERNARY",expr:o[a-4],truthy:o[a-2],falsey:o[a]};break;case 3:this.$={type:"OR",left:o[a-2],right:o[a]};break;case 4:this.$={type:"AND",left:o[a-2],right:o[a]};break;case 5:this.$={type:"LT",left:o[a-2],right:o[a]};break;case 6:this.$={type:"LTE",left:o[a-2],right:o[a]};break;case 7:this.$={type:"GT",left:o[a-2],right:o[a]};break;case 8:this.$={type:"GTE",left:o[a-2],right:o[a]};break;case 9:this.$={type:"NEQ",left:o[a-2],right:o[a]};break;case 10:this.$={type:"EQ",left:o[a-2],right:o[a]};break;case 11:this.$={type:"MOD",left:o[a-2],right:o[a]};break;case 12:this.$={type:"GROUP",expr:o[a-1]};break;case 13:this.$={type:"VAR"};break;case 14:this.$={type:"NUM",val:Number(e)}}},table:[{3:1,4:2,17:[1,3],19:[1,4],20:[1,5]},{1:[3]},{5:[1,6],6:[1,7],8:[1,8],9:[1,9],10:[1,10],11:[1,11],12:[1,12],13:[1,13],14:[1,14],15:[1,15],16:[1,16]},{4:17,17:[1,3],19:[1,4],20:[1,5]},{5:[2,13],6:[2,13],7:[2,13],8:[2,13],9:[2,13],10:[2,13],11:[2,13],12:[2,13],13:[2,13],14:[2,13],15:[2,13],16:[2,13],18:[2,13]},{5:[2,14],6:[2,14],7:[2,14],8:[2,14],9:[2,14],10:[2,14],11:[2,14],12:[2,14],13:[2,14],14:[2,14],15:[2,14],16:[2,14],18:[2,14]},{1:[2,1]},{4:18,17:[1,3],19:[1,4],20:[1,5]},{4:19,17:[1,3],19:[1,4],20:[1,5]},{4:20,17:[1,3],19:[1,4],20:[1,5]},{4:21,17:[1,3],19:[1,4],20:[1,5]},{4:22,17:[1,3],19:[1,4],20:[1,5]},{4:23,17:[1,3],19:[1,4],20:[1,5]},{4:24,17:[1,3],19:[1,4],20:[1,5]},{4:25,17:[1,3],19:[1,4],20:[1,5]},{4:26,17:[1,3],19:[1,4],20:[1,5]},{4:27,17:[1,3],19:[1,4],20:[1,5]},{6:[1,7],8:[1,8],9:[1,9],10:[1,10],11:[1,11],12:[1,12],13:[1,13],14:[1,14],15:[1,15],16:[1,16],18:[1,28]},{6:[1,7],7:[1,29],8:[1,8],9:[1,9],10:[1,10],11:[1,11],12:[1,12],13:[1,13],14:[1,14],15:[1,15],16:[1,16]},{5:[2,3],6:[2,3],7:[2,3],8:[2,3],9:[1,9],10:[1,10],11:[1,11],12:[1,12],13:[1,13],14:[1,14],15:[1,15],16:[1,16],18:[2,3]},{5:[2,4],6:[2,4],7:[2,4],8:[2,4],9:[2,4],10:[1,10],11:[1,11],12:[1,12],13:[1,13],14:[1,14],15:[1,15],16:[1,16],18:[2,4]},{5:[2,5],6:[2,5],7:[2,5],8:[2,5],9:[2,5],10:[2,5],11:[2,5],12:[2,5],13:[2,5],14:[2,5],15:[2,5],16:[1,16],18:[2,5]},{5:[2,6],6:[2,6],7:[2,6],8:[2,6],9:[2,6],10:[2,6],11:[2,6],12:[2,6],13:[2,6],14:[2,6],15:[2,6],16:[1,16],18:[2,6]},{5:[2,7],6:[2,7],7:[2,7],8:[2,7],9:[2,7],10:[2,7],11:[2,7],12:[2,7],13:[2,7],14:[2,7],15:[2,7],16:[1,16],18:[2,7]},{5:[2,8],6:[2,8],7:[2,8],8:[2,8],9:[2,8],10:[2,8],11:[2,8],12:[2,8],13:[2,8],14:[2,8],15:[2,8],16:[1,16],18:[2,8]},{5:[2,9],6:[2,9],7:[2,9],8:[2,9],9:[2,9],10:[2,9],11:[2,9],12:[2,9],13:[2,9],14:[2,9],15:[2,9],16:[1,16],18:[2,9]},{5:[2,10],6:[2,10],7:[2,10],8:[2,10],9:[2,10],10:[2,10],11:[2,10],12:[2,10],13:[2,10],14:[2,10],15:[2,10],16:[1,16],18:[2,10]},{5:[2,11],6:[2,11],7:[2,11],8:[2,11],9:[2,11],10:[2,11],11:[2,11],12:[2,11],13:[2,11],14:[2,11],15:[2,11],16:[2,11],18:[2,11]},{5:[2,12],6:[2,12],7:[2,12],8:[2,12],9:[2,12],10:[2,12],11:[2,12],12:[2,12],13:[2,12],14:[2,12],15:[2,12],16:[2,12],18:[2,12]},{4:30,17:[1,3],19:[1,4],20:[1,5]},{5:[2,2],6:[1,7],7:[2,2],8:[1,8],9:[1,9],10:[1,10],11:[1,11],12:[1,12],13:[1,13],14:[1,14],15:[1,15],16:[1,16],18:[2,2]}],defaultActions:{6:[2,1]},parseError:function(e,t){throw new Error(e)},parse:function(e){function t(){var e;return e=n.lexer.lex()||1,"number"!=typeof e&&(e=n.symbols_[e]||e),e}var n=this,r=[0],i=[null],o=[],s=this.table,a="",u=0,c=0,l=0,d=2;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var h=this.lexer.yylloc;o.push(h),"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var f,p,m,_,g,v,y,b,w,S={};;){if(m=r[r.length-1],this.defaultActions[m]?_=this.defaultActions[m]:(null==f&&(f=t()),_=s[m]&&s[m][f]),void 0===_||!_.length||!_[0]){if(!l){w=[];for(v in s[m])this.terminals_[v]&&v>2&&w.push("'"+this.terminals_[v]+"'");var x="";x=this.lexer.showPosition?"Parse error on line "+(u+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+w.join(", ")+", got '"+this.terminals_[f]+"'":"Parse error on line "+(u+1)+": Unexpected "+(1==f?"end of input":"'"+(this.terminals_[f]||f)+"'"),this.parseError(x,{text:this.lexer.match,token:this.terminals_[f]||f,line:this.lexer.yylineno,loc:h,expected:w})}if(3==l){if(1==f)throw new Error(x||"Parsing halted.");c=this.lexer.yyleng,a=this.lexer.yytext,u=this.lexer.yylineno,h=this.lexer.yylloc,f=t()}for(;;){if(d.toString()in s[m])break;if(0==m)throw new Error(x||"Parsing halted.");!function(e){r.length=r.length-2*e,i.length=i.length-e,o.length=o.length-e}(1),m=r[r.length-1]}p=f,f=d,m=r[r.length-1],_=s[m]&&s[m][d],l=3}if(_[0]instanceof Array&&_.length>1)throw new Error("Parse Error: multiple actions possible at state: "+m+", token: "+f);switch(_[0]){case 1:r.push(f),i.push(this.lexer.yytext),o.push(this.lexer.yylloc),r.push(_[1]),f=null,p?(f=p,p=null):(c=this.lexer.yyleng,a=this.lexer.yytext,u=this.lexer.yylineno,h=this.lexer.yylloc,l>0&&l--);break;case 2:if(y=this.productions_[_[1]][1],S.$=i[i.length-y],S._$={first_line:o[o.length-(y||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(y||1)].first_column,last_column:o[o.length-1].last_column},void 0!==(g=this.performAction.call(S,a,c,u,this.yy,_[1],i,o)))return g;y&&(r=r.slice(0,-1*y*2),i=i.slice(0,-1*y),o=o.slice(0,-1*y)),r.push(this.productions_[_[1]][0]),i.push(S.$),o.push(S._$),b=s[r[r.length-2]][r[r.length-1]],r.push(b);break;case 3:return!0}}return!0}},t=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parseError)throw new Error(e);this.yy.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.match+=e,this.matched+=e,e.match(/\n/)&&this.yylineno++,this._input=this._input.slice(1),e},unput:function(e){return this._input=e+this._input,this},more:function(){return this._more=!0,this},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length)
;return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var e,t;this._more||(this.yytext="",this.match="");for(var n=this._currentRules(),r=0;r<n.length;r++)if(e=this._input.match(this.rules[n[r]]))return t=e[0].match(/\n.*/g),t&&(this.yylineno+=t.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:t?t[t.length-1].length-1:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this._more=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],this.performAction.call(this,this.yy,this,n[r],this.conditionStack[this.conditionStack.length-1])||void 0;if(""===this._input)return this.EOF;this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return void 0!==e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)}};return e.performAction=function(e,t,n,r){switch(n){case 0:break;case 1:return 20;case 2:return 19;case 3:return 8;case 4:return 9;case 5:return 6;case 6:return 7;case 7:return 11;case 8:return 13;case 9:return 10;case 10:return 12;case 11:return 14;case 12:return 15;case 13:return 16;case 14:return 17;case 15:return 18;case 16:return 5;case 17:return"INVALID"}},e.rules=[/^\s+/,/^[0-9]+(\.[0-9]+)?\b/,/^n\b/,/^\|\|/,/^&&/,/^\?/,/^:/,/^<=/,/^>=/,/^</,/^>/,/^!=/,/^==/,/^%/,/^\(/,/^\)/,/^$/,/^./],e.conditions={INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17],inclusive:!0}},e}();return e.lexer=t,e}(),"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=h),exports.Jed=h):("function"==typeof i&&i.amd&&i("jed",[],function(){return h}),e.Jed=h)}(this),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof i&&i.amd?i("moment/moment",t):e.moment=t()}(this,function(){"use strict";function e(){return yr.apply(null,arguments)}function t(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function n(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function i(e){var t;for(t in e)return!1;return!0}function o(e){return void 0===e}function s(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function a(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function u(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function c(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l(e,t){for(var n in t)c(t,n)&&(e[n]=t[n]);return c(t,"toString")&&(e.toString=t.toString),c(t,"valueOf")&&(e.valueOf=t.valueOf),e}function d(e,t,n,r){return vt(e,t,n,r,!0).utc()}function h(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function f(e){return null==e._pf&&(e._pf=h()),e._pf}function p(e){if(null==e._isValid){var t=f(e),n=wr.call(t.parsedDateParts,function(e){return null!=e}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return r;e._isValid=r}return e._isValid}function m(e){var t=d(NaN);return null!=e?l(f(t),e):f(t).userInvalidated=!0,t}function _(e,t){var n,r,i;if(o(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),o(t._i)||(e._i=t._i),o(t._f)||(e._f=t._f),o(t._l)||(e._l=t._l),o(t._strict)||(e._strict=t._strict),o(t._tzm)||(e._tzm=t._tzm),o(t._isUTC)||(e._isUTC=t._isUTC),o(t._offset)||(e._offset=t._offset),o(t._pf)||(e._pf=f(t)),o(t._locale)||(e._locale=t._locale),Sr.length>0)for(n=0;n<Sr.length;n++)r=Sr[n],i=t[r],o(i)||(e[r]=i);return e}function g(t){_(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===xr&&(xr=!0,e.updateOffset(this),xr=!1)}function v(e){return e instanceof g||null!=e&&null!=e._isAMomentObject}function y(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function b(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=y(t)),n}function w(e,t,n){var r,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),s=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&b(e[r])!==b(t[r]))&&s++;return s+o}function S(t){!1===e.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function x(t,n){var r=!0;return l(function(){if(null!=e.deprecationHandler&&e.deprecationHandler(null,t),r){for(var i,o=[],s=0;s<arguments.length;s++){if(i="","object"==typeof arguments[s]){i+="\n["+s+"] ";for(var a in arguments[0])i+=a+": "+arguments[0][a]+", ";i=i.slice(0,-2)}else i=arguments[s];o.push(i)}S(t+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),r=!1}return n.apply(this,arguments)},n)}function M(t,n){null!=e.deprecationHandler&&e.deprecationHandler(t,n),Mr[t]||(S(n),Mr[t]=!0)}function A(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function L(e){var t,n;for(n in e)t=e[n],A(t)?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function T(e,t){var r,i=l({},e);for(r in t)c(t,r)&&(n(e[r])&&n(t[r])?(i[r]={},l(i[r],e[r]),l(i[r],t[r])):null!=t[r]?i[r]=t[r]:delete i[r]);for(r in e)c(e,r)&&!c(t,r)&&n(e[r])&&(i[r]=l({},i[r]));return i}function D(e){null!=e&&this.set(e)}function E(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return A(r)?r.call(t,n):r}function k(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function C(){return this._invalidDate}function N(e){return this._ordinal.replace("%d",e)}function O(e,t,n,r){var i=this._relativeTime[n];return A(i)?i(e,t,n,r):i.replace(/%d/i,e)}function I(e,t){var n=this._relativeTime[e>0?"future":"past"];return A(n)?n(t):n.replace(/%s/i,t)}function Y(e,t){var n=e.toLowerCase();Nr[n]=Nr[n+"s"]=Nr[t]=e}function R(e){return"string"==typeof e?Nr[e]||Nr[e.toLowerCase()]:void 0}function H(e){var t,n,r={};for(n in e)c(e,n)&&(t=R(n))&&(r[t]=e[n]);return r}function j(e,t){Or[e]=t}function P(e){var t=[];for(var n in e)t.push({unit:n,priority:Or[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}function F(t,n){return function(r){return null!=r?(z(this,t,r),e.updateOffset(this,n),this):q(this,t)}}function q(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function z(e,t,n){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](n)}function W(e){return e=R(e),A(this[e])?this[e]():this}function B(e,t){if("object"==typeof e){e=H(e);for(var n=P(e),r=0;r<n.length;r++)this[n[r].unit](e[n[r].unit])}else if(e=R(e),A(this[e]))return this[e](t);return this}function U(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}function J(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&(Hr[e]=i),t&&(Hr[t[0]]=function(){return U(i.apply(this,arguments),t[1],t[2])}),n&&(Hr[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function $(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function G(e){var t,n,r=e.match(Ir);for(t=0,n=r.length;t<n;t++)Hr[r[t]]?r[t]=Hr[r[t]]:r[t]=$(r[t]);return function(t){var i,o="";for(i=0;i<n;i++)o+=A(r[i])?r[i].call(t,e):r[i];return o}}function V(e,t){return e.isValid()?(t=X(t,e.localeData()),Rr[t]=Rr[t]||G(t),Rr[t](e)):e.localeData().invalidDate()}function X(e,t){function n(e){return t.longDateFormat(e)||e}var r=5;for(Yr.lastIndex=0;r>=0&&Yr.test(e);)e=e.replace(Yr,n),Yr.lastIndex=0,r-=1;return e}function Q(e,t,n){ti[e]=A(t)?t:function(e,r){return e&&n?n:t}}function Z(e,t){return c(ti,e)?ti[e](t._strict,t._locale):new RegExp(K(e))}function K(e){return ee(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i}))}function ee(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function te(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),s(t)&&(r=function(e,n){n[t]=b(e)}),n=0;n<e.length;n++)ni[e[n]]=r}function ne(e,t){te(e,function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)})}function re(e,t,n){null!=t&&c(ni,e)&&ni[e](t,n._a,n,e)}function ie(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function oe(e,n){return e?t(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||fi).test(n)?"format":"standalone"][e.month()]:t(this._months)?this._months:this._months.standalone}function se(e,n){return e?t(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[fi.test(n)?"format":"standalone"][e.month()]:t(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ae(e,t,n){var r,i,o,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=d([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?(i=hi.call(this._shortMonthsParse,s),-1!==i?i:null):(i=hi.call(this._longMonthsParse,s),-1!==i?i:null):"MMM"===t?-1!==(i=hi.call(this._shortMonthsParse,s))?i:(i=hi.call(this._longMonthsParse,s),-1!==i?i:null):-1!==(i=hi.call(this._longMonthsParse,s))?i:(i=hi.call(this._shortMonthsParse,s),-1!==i?i:null)}function ue(e,t,n){var r,i,o;if(this._monthsParseExact)return ae.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=d([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function ce(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=b(t);else if(t=e.localeData().monthsParse(t),!s(t))return e;return n=Math.min(e.date(),ie(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function le(t){return null!=t?(ce(this,t),e.updateOffset(this,!0),this):q(this,"Month")}function de(){return ie(this.year(),this.month())}function he(e){return this._monthsParseExact?(c(this,"_monthsRegex")||pe.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(c(this,"_monthsShortRegex")||(this._monthsShortRegex=_i),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function fe(e){return this._monthsParseExact?(c(this,"_monthsRegex")||pe.call(this),e?this._monthsStrictRegex:this._monthsRegex):(c(this,"_monthsRegex")||(this._monthsRegex=gi),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function pe(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],o=[];for(t=0;t<12;t++)n=d([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),o.sort(e),t=0;t<12;t++)r[t]=ee(r[t]),i[t]=ee(i[t]);for(t=0;t<24;t++)o[t]=ee(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function me(e){return _e(e)?366:365}function _e(e){return e%4==0&&e%100!=0||e%400==0}function ge(){return _e(this.year())}function ve(e,t,n,r,i,o,s){var a=new Date(e,t,n,r,i,o,s);return e<100&&e>=0&&isFinite(a.getFullYear())&&a.setFullYear(e),a}function ye(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function be(e,t,n){var r=7+t-n;return-(7+ye(e,0,r).getUTCDay()-t)%7+r-1}function we(e,t,n,r,i){var o,s,a=(7+n-r)%7,u=be(e,r,i),c=1+7*(t-1)+a+u;return c<=0?(o=e-1,s=me(o)+c):c>me(e)?(o=e+1,s=c-me(e)):(o=e,s=c),{year:o,dayOfYear:s}}function Se(e,t,n){var r,i,o=be(e.year(),t,n),s=Math.floor((e.dayOfYear()-o-1)/7)+1;return s<1?(i=e.year()-1,r=s+xe(i,t,n)):s>xe(e.year(),t,n)?(r=s-xe(e.year(),t,n),i=e.year()+1):(i=e.year(),r=s),{week:r,year:i}}function xe(e,t,n){var r=be(e,t,n),i=be(e+1,t,n);return(me(e)-r+i)/7}function Me(e){return Se(e,this._week.dow,this._week.doy).week}function Ae(){return this._week.dow}function Le(){return this._week.doy}function Te(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function De(e){var t=Se(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Ee(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function ke(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Ce(e,n){return e?t(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(n)?"format":"standalone"][e.day()]:t(this._weekdays)?this._weekdays:this._weekdays.standalone}function Ne(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Oe(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Ie(e,t,n){var r,i,o,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=d([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?(i=hi.call(this._weekdaysParse,s),-1!==i?i:null):"ddd"===t?(i=hi.call(this._shortWeekdaysParse,s),-1!==i?i:null):(i=hi.call(this._minWeekdaysParse,s),-1!==i?i:null):"dddd"===t?-1!==(i=hi.call(this._weekdaysParse,s))?i:-1!==(i=hi.call(this._shortWeekdaysParse,s))?i:(i=hi.call(this._minWeekdaysParse,s),-1!==i?i:null):"ddd"===t?-1!==(i=hi.call(this._shortWeekdaysParse,s))?i:-1!==(i=hi.call(this._weekdaysParse,s))?i:(i=hi.call(this._minWeekdaysParse,s),-1!==i?i:null):-1!==(i=hi.call(this._minWeekdaysParse,s))?i:-1!==(i=hi.call(this._weekdaysParse,s))?i:(i=hi.call(this._shortWeekdaysParse,s),-1!==i?i:null)}function Ye(e,t,n){var r,i,o;if(this._weekdaysParseExact)return Ie.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=d([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".",".?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function Re(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Ee(e,this.localeData()),this.add(e-t,"d")):t}function He(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function je(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=ke(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Pe(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||ze.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(c(this,"_weekdaysRegex")||(this._weekdaysRegex=xi),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Fe(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||ze.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(c(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Mi),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function qe(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||ze.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(c(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ai),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function ze(){function e(e,t){return t.length-e.length}var t,n,r,i,o,s=[],a=[],u=[],c=[];for(t=0;t<7;t++)n=d([2e3,1]).day(t),r=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),o=this.weekdays(n,""),s.push(r),a.push(i),u.push(o),c.push(r),c.push(i),c.push(o);for(s.sort(e),a.sort(e),u.sort(e),c.sort(e),t=0;t<7;t++)a[t]=ee(a[t]),u[t]=ee(u[t]),c[t]=ee(c[t]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function We(){return this.hours()%12||12}function Be(){return this.hours()||24}function Ue(e,t){J(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function Je(e,t){return t._meridiemParse}function $e(e){return"p"===(e+"").toLowerCase().charAt(0)}function Ge(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Ve(e){return e?e.toLowerCase().replace("_","-"):e}function Xe(e){for(var t,n,r,i,o=0;o<e.length;){for(i=Ve(e[o]).split("-"),t=i.length,n=Ve(e[o+1]),n=n?n.split("-"):null;t>0;){if(r=Qe(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&w(i,n,!0)>=t-1)break;t--}o++}return null}function Qe(e){var t=null;if(!ki[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=Li._abbr,r("./locale/"+e),Ze(t)}catch(e){}return ki[e]}function Ze(e,t){var n;return e&&(n=o(t)?tt(e):Ke(e,t))&&(Li=n),Li._abbr}function Ke(e,t){if(null!==t){var n=Ei;if(t.abbr=e,null!=ki[e])M("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=ki[e]._config;else if(null!=t.parentLocale){if(null==ki[t.parentLocale])return Ci[t.parentLocale]||(Ci[t.parentLocale]=[]),Ci[t.parentLocale].push({name:e,config:t}),null;n=ki[t.parentLocale]._config}return ki[e]=new D(T(n,t)),Ci[e]&&Ci[e].forEach(function(e){Ke(e.name,e.config)}),Ze(e),ki[e]}return delete ki[e],null}function et(e,t){if(null!=t){var n,r=Ei;null!=ki[e]&&(r=ki[e]._config),t=T(r,t),n=new D(t),n.parentLocale=ki[e],ki[e]=n,Ze(e)}else null!=ki[e]&&(null!=ki[e].parentLocale?ki[e]=ki[e].parentLocale:null!=ki[e]&&delete ki[e]);return ki[e]}function tt(e){var n;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Li;if(!t(e)){if(n=Qe(e))return n;e=[e]}return Xe(e)}function nt(){return Tr(ki)}function rt(e){var t,n=e._a;return n&&-2===f(e).overflow&&(t=n[ii]<0||n[ii]>11?ii:n[oi]<1||n[oi]>ie(n[ri],n[ii])?oi:n[si]<0||n[si]>24||24===n[si]&&(0!==n[ai]||0!==n[ui]||0!==n[ci])?si:n[ai]<0||n[ai]>59?ai:n[ui]<0||n[ui]>59?ui:n[ci]<0||n[ci]>999?ci:-1,f(e)._overflowDayOfYear&&(t<ri||t>oi)&&(t=oi),f(e)._overflowWeeks&&-1===t&&(t=li),f(e)._overflowWeekday&&-1===t&&(t=di),f(e).overflow=t),e}function it(e){var t,n,r,i,o,s,a=e._i,u=Ni.exec(a)||Oi.exec(a);if(u){for(f(e).iso=!0,t=0,n=Yi.length;t<n;t++)if(Yi[t][1].exec(u[1])){i=Yi[t][0],r=!1!==Yi[t][2];break}if(null==i)return void(e._isValid=!1);if(u[3]){for(t=0,n=Ri.length;t<n;t++)if(Ri[t][1].exec(u[3])){o=(u[2]||" ")+Ri[t][0];break}if(null==o)return void(e._isValid=!1)}if(!r&&null!=o)return void(e._isValid=!1);if(u[4]){if(!Ii.exec(u[4]))return void(e._isValid=!1);s="Z"}e._f=i+(o||"")+(s||""),dt(e)}else e._isValid=!1}function ot(e){var t,n,r,i,o,s,a,u,c={" GMT":" +0000"," EDT":" -0400"," EST":" -0500"," CDT":" -0500"," CST":" -0600"," MDT":" -0600"," MST":" -0700"," PDT":" -0700"," PST":" -0800"},l="YXWVUTSRQPONZABCDEFGHIKLM";if(t=e._i.replace(/\([^\)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s|\s$/g,""),n=ji.exec(t)){if(r=n[1]?"ddd"+(5===n[1].length?", ":" "):"",i="D MMM "+(n[2].length>10?"YYYY ":"YY "),o="HH:mm"+(n[4]?":ss":""),n[1]){var d=new Date(n[2]),h=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][d.getDay()];if(n[1].substr(0,3)!==h)return f(e).weekdayMismatch=!0,void(e._isValid=!1)}switch(n[5].length){case 2:0===u?a=" +0000":(u=l.indexOf(n[5][1].toUpperCase())-12,a=(u<0?" -":" +")+(""+u).replace(/^-?/,"0").match(/..$/)[0]+"00");break;case 4:a=c[n[5]];break;default:a=c[" GMT"]}n[5]=a,e._i=n.splice(1).join(""),s=" ZZ",e._f=r+i+o+s,dt(e),f(e).rfc2822=!0}else e._isValid=!1}function st(t){var n=Hi.exec(t._i);if(null!==n)return void(t._d=new Date(+n[1]));it(t),!1===t._isValid&&(delete t._isValid,ot(t),!1===t._isValid&&(delete t._isValid,e.createFromInputFallback(t)))}function at(e,t,n){return null!=e?e:null!=t?t:n}function ut(t){var n=new Date(e.now());return t._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function ct(e){var t,n,r,i,o=[];if(!e._d){for(r=ut(e),e._w&&null==e._a[oi]&&null==e._a[ii]&&lt(e),null!=e._dayOfYear&&(i=at(e._a[ri],r[ri]),(e._dayOfYear>me(i)||0===e._dayOfYear)&&(f(e)._overflowDayOfYear=!0),n=ye(i,0,e._dayOfYear),e._a[ii]=n.getUTCMonth(),e._a[oi]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=o[t]=r[t];for(;t<7;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[si]&&0===e._a[ai]&&0===e._a[ui]&&0===e._a[ci]&&(e._nextDay=!0,e._a[si]=0),e._d=(e._useUTC?ye:ve).apply(null,o),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[si]=24)}}function lt(e){var t,n,r,i,o,s,a,u;if(t=e._w,null!=t.GG||null!=t.W||null!=t.E)o=1,s=4,n=at(t.GG,e._a[ri],Se(yt(),1,4).year),r=at(t.W,1),((i=at(t.E,1))<1||i>7)&&(u=!0);else{o=e._locale._week.dow,s=e._locale._week.doy;var c=Se(yt(),o,s);n=at(t.gg,e._a[ri],c.year),r=at(t.w,c.week),null!=t.d?((i=t.d)<0||i>6)&&(u=!0):null!=t.e?(i=t.e+o,(t.e<0||t.e>6)&&(u=!0)):i=o}r<1||r>xe(n,o,s)?f(e)._overflowWeeks=!0:null!=u?f(e)._overflowWeekday=!0:(a=we(n,r,i,o,s),e._a[ri]=a.year,e._dayOfYear=a.dayOfYear)}function dt(t){if(t._f===e.ISO_8601)return void it(t);if(t._f===e.RFC_2822)return void ot(t);t._a=[],f(t).empty=!0;var n,r,i,o,s,a=""+t._i,u=a.length,c=0;for(i=X(t._f,t._locale).match(Ir)||[],n=0;n<i.length;n++)o=i[n],r=(a.match(Z(o,t))||[])[0],r&&(s=a.substr(0,a.indexOf(r)),s.length>0&&f(t).unusedInput.push(s),a=a.slice(a.indexOf(r)+r.length),c+=r.length),Hr[o]?(r?f(t).empty=!1:f(t).unusedTokens.push(o),re(o,r,t)):t._strict&&!r&&f(t).unusedTokens.push(o);f(t).charsLeftOver=u-c,a.length>0&&f(t).unusedInput.push(a),t._a[si]<=12&&!0===f(t).bigHour&&t._a[si]>0&&(f(t).bigHour=void 0),f(t).parsedDateParts=t._a.slice(0),f(t).meridiem=t._meridiem,t._a[si]=ht(t._locale,t._a[si],t._meridiem),ct(t),rt(t)}function ht(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(r=e.isPM(n),r&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function ft(e){var t,n,r,i,o;if(0===e._f.length)return f(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)o=0,t=_({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],dt(t),p(t)&&(o+=f(t).charsLeftOver,o+=10*f(t).unusedTokens.length,f(t).score=o,(null==r||o<r)&&(r=o,n=t));l(e,n||t)}function pt(e){if(!e._d){var t=H(e._i);e._a=u([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),ct(e)}}function mt(e){var t=new g(rt(_t(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function _t(e){var n=e._i,r=e._f;return e._locale=e._locale||tt(e._l),null===n||void 0===r&&""===n?m({nullInput:!0}):("string"==typeof n&&(e._i=n=e._locale.preparse(n)),v(n)?new g(rt(n)):(a(n)?e._d=n:t(r)?ft(e):r?dt(e):gt(e),p(e)||(e._d=null),e))}function gt(r){var i=r._i;o(i)?r._d=new Date(e.now()):a(i)?r._d=new Date(i.valueOf()):"string"==typeof i?st(r):t(i)?(r._a=u(i.slice(0),function(e){return parseInt(e,10)}),ct(r)):n(i)?pt(r):s(i)?r._d=new Date(i):e.createFromInputFallback(r)}function vt(e,r,o,s,a){var u={};return!0!==o&&!1!==o||(s=o,o=void 0),(n(e)&&i(e)||t(e)&&0===e.length)&&(e=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=a,u._l=o,u._i=e,u._f=r,u._strict=s,mt(u)}function yt(e,t,n,r){return vt(e,t,n,r,!1)}function bt(e,n){var r,i;if(1===n.length&&t(n[0])&&(n=n[0]),!n.length)return yt();for(r=n[0],i=1;i<n.length;++i)n[i].isValid()&&!n[i][e](r)||(r=n[i]);return r}function wt(){return bt("isBefore",[].slice.call(arguments,0))}function St(){return bt("isAfter",[].slice.call(arguments,0))}function xt(e){for(var t in e)if(-1===zi.indexOf(t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,r=0;r<zi.length;++r)if(e[zi[r]]){if(n)return!1;parseFloat(e[zi[r]])!==b(e[zi[r]])&&(n=!0)}return!0}function Mt(){return this._isValid}function At(){return Bt(NaN)}function Lt(e){var t=H(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||0,s=t.day||0,a=t.hour||0,u=t.minute||0,c=t.second||0,l=t.millisecond||0;this._isValid=xt(t),this._milliseconds=+l+1e3*c+6e4*u+1e3*a*60*60,this._days=+s+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=tt(),this._bubble()}function Tt(e){return e instanceof Lt}function Dt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Et(e,t){J(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+U(~~(e/60),2)+t+U(~~e%60,2)})}function kt(e,t){var n=(t||"").match(e);if(null===n)return null;var r=n[n.length-1]||[],i=(r+"").match(Wi)||["-",0,0],o=60*i[1]+b(i[2]);return 0===o?0:"+"===i[0]?o:-o}function Ct(t,n){var r,i;return n._isUTC?(r=n.clone(),i=(v(t)||a(t)?t.valueOf():yt(t).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+i),e.updateOffset(r,!1),r):yt(t).local()}function Nt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Ot(t,n,r){var i,o=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=kt(Zr,t)))return this}else Math.abs(t)<16&&!r&&(t*=60);return!this._isUTC&&n&&(i=Nt(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),o!==t&&(!n||this._changeInProgress?Vt(this,Bt(t-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:Nt(this)}function It(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Yt(e){return this.utcOffset(0,e)}function Rt(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Nt(this),"m")),this}function Ht(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=kt(Qr,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function jt(e){return!!this.isValid()&&(e=e?yt(e).utcOffset():0,(this.utcOffset()-e)%60==0)}function Pt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ft(){if(!o(this._isDSTShifted))return this._isDSTShifted;var e={};if(_(e,this),e=_t(e),e._a){var t=e._isUTC?d(e._a):yt(e._a);this._isDSTShifted=this.isValid()&&w(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function qt(){return!!this.isValid()&&!this._isUTC}function zt(){return!!this.isValid()&&this._isUTC}function Wt(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Bt(e,t){var n,r,i,o=e,a=null;return Tt(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:s(e)?(o={},t?o[t]=e:o.milliseconds=e):(a=Bi.exec(e))?(n="-"===a[1]?-1:1,o={y:0,d:b(a[oi])*n,h:b(a[si])*n,m:b(a[ai])*n,s:b(a[ui])*n,ms:b(Dt(1e3*a[ci]))*n}):(a=Ui.exec(e))?(n="-"===a[1]?-1:1,o={y:Ut(a[2],n),M:Ut(a[3],n),w:Ut(a[4],n),d:Ut(a[5],n),h:Ut(a[6],n),m:Ut(a[7],n),s:Ut(a[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(i=$t(yt(o.from),yt(o.to)),o={},o.ms=i.milliseconds,o.M=i.months),r=new Lt(o),Tt(e)&&c(e,"_locale")&&(r._locale=e._locale),r}function Ut(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Jt(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function $t(e,t){var n;return e.isValid()&&t.isValid()?(t=Ct(t,e),e.isBefore(t)?n=Jt(e,t):(n=Jt(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Gt(e,t){return function(n,r){var i,o;return null===r||isNaN(+r)||(M(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=r,r=o),n="string"==typeof n?+n:n,i=Bt(n,r),Vt(this,i,e),this}}function Vt(t,n,r,i){var o=n._milliseconds,s=Dt(n._days),a=Dt(n._months);t.isValid()&&(i=null==i||i,o&&t._d.setTime(t._d.valueOf()+o*r),s&&z(t,"Date",q(t,"Date")+s*r),a&&ce(t,q(t,"Month")+a*r),i&&e.updateOffset(t,s||a))}function Xt(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Qt(t,n){var r=t||yt(),i=Ct(r,this).startOf("day"),o=e.calendarFormat(this,i)||"sameElse",s=n&&(A(n[o])?n[o].call(this,r):n[o]);return this.format(s||this.localeData().calendar(o,this,yt(r)))}function Zt(){return new g(this)}function Kt(e,t){var n=v(e)?e:yt(e);return!(!this.isValid()||!n.isValid())&&(t=R(o(t)?"millisecond":t),"millisecond"===t?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function en(e,t){var n=v(e)?e:yt(e);return!(!this.isValid()||!n.isValid())&&(t=R(o(t)?"millisecond":t),"millisecond"===t?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function tn(e,t,n,r){return r=r||"()",("("===r[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===r[1]?this.isBefore(t,n):!this.isAfter(t,n))}function nn(e,t){var n,r=v(e)?e:yt(e);return!(!this.isValid()||!r.isValid())&&(t=R(t||"millisecond"),"millisecond"===t?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function rn(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function on(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function sn(e,t,n){var r,i,o,s;return this.isValid()?(r=Ct(e,this),r.isValid()?(i=6e4*(r.utcOffset()-this.utcOffset()),t=R(t),"year"===t||"month"===t||"quarter"===t?(s=an(this,r),"quarter"===t?s/=3:"year"===t&&(s/=12)):(o=this-r,s="second"===t?o/1e3:"minute"===t?o/6e4:"hour"===t?o/36e5:"day"===t?(o-i)/864e5:"week"===t?(o-i)/6048e5:o),n?s:y(s)):NaN):NaN}function an(e,t){var n,r,i=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(i,"months");return t-o<0?(n=e.clone().add(i-1,"months"),r=(t-o)/(o-n)):(n=e.clone().add(i+1,"months"),
r=(t-o)/(n-o)),-(i+r)||0}function un(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function cn(){if(!this.isValid())return null;var e=this.clone().utc();return e.year()<0||e.year()>9999?V(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):A(Date.prototype.toISOString)?this.toDate().toISOString():V(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function ln(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i=t+'[")]';return this.format(n+r+"-MM-DD[T]HH:mm:ss.SSS"+i)}function dn(t){t||(t=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var n=V(this,t);return this.localeData().postformat(n)}function hn(e,t){return this.isValid()&&(v(e)&&e.isValid()||yt(e).isValid())?Bt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function fn(e){return this.from(yt(),e)}function pn(e,t){return this.isValid()&&(v(e)&&e.isValid()||yt(e).isValid())?Bt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function mn(e){return this.to(yt(),e)}function _n(e){var t;return void 0===e?this._locale._abbr:(t=tt(e),null!=t&&(this._locale=t),this)}function gn(){return this._locale}function vn(e){switch(e=R(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function yn(e){return void 0===(e=R(e))||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))}function bn(){return this._d.valueOf()-6e4*(this._offset||0)}function wn(){return Math.floor(this.valueOf()/1e3)}function Sn(){return new Date(this.valueOf())}function xn(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Mn(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function An(){return this.isValid()?this.toISOString():null}function Ln(){return p(this)}function Tn(){return l({},f(this))}function Dn(){return f(this).overflow}function En(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function kn(e,t){J(0,[e,e.length],0,t)}function Cn(e){return Yn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Nn(e){return Yn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function On(){return xe(this.year(),1,4)}function In(){var e=this.localeData()._week;return xe(this.year(),e.dow,e.doy)}function Yn(e,t,n,r,i){var o;return null==e?Se(this,r,i).year:(o=xe(e,r,i),t>o&&(t=o),Rn.call(this,e,t,n,r,i))}function Rn(e,t,n,r,i){var o=we(e,t,n,r,i),s=ye(o.year,0,o.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}function Hn(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function jn(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function Pn(e,t){t[ci]=b(1e3*("0."+e))}function Fn(){return this._isUTC?"UTC":""}function qn(){return this._isUTC?"Coordinated Universal Time":""}function zn(e){return yt(1e3*e)}function Wn(){return yt.apply(null,arguments).parseZone()}function Bn(e){return e}function Un(e,t,n,r){var i=tt(),o=d().set(r,t);return i[n](o,e)}function Jn(e,t,n){if(s(e)&&(t=e,e=void 0),e=e||"",null!=t)return Un(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=Un(e,r,n,"month");return i}function $n(e,t,n,r){"boolean"==typeof e?(s(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,s(t)&&(n=t,t=void 0),t=t||"");var i=tt(),o=e?i._week.dow:0;if(null!=n)return Un(t,(n+o)%7,r,"day");var a,u=[];for(a=0;a<7;a++)u[a]=Un(t,(a+o)%7,r,"day");return u}function Gn(e,t){return Jn(e,t,"months")}function Vn(e,t){return Jn(e,t,"monthsShort")}function Xn(e,t,n){return $n(e,t,n,"weekdays")}function Qn(e,t,n){return $n(e,t,n,"weekdaysShort")}function Zn(e,t,n){return $n(e,t,n,"weekdaysMin")}function Kn(){var e=this._data;return this._milliseconds=no(this._milliseconds),this._days=no(this._days),this._months=no(this._months),e.milliseconds=no(e.milliseconds),e.seconds=no(e.seconds),e.minutes=no(e.minutes),e.hours=no(e.hours),e.months=no(e.months),e.years=no(e.years),this}function er(e,t,n,r){var i=Bt(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function tr(e,t){return er(this,e,t,1)}function nr(e,t){return er(this,e,t,-1)}function rr(e){return e<0?Math.floor(e):Math.ceil(e)}function ir(){var e,t,n,r,i,o=this._milliseconds,s=this._days,a=this._months,u=this._data;return o>=0&&s>=0&&a>=0||o<=0&&s<=0&&a<=0||(o+=864e5*rr(sr(a)+s),s=0,a=0),u.milliseconds=o%1e3,e=y(o/1e3),u.seconds=e%60,t=y(e/60),u.minutes=t%60,n=y(t/60),u.hours=n%24,s+=y(n/24),i=y(or(s)),a+=i,s-=rr(sr(i)),r=y(a/12),a%=12,u.days=s,u.months=a,u.years=r,this}function or(e){return 4800*e/146097}function sr(e){return 146097*e/4800}function ar(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=R(e))||"year"===e)return t=this._days+r/864e5,n=this._months+or(t),"month"===e?n:n/12;switch(t=this._days+Math.round(sr(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function ur(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*b(this._months/12):NaN}function cr(e){return function(){return this.as(e)}}function lr(e){return e=R(e),this.isValid()?this[e+"s"]():NaN}function dr(e){return function(){return this.isValid()?this._data[e]:NaN}}function hr(){return y(this.days()/7)}function fr(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function pr(e,t,n){var r=Bt(e).abs(),i=yo(r.as("s")),o=yo(r.as("m")),s=yo(r.as("h")),a=yo(r.as("d")),u=yo(r.as("M")),c=yo(r.as("y")),l=i<=bo.ss&&["s",i]||i<bo.s&&["ss",i]||o<=1&&["m"]||o<bo.m&&["mm",o]||s<=1&&["h"]||s<bo.h&&["hh",s]||a<=1&&["d"]||a<bo.d&&["dd",a]||u<=1&&["M"]||u<bo.M&&["MM",u]||c<=1&&["y"]||["yy",c];return l[2]=t,l[3]=+e>0,l[4]=n,fr.apply(null,l)}function mr(e){return void 0===e?yo:"function"==typeof e&&(yo=e,!0)}function _r(e,t){return void 0!==bo[e]&&(void 0===t?bo[e]:(bo[e]=t,"s"===e&&(bo.ss=t-1),!0))}function gr(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=pr(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function vr(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r=wo(this._milliseconds)/1e3,i=wo(this._days),o=wo(this._months);e=y(r/60),t=y(e/60),r%=60,e%=60,n=y(o/12),o%=12;var s=n,a=o,u=i,c=t,l=e,d=r,h=this.asSeconds();return h?(h<0?"-":"")+"P"+(s?s+"Y":"")+(a?a+"M":"")+(u?u+"D":"")+(c||l||d?"T":"")+(c?c+"H":"")+(l?l+"M":"")+(d?d+"S":""):"P0D"}var yr,br;br=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};var wr=br,Sr=e.momentProperties=[],xr=!1,Mr={};e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;var Ar;Ar=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)c(e,t)&&n.push(t);return n};var Lr,Tr=Ar,Dr={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Er={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},kr=/\d{1,2}/,Cr={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Nr={},Or={},Ir=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Yr=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Rr={},Hr={},jr=/\d/,Pr=/\d\d/,Fr=/\d{3}/,qr=/\d{4}/,zr=/[+-]?\d{6}/,Wr=/\d\d?/,Br=/\d\d\d\d?/,Ur=/\d\d\d\d\d\d?/,Jr=/\d{1,3}/,$r=/\d{1,4}/,Gr=/[+-]?\d{1,6}/,Vr=/\d+/,Xr=/[+-]?\d+/,Qr=/Z|[+-]\d\d:?\d\d/gi,Zr=/Z|[+-]\d\d(?::?\d\d)?/gi,Kr=/[+-]?\d+(\.\d{1,3})?/,ei=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ti={},ni={},ri=0,ii=1,oi=2,si=3,ai=4,ui=5,ci=6,li=7,di=8;Lr=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};var hi=Lr;J("M",["MM",2],"Mo",function(){return this.month()+1}),J("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),J("MMMM",0,0,function(e){return this.localeData().months(this,e)}),Y("month","M"),j("month",8),Q("M",Wr),Q("MM",Wr,Pr),Q("MMM",function(e,t){return t.monthsShortRegex(e)}),Q("MMMM",function(e,t){return t.monthsRegex(e)}),te(["M","MM"],function(e,t){t[ii]=b(e)-1}),te(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[ii]=i:f(n).invalidMonth=e});var fi=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,pi="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),mi="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),_i=ei,gi=ei;J("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),J(0,["YY",2],0,function(){return this.year()%100}),J(0,["YYYY",4],0,"year"),J(0,["YYYYY",5],0,"year"),J(0,["YYYYYY",6,!0],0,"year"),Y("year","y"),j("year",1),Q("Y",Xr),Q("YY",Wr,Pr),Q("YYYY",$r,qr),Q("YYYYY",Gr,zr),Q("YYYYYY",Gr,zr),te(["YYYYY","YYYYYY"],ri),te("YYYY",function(t,n){n[ri]=2===t.length?e.parseTwoDigitYear(t):b(t)}),te("YY",function(t,n){n[ri]=e.parseTwoDigitYear(t)}),te("Y",function(e,t){t[ri]=parseInt(e,10)}),e.parseTwoDigitYear=function(e){return b(e)+(b(e)>68?1900:2e3)};var vi=F("FullYear",!0);J("w",["ww",2],"wo","week"),J("W",["WW",2],"Wo","isoWeek"),Y("week","w"),Y("isoWeek","W"),j("week",5),j("isoWeek",5),Q("w",Wr),Q("ww",Wr,Pr),Q("W",Wr),Q("WW",Wr,Pr),ne(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=b(e)});var yi={dow:0,doy:6};J("d",0,"do","day"),J("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),J("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),J("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),J("e",0,0,"weekday"),J("E",0,0,"isoWeekday"),Y("day","d"),Y("weekday","e"),Y("isoWeekday","E"),j("day",11),j("weekday",11),j("isoWeekday",11),Q("d",Wr),Q("e",Wr),Q("E",Wr),Q("dd",function(e,t){return t.weekdaysMinRegex(e)}),Q("ddd",function(e,t){return t.weekdaysShortRegex(e)}),Q("dddd",function(e,t){return t.weekdaysRegex(e)}),ne(["dd","ddd","dddd"],function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:f(n).invalidWeekday=e}),ne(["d","e","E"],function(e,t,n,r){t[r]=b(e)});var bi="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),wi="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Si="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),xi=ei,Mi=ei,Ai=ei;J("H",["HH",2],0,"hour"),J("h",["hh",2],0,We),J("k",["kk",2],0,Be),J("hmm",0,0,function(){return""+We.apply(this)+U(this.minutes(),2)}),J("hmmss",0,0,function(){return""+We.apply(this)+U(this.minutes(),2)+U(this.seconds(),2)}),J("Hmm",0,0,function(){return""+this.hours()+U(this.minutes(),2)}),J("Hmmss",0,0,function(){return""+this.hours()+U(this.minutes(),2)+U(this.seconds(),2)}),Ue("a",!0),Ue("A",!1),Y("hour","h"),j("hour",13),Q("a",Je),Q("A",Je),Q("H",Wr),Q("h",Wr),Q("k",Wr),Q("HH",Wr,Pr),Q("hh",Wr,Pr),Q("kk",Wr,Pr),Q("hmm",Br),Q("hmmss",Ur),Q("Hmm",Br),Q("Hmmss",Ur),te(["H","HH"],si),te(["k","kk"],function(e,t,n){var r=b(e);t[si]=24===r?0:r}),te(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),te(["h","hh"],function(e,t,n){t[si]=b(e),f(n).bigHour=!0}),te("hmm",function(e,t,n){var r=e.length-2;t[si]=b(e.substr(0,r)),t[ai]=b(e.substr(r)),f(n).bigHour=!0}),te("hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[si]=b(e.substr(0,r)),t[ai]=b(e.substr(r,2)),t[ui]=b(e.substr(i)),f(n).bigHour=!0}),te("Hmm",function(e,t,n){var r=e.length-2;t[si]=b(e.substr(0,r)),t[ai]=b(e.substr(r))}),te("Hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[si]=b(e.substr(0,r)),t[ai]=b(e.substr(r,2)),t[ui]=b(e.substr(i))});var Li,Ti=/[ap]\.?m?\.?/i,Di=F("Hours",!0),Ei={calendar:Dr,longDateFormat:Er,invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:kr,relativeTime:Cr,months:pi,monthsShort:mi,week:yi,weekdays:bi,weekdaysMin:Si,weekdaysShort:wi,meridiemParse:Ti},ki={},Ci={},Ni=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Oi=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ii=/Z|[+-]\d\d(?::?\d\d)?/,Yi=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Ri=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Hi=/^\/?Date\((\-?\d+)/i,ji=/^((?:Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d?\d\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(?:\d\d)?\d\d\s)(\d\d:\d\d)(\:\d\d)?(\s(?:UT|GMT|[ECMP][SD]T|[A-IK-Za-ik-z]|[+-]\d{4}))$/;e.createFromInputFallback=x("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),e.ISO_8601=function(){},e.RFC_2822=function(){};var Pi=x("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=yt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:m()}),Fi=x("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=yt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:m()}),qi=function(){return Date.now?Date.now():+new Date},zi=["year","quarter","month","week","day","hour","minute","second","millisecond"];Et("Z",":"),Et("ZZ",""),Q("Z",Zr),Q("ZZ",Zr),te(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=kt(Zr,e)});var Wi=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var Bi=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Ui=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;Bt.fn=Lt.prototype,Bt.invalid=At;var Ji=Gt(1,"add"),$i=Gt(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Gi=x("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});J(0,["gg",2],0,function(){return this.weekYear()%100}),J(0,["GG",2],0,function(){return this.isoWeekYear()%100}),kn("gggg","weekYear"),kn("ggggg","weekYear"),kn("GGGG","isoWeekYear"),kn("GGGGG","isoWeekYear"),Y("weekYear","gg"),Y("isoWeekYear","GG"),j("weekYear",1),j("isoWeekYear",1),Q("G",Xr),Q("g",Xr),Q("GG",Wr,Pr),Q("gg",Wr,Pr),Q("GGGG",$r,qr),Q("gggg",$r,qr),Q("GGGGG",Gr,zr),Q("ggggg",Gr,zr),ne(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=b(e)}),ne(["gg","GG"],function(t,n,r,i){n[i]=e.parseTwoDigitYear(t)}),J("Q",0,"Qo","quarter"),Y("quarter","Q"),j("quarter",7),Q("Q",jr),te("Q",function(e,t){t[ii]=3*(b(e)-1)}),J("D",["DD",2],"Do","date"),Y("date","D"),j("date",9),Q("D",Wr),Q("DD",Wr,Pr),Q("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),te(["D","DD"],oi),te("Do",function(e,t){t[oi]=b(e.match(Wr)[0],10)});var Vi=F("Date",!0);J("DDD",["DDDD",3],"DDDo","dayOfYear"),Y("dayOfYear","DDD"),j("dayOfYear",4),Q("DDD",Jr),Q("DDDD",Fr),te(["DDD","DDDD"],function(e,t,n){n._dayOfYear=b(e)}),J("m",["mm",2],0,"minute"),Y("minute","m"),j("minute",14),Q("m",Wr),Q("mm",Wr,Pr),te(["m","mm"],ai);var Xi=F("Minutes",!1);J("s",["ss",2],0,"second"),Y("second","s"),j("second",15),Q("s",Wr),Q("ss",Wr,Pr),te(["s","ss"],ui);var Qi=F("Seconds",!1);J("S",0,0,function(){return~~(this.millisecond()/100)}),J(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),J(0,["SSS",3],0,"millisecond"),J(0,["SSSS",4],0,function(){return 10*this.millisecond()}),J(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),J(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),J(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),J(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),J(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),Y("millisecond","ms"),j("millisecond",16),Q("S",Jr,jr),Q("SS",Jr,Pr),Q("SSS",Jr,Fr);var Zi;for(Zi="SSSS";Zi.length<=9;Zi+="S")Q(Zi,Vr);for(Zi="S";Zi.length<=9;Zi+="S")te(Zi,Pn);var Ki=F("Milliseconds",!1);J("z",0,0,"zoneAbbr"),J("zz",0,0,"zoneName");var eo=g.prototype;eo.add=Ji,eo.calendar=Qt,eo.clone=Zt,eo.diff=sn,eo.endOf=yn,eo.format=dn,eo.from=hn,eo.fromNow=fn,eo.to=pn,eo.toNow=mn,eo.get=W,eo.invalidAt=Dn,eo.isAfter=Kt,eo.isBefore=en,eo.isBetween=tn,eo.isSame=nn,eo.isSameOrAfter=rn,eo.isSameOrBefore=on,eo.isValid=Ln,eo.lang=Gi,eo.locale=_n,eo.localeData=gn,eo.max=Fi,eo.min=Pi,eo.parsingFlags=Tn,eo.set=B,eo.startOf=vn,eo.subtract=$i,eo.toArray=xn,eo.toObject=Mn,eo.toDate=Sn,eo.toISOString=cn,eo.inspect=ln,eo.toJSON=An,eo.toString=un,eo.unix=wn,eo.valueOf=bn,eo.creationData=En,eo.year=vi,eo.isLeapYear=ge,eo.weekYear=Cn,eo.isoWeekYear=Nn,eo.quarter=eo.quarters=Hn,eo.month=le,eo.daysInMonth=de,eo.week=eo.weeks=Te,eo.isoWeek=eo.isoWeeks=De,eo.weeksInYear=In,eo.isoWeeksInYear=On,eo.date=Vi,eo.day=eo.days=Re,eo.weekday=He,eo.isoWeekday=je,eo.dayOfYear=jn,eo.hour=eo.hours=Di,eo.minute=eo.minutes=Xi,eo.second=eo.seconds=Qi,eo.millisecond=eo.milliseconds=Ki,eo.utcOffset=Ot,eo.utc=Yt,eo.local=Rt,eo.parseZone=Ht,eo.hasAlignedHourOffset=jt,eo.isDST=Pt,eo.isLocal=qt,eo.isUtcOffset=zt,eo.isUtc=Wt,eo.isUTC=Wt,eo.zoneAbbr=Fn,eo.zoneName=qn,eo.dates=x("dates accessor is deprecated. Use date instead.",Vi),eo.months=x("months accessor is deprecated. Use month instead",le),eo.years=x("years accessor is deprecated. Use year instead",vi),eo.zone=x("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",It),eo.isDSTShifted=x("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Ft);var to=D.prototype;to.calendar=E,to.longDateFormat=k,to.invalidDate=C,to.ordinal=N,to.preparse=Bn,to.postformat=Bn,to.relativeTime=O,to.pastFuture=I,to.set=L,to.months=oe,to.monthsShort=se,to.monthsParse=ue,to.monthsRegex=fe,to.monthsShortRegex=he,to.week=Me,to.firstDayOfYear=Le,to.firstDayOfWeek=Ae,to.weekdays=Ce,to.weekdaysMin=Oe,to.weekdaysShort=Ne,to.weekdaysParse=Ye,to.weekdaysRegex=Pe,to.weekdaysShortRegex=Fe,to.weekdaysMinRegex=qe,to.isPM=$e,to.meridiem=Ge,Ze("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===b(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),e.lang=x("moment.lang is deprecated. Use moment.locale instead.",Ze),e.langData=x("moment.langData is deprecated. Use moment.localeData instead.",tt);var no=Math.abs,ro=cr("ms"),io=cr("s"),oo=cr("m"),so=cr("h"),ao=cr("d"),uo=cr("w"),co=cr("M"),lo=cr("y"),ho=dr("milliseconds"),fo=dr("seconds"),po=dr("minutes"),mo=dr("hours"),_o=dr("days"),go=dr("months"),vo=dr("years"),yo=Math.round,bo={ss:44,s:45,m:45,h:22,d:26,M:11},wo=Math.abs,So=Lt.prototype;return So.isValid=Mt,So.abs=Kn,So.add=tr,So.subtract=nr,So.as=ar,So.asMilliseconds=ro,So.asSeconds=io,So.asMinutes=oo,So.asHours=so,So.asDays=ao,So.asWeeks=uo,So.asMonths=co,So.asYears=lo,So.valueOf=ur,So._bubble=ir,So.get=lr,So.milliseconds=ho,So.seconds=fo,So.minutes=po,So.hours=mo,So.days=_o,So.weeks=hr,So.months=go,So.years=vo,So.humanize=gr,So.toISOString=vr,So.toString=vr,So.toJSON=vr,So.locale=_n,So.localeData=gn,So.toIsoString=x("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",vr),So.lang=Gi,J("X",0,0,"unix"),J("x",0,0,"valueOf"),Q("x",Xr),Q("X",Kr),te("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),te("x",function(e,t,n){n._d=new Date(b(e))}),e.version="2.18.1",function(e){yr=e}(yt),e.fn=eo,e.min=wt,e.max=St,e.now=qi,e.utc=d,e.unix=zn,e.months=Gn,e.isDate=a,e.locale=Ze,e.invalid=m,e.duration=Bt,e.isMoment=v,e.weekdays=Xn,e.parseZone=Wn,e.localeData=tt,e.isDuration=Tt,e.monthsShort=Vn,e.weekdaysMin=Zn,e.defineLocale=Ke,e.updateLocale=et,e.locales=nt,e.weekdaysShort=Qn,e.normalizeUnits=R,e.relativeTimeRounding=mr,e.relativeTimeThreshold=_r,e.calendarFormat=Xt,e.prototype=eo,e}),i("moment",["moment/moment"],function(e){return e}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module&&"function"==typeof r?t(r("../moment")):"function"==typeof i&&i.amd?i("moment/locale/af",["../moment"],t):t(e.moment)}(this,function(e){"use strict";return e.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(e){return/^nm$/i.test(e)},meridiem:function(e,t,n){return e<12?n?"vm":"VM":n?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Môre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module&&"function"==typeof r?t(r("../moment")):"function"==typeof i&&i.amd?i("moment/locale/bg",["../moment"],t):t(e.moment)}(this,function(e){"use strict";return e.defineLocale("bg",{months:"януари_февруари_март_април_май_юни_юли_август_септември_октомври_ноември_декември".split("_"),monthsShort:"янр_фев_мар_апр_май_юни_юли_авг_сеп_окт_ное_дек".split("_"),weekdays:"неделя_понеделник_вторник_сряда_четвъртък_петък_събота".split("_"),weekdaysShort:"нед_пон_вто_сря_чет_пет_съб".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[Днес в] LT",nextDay:"[Утре в] LT",nextWeek:"dddd [в] LT",lastDay:"[Вчера в] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[В изминалата] dddd [в] LT";case 1:case 2:case 4:case 5:return"[В изминалия] dddd [в] LT"}},sameElse:"L"},relativeTime:{future:"след %s",past:"преди %s",s:"няколко секунди",m:"минута",mm:"%d минути",h:"час",hh:"%d часа",d:"ден",dd:"%d дни",M:"месец",MM:"%d месеца",y:"година",yy:"%d години"},dayOfMonthOrdinalParse:/\d{1,2}-(ев|ен|ти|ви|ри|ми)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-ев":0===n?e+"-ен":n>10&&n<20?e+"-ти":1===t?e+"-ви":2===t?e+"-ри":7===t||8===t?e+"-ми":e+"-ти"},week:{dow:1,doy:7}})}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module&&"function"==typeof r?t(r("../moment")):"function"==typeof i&&i.amd?i("moment/locale/ca",["../moment"],t):t(e.moment)}(this,function(e){"use strict";return e.defineLocale("ca",{months:{standalone:"gener_febrer_març_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de març_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._març_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"Dg_Dl_Dt_Dc_Dj_Dv_Ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"[el] D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"[el] D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"[el] dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[demà a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aquí %s",past:"fa %s",s:"uns segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|è|a)/,ordinal:function(e,t){var n=1===e?"r":2===e?"n":3===e?"r":4===e?"t":"è";return"w"!==t&&"W"!==t||(n="a"),e+n},week:{dow:1,doy:4}})}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module&&"function"==typeof r?t(r("../moment")):"function"==typeof i&&i.amd?i("moment/locale/de",["../moment"],t):t(e.moment)}(this,function(e){"use strict";function t(e,t,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?i[n][0]:i[n][1]}return e.defineLocale("de",{months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module&&"function"==typeof r?t(r("../moment")):"function"==typeof i&&i.amd?i("moment/locale/es",["../moment"],t):t(e.moment)}(this,function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_");return e.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsParseExact:!0,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module&&"function"==typeof r?t(r("../moment")):"function"==typeof i&&i.amd?i("moment/locale/fr",["../moment"],t):t(e.moment)}(this,function(e){"use strict";return e.defineLocale("fr",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd’hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(e,t){switch(t){case"D":return e+(1===e?"er":"");default:case"M":case"Q":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}})}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module&&"function"==typeof r?t(r("../moment")):"function"==typeof i&&i.amd?i("moment/locale/he",["../moment"],t):t(e.moment)}(this,function(e){"use strict";return e.defineLocale("he",{months:"ינואר_פברואר_מרץ_אפריל_מאי_יוני_יולי_אוגוסט_ספטמבר_אוקטובר_נובמבר_דצמבר".split("_"),monthsShort:"ינו׳_פבר׳_מרץ_אפר׳_מאי_יוני_יולי_אוג׳_ספט׳_אוק׳_נוב׳_דצמ׳".split("_"),weekdays:"ראשון_שני_שלישי_רביעי_חמישי_שישי_שבת".split("_"),weekdaysShort:"א׳_ב׳_ג׳_ד׳_ה׳_ו׳_ש׳".split("_"),weekdaysMin:"א_ב_ג_ד_ה_ו_ש".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [ב]MMMM YYYY",LLL:"D [ב]MMMM YYYY HH:mm",LLLL:"dddd, D [ב]MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[היום ב־]LT",nextDay:"[מחר ב־]LT",nextWeek:"dddd [בשעה] LT",lastDay:"[אתמול ב־]LT",lastWeek:"[ביום] dddd [האחרון בשעה] LT",sameElse:"L"},relativeTime:{future:"בעוד %s",past:"לפני %s",s:"מספר שניות",m:"דקה",mm:"%d דקות",h:"שעה",hh:function(e){return 2===e?"שעתיים":e+" שעות"},d:"יום",dd:function(e){return 2===e?"יומיים":e+" ימים"},M:"חודש",MM:function(e){
return 2===e?"חודשיים":e+" חודשים"},y:"שנה",yy:function(e){return 2===e?"שנתיים":e%10==0&&10!==e?e+" שנה":e+" שנים"}},meridiemParse:/אחה"צ|לפנה"צ|אחרי הצהריים|לפני הצהריים|לפנות בוקר|בבוקר|בערב/i,isPM:function(e){return/^(אחה"צ|אחרי הצהריים|בערב)$/.test(e)},meridiem:function(e,t,n){return e<5?"לפנות בוקר":e<10?"בבוקר":e<12?n?'לפנה"צ':"לפני הצהריים":e<18?n?'אחה"צ':"אחרי הצהריים":"בערב"}})}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module&&"function"==typeof r?t(r("../moment")):"function"==typeof i&&i.amd?i("moment/locale/hu",["../moment"],t):t(e.moment)}(this,function(e){"use strict";function t(e,t,n,r){var i=e;switch(n){case"s":return r||t?"néhány másodperc":"néhány másodperce";case"m":return"egy"+(r||t?" perc":" perce");case"mm":return i+(r||t?" perc":" perce");case"h":return"egy"+(r||t?" óra":" órája");case"hh":return i+(r||t?" óra":" órája");case"d":return"egy"+(r||t?" nap":" napja");case"dd":return i+(r||t?" nap":" napja");case"M":return"egy"+(r||t?" hónap":" hónapja");case"MM":return i+(r||t?" hónap":" hónapja");case"y":return"egy"+(r||t?" év":" éve");case"yy":return i+(r||t?" év":" éve")}return""}function n(e){return(e?"":"[múlt] ")+"["+r[this.day()]+"] LT[-kor]"}var r="vasárnap hétfőn kedden szerdán csütörtökön pénteken szombaton".split(" ");return e.defineLocale("hu",{months:"január_február_március_április_május_június_július_augusztus_szeptember_október_november_december".split("_"),monthsShort:"jan_feb_márc_ápr_máj_jún_júl_aug_szept_okt_nov_dec".split("_"),weekdays:"vasárnap_hétfő_kedd_szerda_csütörtök_péntek_szombat".split("_"),weekdaysShort:"vas_hét_kedd_sze_csüt_pén_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(e){return"u"===e.charAt(1).toLowerCase()},meridiem:function(e,t,n){return e<12?!0===n?"de":"DE":!0===n?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return n.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return n.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s múlva",past:"%s",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module&&"function"==typeof r?t(r("../moment")):"function"==typeof i&&i.amd?i("moment/locale/id",["../moment"],t):t(e.moment)}(this,function(e){"use strict";return e.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"siang"===t?e>=11?e:e+12:"sore"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"siang":e<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module&&"function"==typeof r?t(r("../moment")):"function"==typeof i&&i.amd?i("moment/locale/it",["../moment"],t):t(e.moment)}(this,function(e){"use strict";return e.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_lunedì_martedì_mercoledì_giovedì_venerdì_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"alcuni secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module&&"function"==typeof r?t(r("../moment")):"function"==typeof i&&i.amd?i("moment/locale/ja",["../moment"],t):t(e.moment)}(this,function(e){"use strict";return e.defineLocale("ja",{months:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"日曜日_月曜日_火曜日_水曜日_木曜日_金曜日_土曜日".split("_"),weekdaysShort:"日_月_火_水_木_金_土".split("_"),weekdaysMin:"日_月_火_水_木_金_土".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日 HH:mm dddd",l:"YYYY/MM/DD",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日 HH:mm dddd"},meridiemParse:/午前|午後/i,isPM:function(e){return"午後"===e},meridiem:function(e,t,n){return e<12?"午前":"午後"},calendar:{sameDay:"[今日] LT",nextDay:"[明日] LT",nextWeek:"[来週]dddd LT",lastDay:"[昨日] LT",lastWeek:"[前週]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}日/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";default:return e}},relativeTime:{future:"%s後",past:"%s前",s:"数秒",m:"1分",mm:"%d分",h:"1時間",hh:"%d時間",d:"1日",dd:"%d日",M:"1ヶ月",MM:"%dヶ月",y:"1年",yy:"%d年"}})}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module&&"function"==typeof r?t(r("../moment")):"function"==typeof i&&i.amd?i("moment/locale/nb",["../moment"],t):t(e.moment)}(this,function(e){"use strict";return e.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"sø._ma._ti._on._to._fr._lø.".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i går kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en måned",MM:"%d måneder",y:"ett år",yy:"%d år"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module&&"function"==typeof r?t(r("../moment")):"function"==typeof i&&i.amd?i("moment/locale/nl",["../moment"],t):t(e.moment)}(this,function(e){"use strict";var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),r=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],i=/^(januari|februari|maart|april|mei|april|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;return e.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(januari|februari|maart|mei|ju[nl]i|april|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"Zo_Ma_Di_Wo_Do_Vr_Za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"één minuut",mm:"%d minuten",h:"één uur",hh:"%d uur",d:"één dag",dd:"%d dagen",M:"één maand",MM:"%d maanden",y:"één jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module&&"function"==typeof r?t(r("../moment")):"function"==typeof i&&i.amd?i("moment/locale/pl",["../moment"],t):t(e.moment)}(this,function(e){"use strict";function t(e){return e%10<5&&e%10>1&&~~(e/10)%10!=1}function n(e,n,r){var i=e+" ";switch(r){case"m":return n?"minuta":"minutę";case"mm":return i+(t(e)?"minuty":"minut");case"h":return n?"godzina":"godzinę";case"hh":return i+(t(e)?"godziny":"godzin");case"MM":return i+(t(e)?"miesiące":"miesięcy");case"yy":return i+(t(e)?"lata":"lat")}}var r="styczeń_luty_marzec_kwiecień_maj_czerwiec_lipiec_sierpień_wrzesień_październik_listopad_grudzień".split("_"),i="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_września_października_listopada_grudnia".split("_");return e.defineLocale("pl",{months:function(e,t){return e?""===t?"("+i[e.month()]+"|"+r[e.month()]+")":/D MMMM/.test(t)?i[e.month()]:r[e.month()]:r},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_paź_lis_gru".split("_"),weekdays:"niedziela_poniedziałek_wtorek_środa_czwartek_piątek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_śr_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_Śr_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dziś o] LT",nextDay:"[Jutro o] LT",nextWeek:"[W] dddd [o] LT",lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zeszłą niedzielę o] LT";case 3:return"[W zeszłą środę o] LT";case 6:return"[W zeszłą sobotę o] LT";default:return"[W zeszły] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",m:n,mm:n,h:n,hh:n,d:"1 dzień",dd:"%d dni",M:"miesiąc",MM:n,y:"rok",yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module&&"function"==typeof r?t(r("../moment")):"function"==typeof i&&i.amd?i("moment/locale/pt-br",["../moment"],t):t(e.moment)}(this,function(e){"use strict";return e.defineLocale("pt-br",{months:"Janeiro_Fevereiro_Março_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-feira_Terça-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sábado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sáb".split("_"),weekdaysMin:"Do_2ª_3ª_4ª_5ª_6ª_Sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [às] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [às] HH:mm"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"%s atrás",s:"poucos segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº"})}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module&&"function"==typeof r?t(r("../moment")):"function"==typeof i&&i.amd?i("moment/locale/ru",["../moment"],t):t(e.moment)}(this,function(e){"use strict";function t(e,t){var n=e.split("_");return t%10==1&&t%100!=11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}function n(e,n,r){var i={mm:n?"минута_минуты_минут":"минуту_минуты_минут",hh:"час_часа_часов",dd:"день_дня_дней",MM:"месяц_месяца_месяцев",yy:"год_года_лет"};return"m"===r?n?"минута":"минуту":e+" "+t(i[r],+e)}var r=[/^янв/i,/^фев/i,/^мар/i,/^апр/i,/^ма[йя]/i,/^июн/i,/^июл/i,/^авг/i,/^сен/i,/^окт/i,/^ноя/i,/^дек/i];return e.defineLocale("ru",{months:{format:"января_февраля_марта_апреля_мая_июня_июля_августа_сентября_октября_ноября_декабря".split("_"),standalone:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_")},monthsShort:{format:"янв._февр._мар._апр._мая_июня_июля_авг._сент._окт._нояб._дек.".split("_"),standalone:"янв._февр._март_апр._май_июнь_июль_авг._сент._окт._нояб._дек.".split("_")},weekdays:{standalone:"воскресенье_понедельник_вторник_среда_четверг_пятница_суббота".split("_"),format:"воскресенье_понедельник_вторник_среду_четверг_пятницу_субботу".split("_"),isFormat:/\[ ?[Вв] ?(?:прошлую|следующую|эту)? ?\] ?dddd/},weekdaysShort:"вс_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"вс_пн_вт_ср_чт_пт_сб".split("_"),monthsParse:r,longMonthsParse:r,shortMonthsParse:r,monthsRegex:/^(январ[ья]|янв\.?|феврал[ья]|февр?\.?|марта?|мар\.?|апрел[ья]|апр\.?|ма[йя]|июн[ья]|июн\.?|июл[ья]|июл\.?|августа?|авг\.?|сентябр[ья]|сент?\.?|октябр[ья]|окт\.?|ноябр[ья]|нояб?\.?|декабр[ья]|дек\.?)/i,monthsShortRegex:/^(январ[ья]|янв\.?|феврал[ья]|февр?\.?|марта?|мар\.?|апрел[ья]|апр\.?|ма[йя]|июн[ья]|июн\.?|июл[ья]|июл\.?|августа?|авг\.?|сентябр[ья]|сент?\.?|октябр[ья]|окт\.?|ноябр[ья]|нояб?\.?|декабр[ья]|дек\.?)/i,monthsStrictRegex:/^(январ[яь]|феврал[яь]|марта?|апрел[яь]|ма[яй]|июн[яь]|июл[яь]|августа?|сентябр[яь]|октябр[яь]|ноябр[яь]|декабр[яь])/i,monthsShortStrictRegex:/^(янв\.|февр?\.|мар[т.]|апр\.|ма[яй]|июн[ья.]|июл[ья.]|авг\.|сент?\.|окт\.|нояб?\.|дек\.)/i,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., HH:mm",LLLL:"dddd, D MMMM YYYY г., HH:mm"},calendar:{sameDay:"[Сегодня в] LT",nextDay:"[Завтра в] LT",lastDay:"[Вчера в] LT",nextWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[Во] dddd [в] LT":"[В] dddd [в] LT";switch(this.day()){case 0:return"[В следующее] dddd [в] LT";case 1:case 2:case 4:return"[В следующий] dddd [в] LT";case 3:case 5:case 6:return"[В следующую] dddd [в] LT"}},lastWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[Во] dddd [в] LT":"[В] dddd [в] LT";switch(this.day()){case 0:return"[В прошлое] dddd [в] LT";case 1:case 2:case 4:return"[В прошлый] dddd [в] LT";case 3:case 5:case 6:return"[В прошлую] dddd [в] LT"}},sameElse:"L"},relativeTime:{future:"через %s",past:"%s назад",s:"несколько секунд",m:n,mm:n,h:"час",hh:n,d:"день",dd:n,M:"месяц",MM:n,y:"год",yy:n},meridiemParse:/ночи|утра|дня|вечера/i,isPM:function(e){return/^(дня|вечера)$/.test(e)},meridiem:function(e,t,n){return e<4?"ночи":e<12?"утра":e<17?"дня":"вечера"},dayOfMonthOrdinalParse:/\d{1,2}-(й|го|я)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":return e+"-й";case"D":return e+"-го";case"w":case"W":return e+"-я";default:return e}},week:{dow:1,doy:7}})}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module&&"function"==typeof r?t(r("../moment")):"function"==typeof i&&i.amd?i("moment/locale/tr",["../moment"],t):t(e.moment)}(this,function(e){"use strict";var t={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'üncü",4:"'üncü",100:"'üncü",6:"'ncı",9:"'uncu",10:"'uncu",30:"'uncu",60:"'ıncı",90:"'ıncı"};return e.defineLocale("tr",{months:"Ocak_Şubat_Mart_Nisan_Mayıs_Haziran_Temmuz_Ağustos_Eylül_Ekim_Kasım_Aralık".split("_"),monthsShort:"Oca_Şub_Mar_Nis_May_Haz_Tem_Ağu_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Salı_Çarşamba_Perşembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_Çar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_Ça_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugün saat] LT",nextDay:"[yarın saat] LT",nextWeek:"[haftaya] dddd [saat] LT",lastDay:"[dün] LT",lastWeek:"[geçen hafta] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s önce",s:"birkaç saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",M:"bir ay",MM:"%d ay",y:"bir yıl",yy:"%d yıl"},dayOfMonthOrdinalParse:/\d{1,2}'(inci|nci|üncü|ncı|uncu|ıncı)/,ordinal:function(e){if(0===e)return e+"'ıncı";var n=e%10,r=e%100-n,i=e>=100?100:null;return e+(t[n]||t[r]||t[i])},week:{dow:1,doy:7}})}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module&&"function"==typeof r?t(r("../moment")):"function"==typeof i&&i.amd?i("moment/locale/uk",["../moment"],t):t(e.moment)}(this,function(e){"use strict";function t(e,t){var n=e.split("_");return t%10==1&&t%100!=11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}function n(e,n,r){var i={mm:n?"хвилина_хвилини_хвилин":"хвилину_хвилини_хвилин",hh:n?"година_години_годин":"годину_години_годин",dd:"день_дні_днів",MM:"місяць_місяці_місяців",yy:"рік_роки_років"};return"m"===r?n?"хвилина":"хвилину":"h"===r?n?"година":"годину":e+" "+t(i[r],+e)}function r(e,t){var n={nominative:"неділя_понеділок_вівторок_середа_четвер_п’ятниця_субота".split("_"),accusative:"неділю_понеділок_вівторок_середу_четвер_п’ятницю_суботу".split("_"),genitive:"неділі_понеділка_вівторка_середи_четверга_п’ятниці_суботи".split("_")};return e?n[/(\[[ВвУу]\]) ?dddd/.test(t)?"accusative":/\[?(?:минулої|наступної)? ?\] ?dddd/.test(t)?"genitive":"nominative"][e.day()]:n.nominative}function i(e){return function(){return e+"о"+(11===this.hours()?"б":"")+"] LT"}}return e.defineLocale("uk",{months:{format:"січня_лютого_березня_квітня_травня_червня_липня_серпня_вересня_жовтня_листопада_грудня".split("_"),standalone:"січень_лютий_березень_квітень_травень_червень_липень_серпень_вересень_жовтень_листопад_грудень".split("_")},monthsShort:"січ_лют_бер_квіт_трав_черв_лип_серп_вер_жовт_лист_груд".split("_"),weekdays:r,weekdaysShort:"нд_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY р.",LLL:"D MMMM YYYY р., HH:mm",LLLL:"dddd, D MMMM YYYY р., HH:mm"},calendar:{sameDay:i("[Сьогодні "),nextDay:i("[Завтра "),lastDay:i("[Вчора "),nextWeek:i("[У] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return i("[Минулої] dddd [").call(this);case 1:case 2:case 4:return i("[Минулого] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:"за %s",past:"%s тому",s:"декілька секунд",m:n,mm:n,h:"годину",hh:n,d:"день",dd:n,M:"місяць",MM:n,y:"рік",yy:n},meridiemParse:/ночі|ранку|дня|вечора/,isPM:function(e){return/^(дня|вечора)$/.test(e)},meridiem:function(e,t,n){return e<4?"ночі":e<12?"ранку":e<17?"дня":"вечора"},dayOfMonthOrdinalParse:/\d{1,2}-(й|го)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e+"-й";case"D":return e+"-го";default:return e}},week:{dow:1,doy:7}})}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module&&"function"==typeof r?t(r("../moment")):"function"==typeof i&&i.amd?i("moment/locale/zh-cn",["../moment"],t):t(e.moment)}(this,function(e){"use strict";return e.defineLocale("zh-cn",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY年MMMD日",LL:"YYYY年MMMD日",LLL:"YYYY年MMMD日Ah点mm分",LLLL:"YYYY年MMMD日ddddAh点mm分",l:"YYYY年MMMD日",ll:"YYYY年MMMD日",lll:"YYYY年MMMD日 HH:mm",llll:"YYYY年MMMD日dddd HH:mm"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(e,t){return 12===e&&(e=0),"凌晨"===t||"早上"===t||"上午"===t?e:"下午"===t||"晚上"===t?e+12:e>=11?e:e+12},meridiem:function(e,t,n){var r=100*e+t;return r<600?"凌晨":r<900?"早上":r<1130?"上午":r<1230?"中午":r<1800?"下午":"晚上"},calendar:{sameDay:"[今天]LT",nextDay:"[明天]LT",nextWeek:"[下]ddddLT",lastDay:"[昨天]LT",lastWeek:"[上]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(日|月|周)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"周";default:return e}},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},week:{dow:1,doy:4}})}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module&&"function"==typeof r?t(r("../moment")):"function"==typeof i&&i.amd?i("moment/locale/zh-tw",["../moment"],t):t(e.moment)}(this,function(e){"use strict";return e.defineLocale("zh-tw",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY年MMMD日",LL:"YYYY年MMMD日",LLL:"YYYY年MMMD日 HH:mm",LLLL:"YYYY年MMMD日dddd HH:mm",l:"YYYY年MMMD日",ll:"YYYY年MMMD日",lll:"YYYY年MMMD日 HH:mm",llll:"YYYY年MMMD日dddd HH:mm"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(e,t){return 12===e&&(e=0),"凌晨"===t||"早上"===t||"上午"===t?e:"中午"===t?e>=11?e:e+12:"下午"===t||"晚上"===t?e+12:void 0},meridiem:function(e,t,n){var r=100*e+t;return r<600?"凌晨":r<900?"早上":r<1130?"上午":r<1230?"中午":r<1800?"下午":"晚上"},calendar:{sameDay:"[今天]LT",nextDay:"[明天]LT",nextWeek:"[下]ddddLT",lastDay:"[昨天]LT",lastWeek:"[上]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(日|月|週)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"週";default:return e}},relativeTime:{future:"%s內",past:"%s前",s:"幾秒",m:"1 分鐘",mm:"%d 分鐘",h:"1 小時",hh:"%d 小時",d:"1 天",dd:"%d 天",M:"1 個月",MM:"%d 個月",y:"1 年",yy:"%d 年"}})}),function(e,t){i("i18n",["es6-promise","jed","lodash.noconflict","moment","moment/locale/af","moment/locale/bg","moment/locale/ca","moment/locale/de","moment/locale/es","moment/locale/fr","moment/locale/he","moment/locale/hu","moment/locale/id","moment/locale/it","moment/locale/ja","moment/locale/nb","moment/locale/nl","moment/locale/pl","moment/locale/pt-br","moment/locale/ru","moment/locale/tr","moment/locale/uk","moment/locale/zh-cn","moment/locale/zh-tw"],t)}(0,function(e,t,n,r){"use strict";function i(e){var t,n;if(window.navigator.userLanguage&&(t=u(window.navigator.userLanguage,e)),window.navigator.languages&&!t)for(n=0;n<window.navigator.languages.length&&!t;n++)t=u(window.navigator.languages[n],e);return window.navigator.browserLanguage&&!t&&(t=u(window.navigator.browserLanguage,e)),window.navigator.language&&!t&&(t=u(window.navigator.language,e)),window.navigator.systemLanguage&&!t&&(t=u(window.navigator.systemLanguage,e)),t||"en"}function o(e){return n.isString(e)&&r.locale()===r.locale(e)}function s(e,t){return n.isString(e)&&n.includes(t,e)}function a(e,t){return n.isString(e)&&("en"===e||t(e))?e:i(t)||"en"}function u(e,t){if(t(e))return e;var n=e.split("-")[0];return n!==e&&t(n)?n:void 0}var c;return{setLocales:function(e,t){t.locale=a(e,n.partial(s,n,t.locales)),r.locale(a(e,o))},translate:function(e){if(n.isNil(c))return t.sprintf.apply(t,arguments);var r=c.translate(e);return arguments.length>1?r.fetch.apply(r,[].slice.call(arguments,1)):r.fetch()},fetchTranslations:function(n,r,i){return new e(function(e,o){if(!s(n,r)||"en"===n)return e();var a=new XMLHttpRequest;a.open("GET",i,!0),a.setRequestHeader("Accept","application/json, text/javascript"),a.onload=function(){a.status>=200&&a.status<400?(c=new t(window.JSON.parse(a.responseText)),e()):a.onerror()},a.onerror=function(){o(a.statusText)},a.send()})}}}),function(e,t){if("function"==typeof i&&i.amd)i("strophe",[],t);else{var n=t();e.Strophe=n.Strophe,e.$build=n.$build,e.$iq=n.$iq,e.$msg=n.$msg,e.$pres=n.$pres,e.SHA1=n.SHA1,e.MD5=n.MD5,e.b64_hmac_sha1=n.b64_hmac_sha1,e.b64_sha1=n.b64_sha1,e.str_hmac_sha1=n.str_hmac_sha1,e.str_sha1=n.str_sha1}}(this,function(){var e,t,n;return function(r){function i(e,t){return w.call(e,t)}function o(e,t){var n,r,i,o,s,a,u,c,l,d,h,f,p=t&&t.split("/"),m=y.map,_=m&&m["*"]||{};if(e){for(e=e.split("/"),s=e.length-1,y.nodeIdCompat&&x.test(e[s])&&(e[s]=e[s].replace(x,"")),"."===e[0].charAt(0)&&p&&(f=p.slice(0,p.length-1),e=f.concat(e)),l=0;l<e.length;l++)if("."===(h=e[l]))e.splice(l,1),l-=1;else if(".."===h){if(0===l||1===l&&".."===e[2]||".."===e[l-1])continue;l>0&&(e.splice(l-1,2),l-=2)}e=e.join("/")}if((p||_)&&m){for(n=e.split("/"),l=n.length;l>0;l-=1){if(r=n.slice(0,l).join("/"),p)for(d=p.length;d>0;d-=1)if((i=m[p.slice(0,d).join("/")])&&(i=i[r])){o=i,a=l;break}if(o)break;!u&&_&&_[r]&&(u=_[r],c=l)}!o&&u&&(o=u,a=c),o&&(n.splice(0,a,o),e=n.join("/"))}return e}function s(e,t){return function(){var n=S.call(arguments,0);return"string"!=typeof n[0]&&1===n.length&&n.push(null),p.apply(r,n.concat([e,t]))}}function a(e){return function(t){return o(t,e)}}function u(e){return function(t){g[e]=t}}function c(e){if(i(v,e)){var t=v[e];delete v[e],b[e]=!0,f.apply(r,t)}if(!i(g,e)&&!i(b,e))throw new Error("No "+e);return g[e]}function l(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function d(e){return e?l(e):[]}function h(e){return function(){return y&&y.config&&y.config[e]||{}}}var f,p,m,_,g={},v={},y={},b={},w=Object.prototype.hasOwnProperty,S=[].slice,x=/\.js$/;m=function(e,t){var n,r=l(e),i=r[0],s=t[1];return e=r[1],i&&(i=o(i,s),n=c(i)),i?e=n&&n.normalize?n.normalize(e,a(s)):o(e,s):(e=o(e,s),r=l(e),i=r[0],e=r[1],i&&(n=c(i))),{f:i?i+"!"+e:e,n:e,pr:i,p:n}},_={require:function(e){return s(e)},exports:function(e){var t=g[e];return void 0!==t?t:g[e]={}},module:function(e){return{id:e,uri:"",exports:g[e],config:h(e)}}},f=function(e,t,n,o){var a,l,h,f,p,y,w,S=[],x=typeof n;if(o=o||e,y=d(o),"undefined"===x||"function"===x){for(t=!t.length&&n.length?["require","exports","module"]:t,p=0;p<t.length;p+=1)if(f=m(t[p],y),"require"===(l=f.f))S[p]=_.require(e);else if("exports"===l)S[p]=_.exports(e),w=!0;else if("module"===l)a=S[p]=_.module(e);else if(i(g,l)||i(v,l)||i(b,l))S[p]=c(l);else{if(!f.p)throw new Error(e+" missing "+l);f.p.load(f.n,s(o,!0),u(l),{}),S[p]=g[l]}h=n?n.apply(g[e],S):void 0,e&&(a&&a.exports!==r&&a.exports!==g[e]?g[e]=a.exports:h===r&&w||(g[e]=h))}else e&&(g[e]=n)},e=t=p=function(e,t,n,i,o){if("string"==typeof e)return _[e]?_[e](t):c(m(e,d(t)).f);if(!e.splice){if(y=e,y.deps&&p(y.deps,y.callback),!t)return;t.splice?(e=t,t=n,n=null):e=r}return t=t||function(){},"function"==typeof n&&(n=i,i=o),i?f(r,e,t,n):setTimeout(function(){f(r,e,t,n)},4),p},p.config=function(e){return p(e)},e._defined=g,n=function(e,t,n){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");t.splice||(n=t,t=[]),i(g,e)||i(v,e)||(v[e]=[e,t,n])},n.amd={jQuery:!0}}(),n("node_modules/almond/almond.js",function(){}),function(e,t){if("function"!=typeof n||!n.amd)return t(e);n("strophe-polyfill",[],function(){return t(e)})}(this,function(e){Function.prototype.bind||(Function.prototype.bind=function(e){var t=this,n=Array.prototype.slice,r=Array.prototype.concat,i=n.call(arguments,1);return function(){return t.apply(e||this,r.call(i,n.call(arguments,0)))}}),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length,n=Number(arguments[1])||0;for(n=n<0?Math.ceil(n):Math.floor(n),n<0&&(n+=t);n<t;n++)if(n in this&&this[n]===e)return n;return-1}),Array.prototype.forEach||(Array.prototype.forEach=function(e,t){var n,r;if(null===this)throw new TypeError(" this is null or not defined");var i=Object(this),o=i.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(n=t),r=0;r<o;){var s;r in i&&(s=i[r],e.call(n,s,r,i)),r++}});var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.btoa||(e.btoa=function(e){var n,r,i,o,s,a,u,c="",l=0;do{n=e.charCodeAt(l++),r=e.charCodeAt(l++),i=e.charCodeAt(l++),o=n>>2,s=(3&n)<<4|r>>4,a=(15&r)<<2|i>>6,u=63&i,isNaN(r)?(s=(3&n)<<4,a=u=64):isNaN(i)&&(u=64),c=c+t.charAt(o)+t.charAt(s)+t.charAt(a)+t.charAt(u)}while(l<e.length);return c}),e.atob||(e.atob=function(e){var n,r,i,o,s,a,u,c="",l=0;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{o=t.indexOf(e.charAt(l++)),s=t.indexOf(e.charAt(l++)),a=t.indexOf(e.charAt(l++)),u=t.indexOf(e.charAt(l++)),n=o<<2|s>>4,r=(15&s)<<4|a>>2,i=(3&a)<<6|u,c+=String.fromCharCode(n),64!==a&&(c+=String.fromCharCode(r)),64!==u&&(c+=String.fromCharCode(i))}while(l<e.length);return c})}),function(e,t){"function"==typeof n&&n.amd?n("strophe-sha1",[],function(){return t()}):e.SHA1=t()}(this,function(){function e(e,r){e[r>>5]|=128<<24-r%32,e[15+(r+64>>9<<4)]=r;var s,a,u,c,l,d,h,f,p=new Array(80),m=1732584193,_=-271733879,g=-1732584194,v=271733878,y=-1009589776;for(s=0;s<e.length;s+=16){for(c=m,l=_,d=g,h=v,f=y,a=0;a<80;a++)p[a]=a<16?e[s+a]:o(p[a-3]^p[a-8]^p[a-14]^p[a-16],1),u=i(i(o(m,5),t(a,_,g,v)),i(i(y,p[a]),n(a))),y=v,v=g,g=o(_,30),_=m,m=u;m=i(m,c),_=i(_,l),g=i(g,d),v=i(v,h),y=i(y,f)}return[m,_,g,v,y]}function t(e,t,n,r){return e<20?t&n|~t&r:e<40?t^n^r:e<60?t&n|t&r|n&r:t^n^r}function n(e){return e<20?1518500249:e<40?1859775393:e<60?-1894007588:-899497514}function r(t,n){var r=s(t);r.length>16&&(r=e(r,8*t.length));for(var i=new Array(16),o=new Array(16),a=0;a<16;a++)i[a]=909522486^r[a],o[a]=1549556828^r[a];var u=e(i.concat(s(n)),512+8*n.length);return e(o.concat(u),672)}function i(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function o(e,t){return e<<t|e>>>32-t}function s(e){for(var t=[],n=0;n<8*e.length;n+=8)t[n>>5]|=(255&e.charCodeAt(n/8))<<24-n%32;return t}function a(e){for(var t="",n=0;n<32*e.length;n+=8)t+=String.fromCharCode(e[n>>5]>>>24-n%32&255);return t}function u(e){for(var t,n,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i="",o=0;o<4*e.length;o+=3)for(t=(e[o>>2]>>8*(3-o%4)&255)<<16|(e[o+1>>2]>>8*(3-(o+1)%4)&255)<<8|e[o+2>>2]>>8*(3-(o+2)%4)&255,n=0;n<4;n++)8*o+6*n>32*e.length?i+="=":i+=r.charAt(t>>6*(3-n)&63);return i}return{b64_hmac_sha1:function(e,t){return u(r(e,t))},b64_sha1:function(t){return u(e(s(t),8*t.length))},binb2str:a,core_hmac_sha1:r,str_hmac_sha1:function(e,t){return a(r(e,t))},str_sha1:function(t){return a(e(s(t),8*t.length))}}}),function(e,t){"function"==typeof n&&n.amd?n("strophe-md5",[],function(){return t()}):e.MD5=t()}(this,function(){var e=function(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n},t=function(e,t){return e<<t|e>>>32-t},n=function(e){for(var t=[],n=0;n<8*e.length;n+=8)t[n>>5]|=(255&e.charCodeAt(n/8))<<n%32;return t},r=function(e){for(var t="",n=0;n<32*e.length;n+=8)t+=String.fromCharCode(e[n>>5]>>>n%32&255);return t},i=function(e){for(var t="0123456789abcdef",n="",r=0;r<4*e.length;r++)n+=t.charAt(e[r>>2]>>r%4*8+4&15)+t.charAt(e[r>>2]>>r%4*8&15);return n},o=function(n,r,i,o,s,a){return e(t(e(e(r,n),e(o,a)),s),i)},s=function(e,t,n,r,i,s,a){
return o(t&n|~t&r,e,t,i,s,a)},a=function(e,t,n,r,i,s,a){return o(t&r|n&~r,e,t,i,s,a)},u=function(e,t,n,r,i,s,a){return o(t^n^r,e,t,i,s,a)},c=function(e,t,n,r,i,s,a){return o(n^(t|~r),e,t,i,s,a)},l=function(t,n){t[n>>5]|=128<<n%32,t[14+(n+64>>>9<<4)]=n;for(var r,i,o,l,d=1732584193,h=-271733879,f=-1732584194,p=271733878,m=0;m<t.length;m+=16)r=d,i=h,o=f,l=p,d=s(d,h,f,p,t[m+0],7,-680876936),p=s(p,d,h,f,t[m+1],12,-389564586),f=s(f,p,d,h,t[m+2],17,606105819),h=s(h,f,p,d,t[m+3],22,-1044525330),d=s(d,h,f,p,t[m+4],7,-176418897),p=s(p,d,h,f,t[m+5],12,1200080426),f=s(f,p,d,h,t[m+6],17,-1473231341),h=s(h,f,p,d,t[m+7],22,-45705983),d=s(d,h,f,p,t[m+8],7,1770035416),p=s(p,d,h,f,t[m+9],12,-1958414417),f=s(f,p,d,h,t[m+10],17,-42063),h=s(h,f,p,d,t[m+11],22,-1990404162),d=s(d,h,f,p,t[m+12],7,1804603682),p=s(p,d,h,f,t[m+13],12,-40341101),f=s(f,p,d,h,t[m+14],17,-1502002290),h=s(h,f,p,d,t[m+15],22,1236535329),d=a(d,h,f,p,t[m+1],5,-165796510),p=a(p,d,h,f,t[m+6],9,-1069501632),f=a(f,p,d,h,t[m+11],14,643717713),h=a(h,f,p,d,t[m+0],20,-373897302),d=a(d,h,f,p,t[m+5],5,-701558691),p=a(p,d,h,f,t[m+10],9,38016083),f=a(f,p,d,h,t[m+15],14,-660478335),h=a(h,f,p,d,t[m+4],20,-405537848),d=a(d,h,f,p,t[m+9],5,568446438),p=a(p,d,h,f,t[m+14],9,-1019803690),f=a(f,p,d,h,t[m+3],14,-187363961),h=a(h,f,p,d,t[m+8],20,1163531501),d=a(d,h,f,p,t[m+13],5,-1444681467),p=a(p,d,h,f,t[m+2],9,-51403784),f=a(f,p,d,h,t[m+7],14,1735328473),h=a(h,f,p,d,t[m+12],20,-1926607734),d=u(d,h,f,p,t[m+5],4,-378558),p=u(p,d,h,f,t[m+8],11,-2022574463),f=u(f,p,d,h,t[m+11],16,1839030562),h=u(h,f,p,d,t[m+14],23,-35309556),d=u(d,h,f,p,t[m+1],4,-1530992060),p=u(p,d,h,f,t[m+4],11,1272893353),f=u(f,p,d,h,t[m+7],16,-155497632),h=u(h,f,p,d,t[m+10],23,-1094730640),d=u(d,h,f,p,t[m+13],4,681279174),p=u(p,d,h,f,t[m+0],11,-358537222),f=u(f,p,d,h,t[m+3],16,-722521979),h=u(h,f,p,d,t[m+6],23,76029189),d=u(d,h,f,p,t[m+9],4,-640364487),p=u(p,d,h,f,t[m+12],11,-421815835),f=u(f,p,d,h,t[m+15],16,530742520),h=u(h,f,p,d,t[m+2],23,-995338651),d=c(d,h,f,p,t[m+0],6,-198630844),p=c(p,d,h,f,t[m+7],10,1126891415),f=c(f,p,d,h,t[m+14],15,-1416354905),h=c(h,f,p,d,t[m+5],21,-57434055),d=c(d,h,f,p,t[m+12],6,1700485571),p=c(p,d,h,f,t[m+3],10,-1894986606),f=c(f,p,d,h,t[m+10],15,-1051523),h=c(h,f,p,d,t[m+1],21,-2054922799),d=c(d,h,f,p,t[m+8],6,1873313359),p=c(p,d,h,f,t[m+15],10,-30611744),f=c(f,p,d,h,t[m+6],15,-1560198380),h=c(h,f,p,d,t[m+13],21,1309151649),d=c(d,h,f,p,t[m+4],6,-145523070),p=c(p,d,h,f,t[m+11],10,-1120210379),f=c(f,p,d,h,t[m+2],15,718787259),h=c(h,f,p,d,t[m+9],21,-343485551),d=e(d,r),h=e(h,i),f=e(f,o),p=e(p,l);return[d,h,f,p]};return{hexdigest:function(e){return i(l(n(e),8*e.length))},hash:function(e){return r(l(n(e),8*e.length))}}}),function(e,t){"function"==typeof n&&n.amd?n("strophe-utils",[],function(){return t()}):e.stropheUtils=t()}(this,function(){return{utf16to8:function(e){var t,n,r="",i=e.length;for(t=0;t<i;t++)n=e.charCodeAt(t),n>=0&&n<=127?r+=e.charAt(t):n>2047?(r+=String.fromCharCode(224|n>>12&15),r+=String.fromCharCode(128|n>>6&63),r+=String.fromCharCode(128|n>>0&63)):(r+=String.fromCharCode(192|n>>6&31),r+=String.fromCharCode(128|n>>0&63));return r},addCookies:function(e){var t,n,r,i,o,s,a;for(t in e||{})o="",s="",a="",n=e[t],r="object"==typeof n,i=escape(unescape(r?n.value:n)),r&&(o=n.expires?";expires="+n.expires:"",s=n.domain?";domain="+n.domain:"",a=n.path?";path="+n.path:""),document.cookie=t+"="+i+o+s+a}}}),function(e,t){if("function"==typeof n&&n.amd)n("strophe-core",["strophe-sha1","strophe-md5","strophe-utils"],function(){return t.apply(this,arguments)});else{var r=t(e.SHA1,e.MD5,e.stropheUtils);e.Strophe=r.Strophe,e.$build=r.$build,e.$iq=r.$iq,e.$msg=r.$msg,e.$pres=r.$pres,e.SHA1=r.SHA1,e.MD5=r.MD5,e.b64_hmac_sha1=r.SHA1.b64_hmac_sha1,e.b64_sha1=r.SHA1.b64_sha1,e.str_hmac_sha1=r.SHA1.str_hmac_sha1,e.str_sha1=r.SHA1.str_sha1}}(this,function(e,t,n){function r(e,t){return new a.Builder(e,t)}function i(e){return new a.Builder("message",e)}function o(e){return new a.Builder("iq",e)}function s(e){return new a.Builder("presence",e)}var a;return a={VERSION:"1.2.14",NS:{HTTPBIND:"http://jabber.org/protocol/httpbind",BOSH:"urn:xmpp:xbosh",CLIENT:"jabber:client",AUTH:"jabber:iq:auth",ROSTER:"jabber:iq:roster",PROFILE:"jabber:iq:profile",DISCO_INFO:"http://jabber.org/protocol/disco#info",DISCO_ITEMS:"http://jabber.org/protocol/disco#items",MUC:"http://jabber.org/protocol/muc",SASL:"urn:ietf:params:xml:ns:xmpp-sasl",STREAM:"http://etherx.jabber.org/streams",FRAMING:"urn:ietf:params:xml:ns:xmpp-framing",BIND:"urn:ietf:params:xml:ns:xmpp-bind",SESSION:"urn:ietf:params:xml:ns:xmpp-session",VERSION:"jabber:iq:version",STANZAS:"urn:ietf:params:xml:ns:xmpp-stanzas",XHTML_IM:"http://jabber.org/protocol/xhtml-im",XHTML:"http://www.w3.org/1999/xhtml"},XHTML:{tags:["a","blockquote","br","cite","em","img","li","ol","p","span","strong","ul","body"],attributes:{a:["href"],blockquote:["style"],br:[],cite:["style"],em:[],img:["src","alt","style","height","width"],li:["style"],ol:["style"],p:["style"],span:["style"],strong:[],ul:["style"],body:[]},css:["background-color","color","font-family","font-size","font-style","font-weight","margin-left","margin-right","text-align","text-decoration"],validTag:function(e){for(var t=0;t<a.XHTML.tags.length;t++)if(e===a.XHTML.tags[t])return!0;return!1},validAttribute:function(e,t){if(void 0!==a.XHTML.attributes[e]&&a.XHTML.attributes[e].length>0)for(var n=0;n<a.XHTML.attributes[e].length;n++)if(t===a.XHTML.attributes[e][n])return!0;return!1},validCSS:function(e){for(var t=0;t<a.XHTML.css.length;t++)if(e===a.XHTML.css[t])return!0;return!1}},Status:{ERROR:0,CONNECTING:1,CONNFAIL:2,AUTHENTICATING:3,AUTHFAIL:4,CONNECTED:5,DISCONNECTED:6,DISCONNECTING:7,ATTACHED:8,REDIRECT:9,CONNTIMEOUT:10},LogLevel:{DEBUG:0,INFO:1,WARN:2,ERROR:3,FATAL:4},ElementType:{NORMAL:1,TEXT:3,CDATA:4,FRAGMENT:11},TIMEOUT:1.1,SECONDARY_TIMEOUT:.1,addNamespace:function(e,t){a.NS[e]=t},forEachChild:function(e,t,n){var r,i;for(r=0;r<e.childNodes.length;r++)i=e.childNodes[r],i.nodeType!==a.ElementType.NORMAL||t&&!this.isTagEqual(i,t)||n(i)},isTagEqual:function(e,t){return e.tagName===t},_xmlGenerator:null,_makeGenerator:function(){var e;return void 0===document.implementation.createDocument||document.implementation.createDocument&&document.documentMode&&document.documentMode<10?(e=this._getIEXmlDom(),e.appendChild(e.createElement("strophe"))):e=document.implementation.createDocument("jabber:client","strophe",null),e},xmlGenerator:function(){return a._xmlGenerator||(a._xmlGenerator=a._makeGenerator()),a._xmlGenerator},_getIEXmlDom:function(){for(var e=null,t=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.5.0","Msxml2.DOMDocument.4.0","MSXML2.DOMDocument.3.0","MSXML2.DOMDocument","MSXML.DOMDocument","Microsoft.XMLDOM"],n=0;n<t.length&&null===e;n++)try{e=new ActiveXObject(t[n])}catch(t){e=null}return e},xmlElement:function(e){if(!e)return null;var t,n,r,i=a.xmlGenerator().createElement(e);for(t=1;t<arguments.length;t++){var o=arguments[t];if(o)if("string"==typeof o||"number"==typeof o)i.appendChild(a.xmlTextNode(o));else if("object"==typeof o&&"function"==typeof o.sort)for(n=0;n<o.length;n++){var s=o[n];"object"==typeof s&&"function"==typeof s.sort&&void 0!==s[1]&&null!==s[1]&&i.setAttribute(s[0],s[1])}else if("object"==typeof o)for(r in o)o.hasOwnProperty(r)&&void 0!==o[r]&&null!==o[r]&&i.setAttribute(r,o[r])}return i},xmlescape:function(e){return e=e.replace(/\&/g,"&amp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e=e.replace(/'/g,"&apos;"),e=e.replace(/"/g,"&quot;")},xmlunescape:function(e){return e=e.replace(/\&amp;/g,"&"),e=e.replace(/&lt;/g,"<"),e=e.replace(/&gt;/g,">"),e=e.replace(/&apos;/g,"'"),e=e.replace(/&quot;/g,'"')},xmlTextNode:function(e){return a.xmlGenerator().createTextNode(e)},xmlHtmlNode:function(e){var t;if(DOMParser){t=(new DOMParser).parseFromString(e,"text/xml")}else t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e);return t},getText:function(e){if(!e)return null;var t="";0===e.childNodes.length&&e.nodeType===a.ElementType.TEXT&&(t+=e.nodeValue);for(var n=0;n<e.childNodes.length;n++)e.childNodes[n].nodeType===a.ElementType.TEXT&&(t+=e.childNodes[n].nodeValue);return a.xmlescape(t)},copyElement:function(e){var t,n;if(e.nodeType===a.ElementType.NORMAL){for(n=a.xmlElement(e.tagName),t=0;t<e.attributes.length;t++)n.setAttribute(e.attributes[t].nodeName,e.attributes[t].value);for(t=0;t<e.childNodes.length;t++)n.appendChild(a.copyElement(e.childNodes[t]))}else e.nodeType===a.ElementType.TEXT&&(n=a.xmlGenerator().createTextNode(e.nodeValue));return n},createHtml:function(e){var t,n,r,i,o,s,u,c,l,d,h;if(e.nodeType===a.ElementType.NORMAL)if(i=e.nodeName.toLowerCase(),a.XHTML.validTag(i))try{for(n=a.xmlElement(i),t=0;t<a.XHTML.attributes[i].length;t++)if(o=a.XHTML.attributes[i][t],void 0!==(s=e.getAttribute(o))&&null!==s&&""!==s&&!1!==s&&0!==s)if("style"===o&&"object"==typeof s&&void 0!==s.cssText&&(s=s.cssText),"style"===o){for(u=[],c=s.split(";"),r=0;r<c.length;r++)l=c[r].split(":"),d=l[0].replace(/^\s*/,"").replace(/\s*$/,"").toLowerCase(),a.XHTML.validCSS(d)&&(h=l[1].replace(/^\s*/,"").replace(/\s*$/,""),u.push(d+": "+h));u.length>0&&(s=u.join("; "),n.setAttribute(o,s))}else n.setAttribute(o,s);for(t=0;t<e.childNodes.length;t++)n.appendChild(a.createHtml(e.childNodes[t]))}catch(e){n=a.xmlTextNode("")}else for(n=a.xmlGenerator().createDocumentFragment(),t=0;t<e.childNodes.length;t++)n.appendChild(a.createHtml(e.childNodes[t]));else if(e.nodeType===a.ElementType.FRAGMENT)for(n=a.xmlGenerator().createDocumentFragment(),t=0;t<e.childNodes.length;t++)n.appendChild(a.createHtml(e.childNodes[t]));else e.nodeType===a.ElementType.TEXT&&(n=a.xmlTextNode(e.nodeValue));return n},escapeNode:function(e){return"string"!=typeof e?e:e.replace(/^\s+|\s+$/g,"").replace(/\\/g,"\\5c").replace(/ /g,"\\20").replace(/\"/g,"\\22").replace(/\&/g,"\\26").replace(/\'/g,"\\27").replace(/\//g,"\\2f").replace(/:/g,"\\3a").replace(/</g,"\\3c").replace(/>/g,"\\3e").replace(/@/g,"\\40")},unescapeNode:function(e){return"string"!=typeof e?e:e.replace(/\\20/g," ").replace(/\\22/g,'"').replace(/\\26/g,"&").replace(/\\27/g,"'").replace(/\\2f/g,"/").replace(/\\3a/g,":").replace(/\\3c/g,"<").replace(/\\3e/g,">").replace(/\\40/g,"@").replace(/\\5c/g,"\\")},getNodeFromJid:function(e){return e.indexOf("@")<0?null:e.split("@")[0]},getDomainFromJid:function(e){var t=a.getBareJidFromJid(e);if(t.indexOf("@")<0)return t;var n=t.split("@");return n.splice(0,1),n.join("@")},getResourceFromJid:function(e){var t=e.split("/");return t.length<2?null:(t.splice(0,1),t.join("/"))},getBareJidFromJid:function(e){return e?e.split("/")[0]:null},_handleError:function(e){void 0!==e.stack&&a.fatal(e.stack),e.sourceURL?a.fatal("error: "+this.handler+" "+e.sourceURL+":"+e.line+" - "+e.name+": "+e.message):e.fileName?a.fatal("error: "+this.handler+" "+e.fileName+":"+e.lineNumber+" - "+e.name+": "+e.message):a.fatal("error: "+e.message)},log:function(e,t){},debug:function(e){this.log(this.LogLevel.DEBUG,e)},info:function(e){this.log(this.LogLevel.INFO,e)},warn:function(e){this.log(this.LogLevel.WARN,e)},error:function(e){this.log(this.LogLevel.ERROR,e)},fatal:function(e){this.log(this.LogLevel.FATAL,e)},serialize:function(e){var t;if(!e)return null;"function"==typeof e.tree&&(e=e.tree());var n,r,i=e.nodeName;for(e.getAttribute("_realname")&&(i=e.getAttribute("_realname")),t="<"+i,n=0;n<e.attributes.length;n++)"_realname"!==e.attributes[n].nodeName&&(t+=" "+e.attributes[n].nodeName+"='"+a.xmlescape(e.attributes[n].value)+"'");if(e.childNodes.length>0){for(t+=">",n=0;n<e.childNodes.length;n++)switch(r=e.childNodes[n],r.nodeType){case a.ElementType.NORMAL:t+=a.serialize(r);break;case a.ElementType.TEXT:t+=a.xmlescape(r.nodeValue);break;case a.ElementType.CDATA:t+="<![CDATA["+r.nodeValue+"]]>"}t+="</"+i+">"}else t+="/>";return t},_requestId:0,_connectionPlugins:{},addConnectionPlugin:function(e,t){a._connectionPlugins[e]=t}},a.Builder=function(e,t){"presence"!==e&&"message"!==e&&"iq"!==e||(t&&!t.xmlns?t.xmlns=a.NS.CLIENT:t||(t={xmlns:a.NS.CLIENT})),this.nodeTree=a.xmlElement(e,t),this.node=this.nodeTree},a.Builder.prototype={tree:function(){return this.nodeTree},toString:function(){return a.serialize(this.nodeTree)},up:function(){return this.node=this.node.parentNode,this},root:function(){return this.node=this.nodeTree,this},attrs:function(e){for(var t in e)e.hasOwnProperty(t)&&(void 0===e[t]?this.node.removeAttribute(t):this.node.setAttribute(t,e[t]));return this},c:function(e,t,n){var r=a.xmlElement(e,t,n);return this.node.appendChild(r),"string"!=typeof n&&"number"!=typeof n&&(this.node=r),this},cnode:function(e){var t,n=a.xmlGenerator();try{t=void 0!==n.importNode}catch(e){t=!1}var r=t?n.importNode(e,!0):a.copyElement(e);return this.node.appendChild(r),this.node=r,this},t:function(e){var t=a.xmlTextNode(e);return this.node.appendChild(t),this},h:function(e){var t=document.createElement("body");t.innerHTML=e;for(var n=a.createHtml(t);n.childNodes.length>0;)this.node.appendChild(n.childNodes[0]);return this}},a.Handler=function(e,t,n,r,i,o,s){this.handler=e,this.ns=t,this.name=n,this.type=r,this.id=i,this.options=s||{matchBareFromJid:!1,ignoreNamespaceFragment:!1},this.options.matchBare&&(a.warn('The "matchBare" option is deprecated, use "matchBareFromJid" instead.'),this.options.matchBareFromJid=this.options.matchBare,delete this.options.matchBare),this.options.matchBareFromJid?this.from=o?a.getBareJidFromJid(o):null:this.from=o,this.user=!0},a.Handler.prototype={getNamespace:function(e){var t=e.getAttribute("xmlns");return t&&this.options.ignoreNamespaceFragment&&(t=t.split("#")[0]),t},namespaceMatch:function(e){var t=!1;if(!this.ns)return!0;var n=this;return a.forEachChild(e,null,function(e){n.getNamespace(e)===n.ns&&(t=!0)}),t=t||this.getNamespace(e)===this.ns},isMatch:function(e){var t=e.getAttribute("from");this.options.matchBareFromJid&&(t=a.getBareJidFromJid(t));var n=e.getAttribute("type");return!(!this.namespaceMatch(e)||this.name&&!a.isTagEqual(e,this.name)||this.type&&(Array.isArray(this.type)?-1===this.type.indexOf(n):n!==this.type)||this.id&&e.getAttribute("id")!==this.id||this.from&&t!==this.from)},run:function(e){var t=null;try{t=this.handler(e)}catch(e){throw a._handleError(e),e}return t},toString:function(){return"{Handler: "+this.handler+"("+this.name+","+this.id+","+this.ns+")}"}},a.TimedHandler=function(e,t){this.period=e,this.handler=t,this.lastCalled=(new Date).getTime(),this.user=!0},a.TimedHandler.prototype={run:function(){return this.lastCalled=(new Date).getTime(),this.handler()},reset:function(){this.lastCalled=(new Date).getTime()},toString:function(){return"{TimedHandler: "+this.handler+"("+this.period+")}"}},a.Connection=function(e,t){this.service=e,this.options=t||{};var r=this.options.protocol||"";0===e.indexOf("ws:")||0===e.indexOf("wss:")||0===r.indexOf("ws")?this._proto=new a.Websocket(this):this._proto=new a.Bosh(this),this.jid="",this.domain=null,this.features=null,this._sasl_data={},this.do_session=!1,this.do_bind=!1,this.timedHandlers=[],this.handlers=[],this.removeTimeds=[],this.removeHandlers=[],this.addTimeds=[],this.addHandlers=[],this.protocolErrorHandlers={HTTP:{},websocket:{}},this._idleTimeout=null,this._disconnectTimeout=null,this.authenticated=!1,this.connected=!1,this.disconnecting=!1,this.do_authentication=!0,this.paused=!1,this.restored=!1,this._data=[],this._uniqueId=0,this._sasl_success_handler=null,this._sasl_failure_handler=null,this._sasl_challenge_handler=null,this.maxRetries=5,this._idleTimeout=setTimeout(function(){this._onIdle()}.bind(this),100),n.addCookies(this.options.cookies),this.registerSASLMechanisms(this.options.mechanisms);for(var i in a._connectionPlugins)if(a._connectionPlugins.hasOwnProperty(i)){var o=a._connectionPlugins[i],s=function(){};s.prototype=o,this[i]=new s,this[i].init(this)}},a.Connection.prototype={reset:function(){this._proto._reset(),this.do_session=!1,this.do_bind=!1,this.timedHandlers=[],this.handlers=[],this.removeTimeds=[],this.removeHandlers=[],this.addTimeds=[],this.addHandlers=[],this.authenticated=!1,this.connected=!1,this.disconnecting=!1,this.restored=!1,this._data=[],this._requests=[],this._uniqueId=0},pause:function(){this.paused=!0},resume:function(){this.paused=!1},getUniqueId:function(e){var t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)});return"string"==typeof e||"number"==typeof e?t+":"+e:t+""},addProtocolErrorHandler:function(e,t,n){this.protocolErrorHandlers[e][t]=n},connect:function(e,t,n,r,i,o,s){this.jid=e,this.authzid=a.getBareJidFromJid(this.jid),this.authcid=s||a.getNodeFromJid(this.jid),this.pass=t,this.servtype="xmpp",this.connect_callback=n,this.disconnecting=!1,this.connected=!1,this.authenticated=!1,this.restored=!1,this.domain=a.getDomainFromJid(this.jid),this._changeConnectStatus(a.Status.CONNECTING,null),this._proto._connect(r,i,o)},attach:function(e,t,n,r,i,o,s){if(!(this._proto instanceof a.Bosh))throw{name:"StropheSessionError",message:'The "attach" method can only be used with a BOSH connection.'};this._proto._attach(e,t,n,r,i,o,s)},restore:function(e,t,n,r,i){if(!this._sessionCachingSupported())throw{name:"StropheSessionError",message:'The "restore" method can only be used with a BOSH connection.'};this._proto._restore(e,t,n,r,i)},_sessionCachingSupported:function(){if(this._proto instanceof a.Bosh){if(!JSON)return!1;try{sessionStorage.setItem("_strophe_","_strophe_"),sessionStorage.removeItem("_strophe_")}catch(e){return!1}return!0}return!1},xmlInput:function(e){},xmlOutput:function(e){},rawInput:function(e){},rawOutput:function(e){},nextValidRid:function(e){},send:function(e){if(null!==e){if("function"==typeof e.sort)for(var t=0;t<e.length;t++)this._queueData(e[t]);else"function"==typeof e.tree?this._queueData(e.tree()):this._queueData(e);this._proto._send()}},flush:function(){clearTimeout(this._idleTimeout),this._onIdle()},sendPresence:function(e,t,n,r){var i=null,o=this;"function"==typeof e.tree&&(e=e.tree());var s=e.getAttribute("id");if(s||(s=this.getUniqueId("sendPresence"),e.setAttribute("id",s)),"function"==typeof t||"function"==typeof n){var a=this.addHandler(function(e){i&&o.deleteTimedHandler(i),"error"===e.getAttribute("type")?n&&n(e):t&&t(e)},null,"presence",null,s);r&&(i=this.addTimedHandler(r,function(){return o.deleteHandler(a),n&&n(null),!1}))}return this.send(e),s},sendIQ:function(e,t,n,r){var i=null,o=this;"function"==typeof e.tree&&(e=e.tree());var s=e.getAttribute("id");if(s||(s=this.getUniqueId("sendIQ"),e.setAttribute("id",s)),"function"==typeof t||"function"==typeof n){var a=this.addHandler(function(e){i&&o.deleteTimedHandler(i);var r=e.getAttribute("type");if("result"===r)t&&t(e);else{if("error"!==r)throw{name:"StropheError",message:"Got bad IQ type of "+r};n&&n(e)}},null,"iq",["error","result"],s);r&&(i=this.addTimedHandler(r,function(){return o.deleteHandler(a),n&&n(null),!1}))}return this.send(e),s},_queueData:function(e){if(null===e||!e.tagName||!e.childNodes)throw{name:"StropheError",message:"Cannot queue non-DOMElement."};this._data.push(e)},_sendRestart:function(){this._data.push("restart"),this._proto._sendRestart(),this._idleTimeout=setTimeout(function(){this._onIdle()}.bind(this),100)},addTimedHandler:function(e,t){var n=new a.TimedHandler(e,t);return this.addTimeds.push(n),n},deleteTimedHandler:function(e){this.removeTimeds.push(e)},addHandler:function(e,t,n,r,i,o,s){var u=new a.Handler(e,t,n,r,i,o,s);return this.addHandlers.push(u),u},deleteHandler:function(e){this.removeHandlers.push(e);var t=this.addHandlers.indexOf(e);t>=0&&this.addHandlers.splice(t,1)},registerSASLMechanisms:function(e){this.mechanisms={},e=e||[a.SASLAnonymous,a.SASLExternal,a.SASLMD5,a.SASLOAuthBearer,a.SASLPlain,a.SASLSHA1],e.forEach(this.registerSASLMechanism.bind(this))},registerSASLMechanism:function(e){this.mechanisms[e.prototype.name]=e},disconnect:function(e){if(this._changeConnectStatus(a.Status.DISCONNECTING,e),a.info("Disconnect was called because: "+e),this.connected){var t=!1;this.disconnecting=!0,this.authenticated&&(t=s({xmlns:a.NS.CLIENT,type:"unavailable"})),this._disconnectTimeout=this._addSysTimedHandler(3e3,this._onDisconnectTimeout.bind(this)),this._proto._disconnect(t)}else a.info("Disconnect was called before Strophe connected to the server"),this._proto._abortAllRequests(),this._doDisconnect()},_changeConnectStatus:function(e,t){for(var n in a._connectionPlugins)if(a._connectionPlugins.hasOwnProperty(n)){var r=this[n];if(r.statusChanged)try{r.statusChanged(e,t)}catch(e){a.error(n+" plugin caused an exception changing status: "+e)}}if(this.connect_callback)try{this.connect_callback(e,t)}catch(e){a._handleError(e),a.error("User connection callback caused an exception: "+e)}},_doDisconnect:function(e){"number"==typeof this._idleTimeout&&clearTimeout(this._idleTimeout),null!==this._disconnectTimeout&&(this.deleteTimedHandler(this._disconnectTimeout),this._disconnectTimeout=null),a.info("_doDisconnect was called"),this._proto._doDisconnect(),this.authenticated=!1,this.disconnecting=!1,this.restored=!1,this.handlers=[],this.timedHandlers=[],this.removeTimeds=[],this.removeHandlers=[],this.addTimeds=[],this.addHandlers=[],this._changeConnectStatus(a.Status.DISCONNECTED,e),this.connected=!1},_dataRecv:function(e,t){a.info("_dataRecv called");var n=this._proto._reqToData(e);if(null!==n){this.xmlInput!==a.Connection.prototype.xmlInput&&(n.nodeName===this._proto.strip&&n.childNodes.length?this.xmlInput(n.childNodes[0]):this.xmlInput(n)),this.rawInput!==a.Connection.prototype.rawInput&&(t?this.rawInput(t):this.rawInput(a.serialize(n)));for(var r,i;this.removeHandlers.length>0;)i=this.removeHandlers.pop(),(r=this.handlers.indexOf(i))>=0&&this.handlers.splice(r,1);for(;this.addHandlers.length>0;)this.handlers.push(this.addHandlers.pop());if(this.disconnecting&&this._proto._emptyQueue())return void this._doDisconnect();var o,s,u=n.getAttribute("type");if(null!==u&&"terminate"===u){if(this.disconnecting)return;return o=n.getAttribute("condition"),s=n.getElementsByTagName("conflict"),null!==o?("remote-stream-error"===o&&s.length>0&&(o="conflict"),this._changeConnectStatus(a.Status.CONNFAIL,o)):this._changeConnectStatus(a.Status.CONNFAIL,"unknown"),void this._doDisconnect(o)}var c=this;a.forEachChild(n,null,function(e){var t,n;for(n=c.handlers,c.handlers=[],t=0;t<n.length;t++){var r=n[t];try{!r.isMatch(e)||!c.authenticated&&r.user?c.handlers.push(r):r.run(e)&&c.handlers.push(r)}catch(e){a.warn("Removing Strophe handlers due to uncaught exception: "+e.message)}}})}},mechanisms:{},_connect_cb:function(e,t,n){a.info("_connect_cb was called"),this.connected=!0;var r;try{r=this._proto._reqToData(e)}catch(e){if("badformat"!==e)throw e;this._changeConnectStatus(a.Status.CONNFAIL,"bad-format"),this._doDisconnect("bad-format")}if(r){this.xmlInput!==a.Connection.prototype.xmlInput&&(r.nodeName===this._proto.strip&&r.childNodes.length?this.xmlInput(r.childNodes[0]):this.xmlInput(r)),this.rawInput!==a.Connection.prototype.rawInput&&(n?this.rawInput(n):this.rawInput(a.serialize(r)));if(this._proto._connect_cb(r)!==a.Status.CONNFAIL){if(!(r.getElementsByTagNameNS?r.getElementsByTagNameNS(a.NS.STREAM,"features").length>0:r.getElementsByTagName("stream:features").length>0||r.getElementsByTagName("features").length>0))return void this._proto._no_auth_received(t);var i,o,s=[],u=r.getElementsByTagName("mechanism");if(u.length>0)for(i=0;i<u.length;i++)o=a.getText(u[i]),this.mechanisms[o]&&s.push(this.mechanisms[o]);if(0===s.length&&0===r.getElementsByTagName("auth").length)return void this._proto._no_auth_received(t);!1!==this.do_authentication&&this.authenticate(s)}}},sortMechanismsByPriority:function(e){var t,n,r,i;for(t=0;t<e.length-1;++t){for(r=t,n=t+1;n<e.length;++n)e[n].prototype.priority>e[r].prototype.priority&&(r=n);r!==t&&(i=e[t],e[t]=e[r],e[r]=i)}return e},_attemptSASLAuth:function(e){e=this.sortMechanismsByPriority(e||[]);var t=0,n=!1;for(t=0;t<e.length;++t)if(e[t].prototype.test(this)){this._sasl_success_handler=this._addSysHandler(this._sasl_success_cb.bind(this),null,"success",null,null),this._sasl_failure_handler=this._addSysHandler(this._sasl_failure_cb.bind(this),null,"failure",null,null),this._sasl_challenge_handler=this._addSysHandler(this._sasl_challenge_cb.bind(this),null,"challenge",null,null),this._sasl_mechanism=new e[t],this._sasl_mechanism.onStart(this);var i=r("auth",{xmlns:a.NS.SASL,mechanism:this._sasl_mechanism.name});if(this._sasl_mechanism.isClientFirst){var o=this._sasl_mechanism.onChallenge(this,null);i.t(btoa(o))}this.send(i.tree()),n=!0;break}return n},_attemptLegacyAuth:function(){null===a.getNodeFromJid(this.jid)?(this._changeConnectStatus(a.Status.CONNFAIL,"x-strophe-bad-non-anon-jid"),this.disconnect("x-strophe-bad-non-anon-jid")):(this._changeConnectStatus(a.Status.AUTHENTICATING,null),this._addSysHandler(this._auth1_cb.bind(this),null,null,null,"_auth_1"),this.send(o({type:"get",to:this.domain,id:"_auth_1"}).c("query",{xmlns:a.NS.AUTH}).c("username",{}).t(a.getNodeFromJid(this.jid)).tree()))},authenticate:function(e){this._attemptSASLAuth(e)||this._attemptLegacyAuth()},_sasl_challenge_cb:function(e){var t=atob(a.getText(e)),n=this._sasl_mechanism.onChallenge(this,t),i=r("response",{xmlns:a.NS.SASL});return""!==n&&i.t(btoa(n)),this.send(i.tree()),!0},_auth1_cb:function(e){var t=o({type:"set",id:"_auth_2"}).c("query",{xmlns:a.NS.AUTH}).c("username",{}).t(a.getNodeFromJid(this.jid)).up().c("password").t(this.pass);return a.getResourceFromJid(this.jid)||(this.jid=a.getBareJidFromJid(this.jid)+"/strophe"),t.up().c("resource",{}).t(a.getResourceFromJid(this.jid)),this._addSysHandler(this._auth2_cb.bind(this),null,null,null,"_auth_2"),this.send(t.tree()),!1},_sasl_success_cb:function(e){if(this._sasl_data["server-signature"]){var t,n=atob(a.getText(e)),r=/([a-z]+)=([^,]+)(,|$)/,i=n.match(r);if("v"===i[1]&&(t=i[2]),t!==this._sasl_data["server-signature"])return this.deleteHandler(this._sasl_failure_handler),this._sasl_failure_handler=null,this._sasl_challenge_handler&&(this.deleteHandler(this._sasl_challenge_handler),this._sasl_challenge_handler=null),this._sasl_data={},this._sasl_failure_cb(null)}a.info("SASL authentication succeeded."),this._sasl_mechanism&&this._sasl_mechanism.onSuccess(),this.deleteHandler(this._sasl_failure_handler),this._sasl_failure_handler=null,this._sasl_challenge_handler&&(this.deleteHandler(this._sasl_challenge_handler),this._sasl_challenge_handler=null);var o=[],s=function(e,t){for(;e.length;)this.deleteHandler(e.pop());return this._sasl_auth1_cb.bind(this)(t),!1};return o.push(this._addSysHandler(function(e){s.bind(this)(o,e)}.bind(this),null,"stream:features",null,null)),o.push(this._addSysHandler(function(e){s.bind(this)(o,e)}.bind(this),a.NS.STREAM,"features",null,null)),this._sendRestart(),!1},_sasl_auth1_cb:function(e){this.features=e;var t,n;for(t=0;t<e.childNodes.length;t++)n=e.childNodes[t],"bind"===n.nodeName&&(this.do_bind=!0),"session"===n.nodeName&&(this.do_session=!0);if(!this.do_bind)return this._changeConnectStatus(a.Status.AUTHFAIL,null),!1;this._addSysHandler(this._sasl_bind_cb.bind(this),null,null,null,"_bind_auth_2");var r=a.getResourceFromJid(this.jid);return r?this.send(o({type:"set",id:"_bind_auth_2"}).c("bind",{xmlns:a.NS.BIND}).c("resource",{}).t(r).tree()):this.send(o({type:"set",id:"_bind_auth_2"}).c("bind",{xmlns:a.NS.BIND}).tree()),!1},_sasl_bind_cb:function(e){if("error"===e.getAttribute("type")){a.info("SASL binding failed.");var t,n=e.getElementsByTagName("conflict");return n.length>0&&(t="conflict"),this._changeConnectStatus(a.Status.AUTHFAIL,t),!1}var r,i=e.getElementsByTagName("bind");if(!(i.length>0))return a.info("SASL binding failed."),this._changeConnectStatus(a.Status.AUTHFAIL,null),!1;r=i[0].getElementsByTagName("jid"),r.length>0&&(this.jid=a.getText(r[0]),this.do_session?(this._addSysHandler(this._sasl_session_cb.bind(this),null,null,null,"_session_auth_2"),this.send(o({type:"set",id:"_session_auth_2"}).c("session",{xmlns:a.NS.SESSION}).tree())):(this.authenticated=!0,this._changeConnectStatus(a.Status.CONNECTED,null)))},_sasl_session_cb:function(e){if("result"===e.getAttribute("type"))this.authenticated=!0,this._changeConnectStatus(a.Status.CONNECTED,null);else if("error"===e.getAttribute("type"))return a.info("Session creation failed."),this._changeConnectStatus(a.Status.AUTHFAIL,null),!1;return!1},_sasl_failure_cb:function(e){return this._sasl_success_handler&&(this.deleteHandler(this._sasl_success_handler),this._sasl_success_handler=null),this._sasl_challenge_handler&&(this.deleteHandler(this._sasl_challenge_handler),this._sasl_challenge_handler=null),this._sasl_mechanism&&this._sasl_mechanism.onFailure(),this._changeConnectStatus(a.Status.AUTHFAIL,null),!1},_auth2_cb:function(e){return"result"===e.getAttribute("type")?(this.authenticated=!0,this._changeConnectStatus(a.Status.CONNECTED,null)):"error"===e.getAttribute("type")&&(this._changeConnectStatus(a.Status.AUTHFAIL,null),this.disconnect("authentication failed")),!1},_addSysTimedHandler:function(e,t){var n=new a.TimedHandler(e,t);return n.user=!1,this.addTimeds.push(n),n},_addSysHandler:function(e,t,n,r,i){var o=new a.Handler(e,t,n,r,i);return o.user=!1,this.addHandlers.push(o),o},_onDisconnectTimeout:function(){return a.info("_onDisconnectTimeout was called"),this._changeConnectStatus(a.Status.CONNTIMEOUT,null),this._proto._onDisconnectTimeout(),this._doDisconnect(),!1},_onIdle:function(){for(var e,t,n,r;this.addTimeds.length>0;)this.timedHandlers.push(this.addTimeds.pop());for(;this.removeTimeds.length>0;)t=this.removeTimeds.pop(),(e=this.timedHandlers.indexOf(t))>=0&&this.timedHandlers.splice(e,1);var i=(new Date).getTime();for(r=[],e=0;e<this.timedHandlers.length;e++)t=this.timedHandlers[e],!this.authenticated&&t.user||(n=t.lastCalled+t.period,n-i<=0?t.run()&&r.push(t):r.push(t));this.timedHandlers=r,clearTimeout(this._idleTimeout),this._proto._onIdle(),this.connected&&(this._idleTimeout=setTimeout(function(){this._onIdle()}.bind(this),100))}},a.SASLMechanism=function(e,t,n){this.name=e,this.isClientFirst=t,this.priority=n},a.SASLMechanism.prototype={test:function(e){return!0},onStart:function(e){this._connection=e},onChallenge:function(e,t){throw new Error("You should implement challenge handling!")},onFailure:function(){this._connection=null},onSuccess:function(){this._connection=null}},a.SASLAnonymous=function(){},a.SASLAnonymous.prototype=new a.SASLMechanism("ANONYMOUS",!1,20),a.SASLAnonymous.prototype.test=function(e){return null===e.authcid},a.SASLPlain=function(){},a.SASLPlain.prototype=new a.SASLMechanism("PLAIN",!0,30),a.SASLPlain.prototype.test=function(e){return null!==e.authcid},a.SASLPlain.prototype.onChallenge=function(e){var t=e.authzid;return t+="\0",t+=e.authcid,t+="\0",t+=e.pass,n.utf16to8(t)},a.SASLSHA1=function(){},a.SASLSHA1.prototype=new a.SASLMechanism("SCRAM-SHA-1",!0,50),a.SASLSHA1.prototype.test=function(e){return null!==e.authcid},a.SASLSHA1.prototype.onChallenge=function(r,i,o){var s=o||t.hexdigest(1234567890*Math.random()),a="n="+n.utf16to8(r.authcid);return a+=",r=",a+=s,r._sasl_data.cnonce=s,r._sasl_data["client-first-message-bare"]=a,a="n,,"+a,this.onChallenge=function(t,r){for(var i,o,s,a,u,c,l,d,h,f,p,m,_="c=biws,",g=t._sasl_data["client-first-message-bare"]+","+r+",",v=t._sasl_data.cnonce,y=/([a-z]+)=([^,]+)(,|$)/;r.match(y);){var b=r.match(y);switch(r=r.replace(b[0],""),b[1]){case"r":i=b[2];break;case"s":o=b[2];break;case"i":s=b[2]}}if(i.substr(0,v.length)!==v)return t._sasl_data={},t._sasl_failure_cb();for(_+="r="+i,g+=_,o=atob(o),o+="\0\0\0",h=n.utf16to8(t.pass),a=c=e.core_hmac_sha1(h,o),l=1;l<s;l++){for(u=e.core_hmac_sha1(h,e.binb2str(c)),d=0;d<5;d++)a[d]^=u[d];c=u}for(a=e.binb2str(a),f=e.core_hmac_sha1(a,"Client Key"),p=e.str_hmac_sha1(a,"Server Key"),m=e.core_hmac_sha1(e.str_sha1(e.binb2str(f)),g),t._sasl_data["server-signature"]=e.b64_hmac_sha1(p,g),d=0;d<5;d++)f[d]^=m[d]
;return _+=",p="+btoa(e.binb2str(f))}.bind(this),a},a.SASLMD5=function(){},a.SASLMD5.prototype=new a.SASLMechanism("DIGEST-MD5",!1,40),a.SASLMD5.prototype.test=function(e){return null!==e.authcid},a.SASLMD5.prototype._quote=function(e){return'"'+e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'},a.SASLMD5.prototype.onChallenge=function(e,r,i){for(var o,s=/([a-z]+)=("[^"]+"|[^,"]+)(?:,|$)/,a=i||t.hexdigest(""+1234567890*Math.random()),u="",c=null,l="";r.match(s);)switch(o=r.match(s),r=r.replace(o[0],""),o[2]=o[2].replace(/^"(.+)"$/,"$1"),o[1]){case"realm":u=o[2];break;case"nonce":l=o[2];break;case"qop":o[2];break;case"host":c=o[2]}var d=e.servtype+"/"+e.domain;null!==c&&(d=d+"/"+c);var h=n.utf16to8(e.authcid+":"+u+":"+this._connection.pass),f=t.hash(h)+":"+l+":"+a,p="AUTHENTICATE:"+d,m="";return m+="charset=utf-8,",m+="username="+this._quote(n.utf16to8(e.authcid))+",",m+="realm="+this._quote(u)+",",m+="nonce="+this._quote(l)+",",m+="nc=00000001,",m+="cnonce="+this._quote(a)+",",m+="digest-uri="+this._quote(d)+",",m+="response="+t.hexdigest(t.hexdigest(f)+":"+l+":00000001:"+a+":auth:"+t.hexdigest(p))+",",m+="qop=auth",this.onChallenge=function(){return""},m},a.SASLOAuthBearer=function(){},a.SASLOAuthBearer.prototype=new a.SASLMechanism("OAUTHBEARER",!0,60),a.SASLOAuthBearer.prototype.test=function(e){return null!==e.pass},a.SASLOAuthBearer.prototype.onChallenge=function(e){var t="n,";return null!==e.authcid&&(t=t+"a="+e.authzid),t+=",",t+="",t+="auth=Bearer ",t+=e.pass,t+="",t+="",n.utf16to8(t)},a.SASLExternal=function(){},a.SASLExternal.prototype=new a.SASLMechanism("EXTERNAL",!0,10),a.SASLExternal.prototype.onChallenge=function(e){return e.authcid===e.authzid?"":e.authzid},{Strophe:a,$build:r,$iq:o,$msg:i,$pres:s,SHA1:e,MD5:t,b64_hmac_sha1:e.b64_hmac_sha1,b64_sha1:e.b64_sha1,str_hmac_sha1:e.str_hmac_sha1,str_sha1:e.str_sha1}}),function(e,t){if("function"!=typeof n||!n.amd)return t(Strophe,$build);n("strophe-bosh",["strophe-core"],function(e){return t(e.Strophe,e.$build)})}(0,function(e,t){return e.Request=function(t,n,r,i){this.id=++e._requestId,this.xmlData=t,this.data=e.serialize(t),this.origFunc=n,this.func=n,this.rid=r,this.date=NaN,this.sends=i||0,this.abort=!1,this.dead=null,this.age=function(){return this.date?(new Date-this.date)/1e3:0},this.timeDead=function(){return this.dead?(new Date-this.dead)/1e3:0},this.xhr=this._newXHR()},e.Request.prototype={getResponse:function(){var t=null;if(this.xhr.responseXML&&this.xhr.responseXML.documentElement){if(t=this.xhr.responseXML.documentElement,"parsererror"===t.tagName)throw e.error("invalid response received"),e.error("responseText: "+this.xhr.responseText),e.error("responseXML: "+e.serialize(this.xhr.responseXML)),"parsererror"}else if(this.xhr.responseText)throw e.error("invalid response received"),e.error("responseText: "+this.xhr.responseText),"badformat";return t},_newXHR:function(){var e=null;return window.XMLHttpRequest?(e=new XMLHttpRequest,e.overrideMimeType&&e.overrideMimeType("text/xml; charset=utf-8")):window.ActiveXObject&&(e=new ActiveXObject("Microsoft.XMLHTTP")),e.onreadystatechange=this.func.bind(null,this),e}},e.Bosh=function(e){this._conn=e,this.rid=Math.floor(4294967295*Math.random()),this.sid=null,this.hold=1,this.wait=60,this.window=5,this.errors=0,this.inactivity=null,this._requests=[]},e.Bosh.prototype={strip:null,_buildBody:function(){var n=t("body",{rid:this.rid++,xmlns:e.NS.HTTPBIND});return null!==this.sid&&n.attrs({sid:this.sid}),this._conn.options.keepalive&&this._conn._sessionCachingSupported()&&this._cacheSession(),n},_reset:function(){this.rid=Math.floor(4294967295*Math.random()),this.sid=null,this.errors=0,this._conn._sessionCachingSupported()&&window.sessionStorage.removeItem("strophe-bosh-session"),this._conn.nextValidRid(this.rid)},_connect:function(t,n,r){this.wait=t||this.wait,this.hold=n||this.hold,this.errors=0;var i=this._buildBody().attrs({to:this._conn.domain,"xml:lang":"en",wait:this.wait,hold:this.hold,content:"text/xml; charset=utf-8",ver:"1.6","xmpp:version":"1.0","xmlns:xmpp":e.NS.BOSH});r&&i.attrs({route:r});var o=this._conn._connect_cb;this._requests.push(new e.Request(i.tree(),this._onRequestStateChange.bind(this,o.bind(this._conn)),i.tree().getAttribute("rid"))),this._throttledRequestHandler()},_attach:function(t,n,r,i,o,s,a){this._conn.jid=t,this.sid=n,this.rid=r,this._conn.connect_callback=i,this._conn.domain=e.getDomainFromJid(this._conn.jid),this._conn.authenticated=!0,this._conn.connected=!0,this.wait=o||this.wait,this.hold=s||this.hold,this.window=a||this.window,this._conn._changeConnectStatus(e.Status.ATTACHED,null)},_restore:function(t,n,r,i,o){var s=JSON.parse(window.sessionStorage.getItem("strophe-bosh-session"));if(!(void 0!==s&&null!==s&&s.rid&&s.sid&&s.jid&&(void 0===t||null===t||e.getBareJidFromJid(s.jid)===e.getBareJidFromJid(t)||null===e.getNodeFromJid(t)&&e.getDomainFromJid(s.jid)===t)))throw{name:"StropheSessionError",message:"_restore: no restoreable session."};this._conn.restored=!0,this._attach(s.jid,s.sid,s.rid,n,r,i,o)},_cacheSession:function(){this._conn.authenticated?this._conn.jid&&this.rid&&this.sid&&window.sessionStorage.setItem("strophe-bosh-session",JSON.stringify({jid:this._conn.jid,rid:this.rid,sid:this.sid})):window.sessionStorage.removeItem("strophe-bosh-session")},_connect_cb:function(t){var n,r,i=t.getAttribute("type");if(null!==i&&"terminate"===i)return n=t.getAttribute("condition"),e.error("BOSH-Connection failed: "+n),r=t.getElementsByTagName("conflict"),null!==n?("remote-stream-error"===n&&r.length>0&&(n="conflict"),this._conn._changeConnectStatus(e.Status.CONNFAIL,n)):this._conn._changeConnectStatus(e.Status.CONNFAIL,"unknown"),this._conn._doDisconnect(n),e.Status.CONNFAIL;this.sid||(this.sid=t.getAttribute("sid"));var o=t.getAttribute("requests");o&&(this.window=parseInt(o,10));var s=t.getAttribute("hold");s&&(this.hold=parseInt(s,10));var a=t.getAttribute("wait");a&&(this.wait=parseInt(a,10));var u=t.getAttribute("inactivity");u&&(this.inactivity=parseInt(u,10))},_disconnect:function(e){this._sendTerminate(e)},_doDisconnect:function(){this.sid=null,this.rid=Math.floor(4294967295*Math.random()),this._conn._sessionCachingSupported()&&window.sessionStorage.removeItem("strophe-bosh-session"),this._conn.nextValidRid(this.rid)},_emptyQueue:function(){return 0===this._requests.length},_callProtocolErrorHandlers:function(e){var t,n=this._getRequestStatus(e);(t=this._conn.protocolErrorHandlers.HTTP[n])&&t.call(this,n)},_hitError:function(t){this.errors++,e.warn("request errored, status: "+t+", number of errors: "+this.errors),this.errors>4&&this._conn._onDisconnectTimeout()},_no_auth_received:function(t){t=t?t.bind(this._conn):this._conn._connect_cb.bind(this._conn);var n=this._buildBody();this._requests.push(new e.Request(n.tree(),this._onRequestStateChange.bind(this,t.bind(this._conn)),n.tree().getAttribute("rid"))),this._throttledRequestHandler()},_onDisconnectTimeout:function(){this._abortAllRequests()},_abortAllRequests:function(){for(var e;this._requests.length>0;)e=this._requests.pop(),e.abort=!0,e.xhr.abort(),e.xhr.onreadystatechange=function(){}},_onIdle:function(){var t=this._conn._data;if(this._conn.authenticated&&0===this._requests.length&&0===t.length&&!this._conn.disconnecting&&(e.info("no requests during idle cycle, sending blank request"),t.push(null)),!this._conn.paused){if(this._requests.length<2&&t.length>0){for(var n=this._buildBody(),r=0;r<t.length;r++)null!==t[r]&&("restart"===t[r]?n.attrs({to:this._conn.domain,"xml:lang":"en","xmpp:restart":"true","xmlns:xmpp":e.NS.BOSH}):n.cnode(t[r]).up());delete this._conn._data,this._conn._data=[],this._requests.push(new e.Request(n.tree(),this._onRequestStateChange.bind(this,this._conn._dataRecv.bind(this._conn)),n.tree().getAttribute("rid"))),this._throttledRequestHandler()}if(this._requests.length>0){var i=this._requests[0].age();null!==this._requests[0].dead&&this._requests[0].timeDead()>Math.floor(e.SECONDARY_TIMEOUT*this.wait)&&this._throttledRequestHandler(),i>Math.floor(e.TIMEOUT*this.wait)&&(e.warn("Request "+this._requests[0].id+" timed out, over "+Math.floor(e.TIMEOUT*this.wait)+" seconds since last activity"),this._throttledRequestHandler())}}},_getRequestStatus:function(t,n){var r;if(4===t.xhr.readyState)try{r=t.xhr.status}catch(t){e.error("Caught an error while retrieving a request's status, reqStatus: "+r)}return void 0===r&&(r="number"==typeof n?n:0),r},_onRequestStateChange:function(t,n){if(e.debug("request id "+n.id+"."+n.sends+" state changed to "+n.xhr.readyState),n.abort)return void(n.abort=!1);if(4===n.xhr.readyState){var r=this._getRequestStatus(n);if(this.disconnecting&&r>=400)return this._hitError(r),void this._callProtocolErrorHandlers(n);var i=r>0&&r<500,o=n.sends>this._conn.maxRetries;if((i||o)&&(this._removeRequest(n),e.debug("request id "+n.id+" should now be removed")),200===r){var s=this._requests[0]===n;(this._requests[1]===n||s&&this._requests.length>0&&this._requests[0].age()>Math.floor(e.SECONDARY_TIMEOUT*this.wait))&&this._restartRequest(0),this._conn.nextValidRid(Number(n.rid)+1),e.debug("request id "+n.id+"."+n.sends+" got 200"),t(n),this.errors=0}else 0===r||r>=400&&r<600||r>=12e3?(e.error("request id "+n.id+"."+n.sends+" error "+r+" happened"),this._hitError(r),this._callProtocolErrorHandlers(n),r>=400&&r<500&&(this._conn._changeConnectStatus(e.Status.DISCONNECTING,null),this._conn._doDisconnect())):e.error("request id "+n.id+"."+n.sends+" error "+r+" happened");i||o?o&&!this._conn.connected&&this._conn._changeConnectStatus(e.Status.CONNFAIL,"giving-up"):this._throttledRequestHandler()}},_processRequest:function(t){var n=this,r=this._requests[t],i=this._getRequestStatus(r,-1);if(r.sends>this._conn.maxRetries)return void this._conn._onDisconnectTimeout();var o=r.age(),s=!isNaN(o)&&o>Math.floor(e.TIMEOUT*this.wait),a=null!==r.dead&&r.timeDead()>Math.floor(e.SECONDARY_TIMEOUT*this.wait),u=4===r.xhr.readyState&&(i<1||i>=500);if((s||a||u)&&(a&&e.error("Request "+this._requests[t].id+" timed out (secondary), restarting"),r.abort=!0,r.xhr.abort(),r.xhr.onreadystatechange=function(){},this._requests[t]=new e.Request(r.xmlData,r.origFunc,r.rid,r.sends),r=this._requests[t]),0===r.xhr.readyState){e.debug("request id "+r.id+"."+r.sends+" posting");try{var c=this._conn.options.contentType||"text/xml; charset=utf-8";r.xhr.open("POST",this._conn.service,!this._conn.options.sync),void 0!==r.xhr.setRequestHeader&&r.xhr.setRequestHeader("Content-Type",c),this._conn.options.withCredentials&&(r.xhr.withCredentials=!0)}catch(t){return e.error("XHR open failed: "+t.toString()),this._conn.connected||this._conn._changeConnectStatus(e.Status.CONNFAIL,"bad-service"),void this._conn.disconnect()}var l=function(){if(r.date=new Date,n._conn.options.customHeaders){var e=n._conn.options.customHeaders;for(var t in e)e.hasOwnProperty(t)&&r.xhr.setRequestHeader(t,e[t])}r.xhr.send(r.data)};if(r.sends>1){var d=1e3*Math.min(Math.floor(e.TIMEOUT*this.wait),Math.pow(r.sends,3));setTimeout(function(){l()},d)}else l();r.sends++,this._conn.xmlOutput!==e.Connection.prototype.xmlOutput&&(r.xmlData.nodeName===this.strip&&r.xmlData.childNodes.length?this._conn.xmlOutput(r.xmlData.childNodes[0]):this._conn.xmlOutput(r.xmlData)),this._conn.rawOutput!==e.Connection.prototype.rawOutput&&this._conn.rawOutput(r.data)}else e.debug("_processRequest: "+(0===t?"first":"second")+" request has readyState of "+r.xhr.readyState)},_removeRequest:function(t){e.debug("removing request");var n;for(n=this._requests.length-1;n>=0;n--)t===this._requests[n]&&this._requests.splice(n,1);t.xhr.onreadystatechange=function(){},this._throttledRequestHandler()},_restartRequest:function(e){var t=this._requests[e];null===t.dead&&(t.dead=new Date),this._processRequest(e)},_reqToData:function(e){try{return e.getResponse()}catch(e){if("parsererror"!==e)throw e;this._conn.disconnect("strophe-parsererror")}},_sendTerminate:function(t){e.info("_sendTerminate was called");var n=this._buildBody().attrs({type:"terminate"});t&&n.cnode(t.tree());var r=new e.Request(n.tree(),this._onRequestStateChange.bind(this,this._conn._dataRecv.bind(this._conn)),n.tree().getAttribute("rid"));this._requests.push(r),this._throttledRequestHandler()},_send:function(){clearTimeout(this._conn._idleTimeout),this._throttledRequestHandler(),this._conn._idleTimeout=setTimeout(function(){this._onIdle()}.bind(this._conn),100)},_sendRestart:function(){this._throttledRequestHandler(),clearTimeout(this._conn._idleTimeout)},_throttledRequestHandler:function(){this._requests?e.debug("_throttledRequestHandler called with "+this._requests.length+" requests"):e.debug("_throttledRequestHandler called with undefined requests"),this._requests&&0!==this._requests.length&&(this._requests.length>0&&this._processRequest(0),this._requests.length>1&&Math.abs(this._requests[0].rid-this._requests[1].rid)<this.window&&this._processRequest(1))}},e}),function(e,t){if("function"!=typeof n||!n.amd)return t(Strophe,$build);n("strophe-websocket",["strophe-core"],function(e){return t(e.Strophe,e.$build)})}(0,function(e,t){return e.Websocket=function(e){this._conn=e,this.strip="wrapper";var t=e.service;if(0!==t.indexOf("ws:")&&0!==t.indexOf("wss:")){var n="";"ws"===e.options.protocol&&"https:"!==window.location.protocol?n+="ws":n+="wss",n+="://"+window.location.host,0!==t.indexOf("/")?n+=window.location.pathname+t:n+=t,e.service=n}},e.Websocket.prototype={_buildStream:function(){return t("open",{xmlns:e.NS.FRAMING,to:this._conn.domain,version:"1.0"})},_check_streamerror:function(t,n){var r;if(r=t.getElementsByTagNameNS?t.getElementsByTagNameNS(e.NS.STREAM,"error"):t.getElementsByTagName("stream:error"),0===r.length)return!1;for(var i=r[0],o="",s="",a=0;a<i.childNodes.length;a++){var u=i.childNodes[a];if("urn:ietf:params:xml:ns:xmpp-streams"!==u.getAttribute("xmlns"))break;"text"===u.nodeName?s=u.textContent:o=u.nodeName}var c="WebSocket stream error: ";return c+=o||"unknown",s&&(c+=" - "+s),e.error(c),this._conn._changeConnectStatus(n,o),this._conn._doDisconnect(),!0},_reset:function(){},_connect:function(){this._closeSocket(),this.socket=new WebSocket(this._conn.service,"xmpp"),this.socket.onopen=this._onOpen.bind(this),this.socket.onerror=this._onError.bind(this),this.socket.onclose=this._onClose.bind(this),this.socket.onmessage=this._connect_cb_wrapper.bind(this)},_connect_cb:function(t){if(this._check_streamerror(t,e.Status.CONNFAIL))return e.Status.CONNFAIL},_handleStreamStart:function(t){var n=!1,r=t.getAttribute("xmlns");"string"!=typeof r?n="Missing xmlns in <open />":r!==e.NS.FRAMING&&(n="Wrong xmlns in <open />: "+r);var i=t.getAttribute("version");return"string"!=typeof i?n="Missing version in <open />":"1.0"!==i&&(n="Wrong version in <open />: "+i),!n||(this._conn._changeConnectStatus(e.Status.CONNFAIL,n),this._conn._doDisconnect(),!1)},_connect_cb_wrapper:function(t){if(0===t.data.indexOf("<open ")||0===t.data.indexOf("<?xml")){var n=t.data.replace(/^(<\?.*?\?>\s*)*/,"");if(""===n)return;var r=(new DOMParser).parseFromString(n,"text/xml").documentElement;this._conn.xmlInput(r),this._conn.rawInput(t.data),this._handleStreamStart(r)&&this._connect_cb(r)}else if(0===t.data.indexOf("<close ")){this._conn.rawInput(t.data),this._conn.xmlInput(t);var i=t.getAttribute("see-other-uri");i?(this._conn._changeConnectStatus(e.Status.REDIRECT,"Received see-other-uri, resetting connection"),this._conn.reset(),this._conn.service=i,this._connect()):(this._conn._changeConnectStatus(e.Status.CONNFAIL,"Received closing stream"),this._conn._doDisconnect())}else{var o=this._streamWrap(t.data),s=(new DOMParser).parseFromString(o,"text/xml").documentElement;this.socket.onmessage=this._onMessage.bind(this),this._conn._connect_cb(s,null,t.data)}},_disconnect:function(n){if(this.socket&&this.socket.readyState!==WebSocket.CLOSED){n&&this._conn.send(n);var r=t("close",{xmlns:e.NS.FRAMING});this._conn.xmlOutput(r);var i=e.serialize(r);this._conn.rawOutput(i);try{this.socket.send(i)}catch(t){e.info("Couldn't send <close /> tag.")}}this._conn._doDisconnect()},_doDisconnect:function(){e.info("WebSockets _doDisconnect was called"),this._closeSocket()},_streamWrap:function(e){return"<wrapper>"+e+"</wrapper>"},_closeSocket:function(){if(this.socket)try{this.socket.close()}catch(e){}this.socket=null},_emptyQueue:function(){return!0},_onClose:function(t){this._conn.connected&&!this._conn.disconnecting?(e.error("Websocket closed unexpectedly"),this._conn._doDisconnect()):t&&1006===t.code&&!this._conn.connected&&this.socket?(e.error("Websocket closed unexcectedly"),this._conn._changeConnectStatus(e.Status.CONNFAIL,"The WebSocket connection could not be established or was disconnected."),this._conn._doDisconnect()):e.info("Websocket closed")},_no_auth_received:function(t){e.error("Server did not send any auth methods"),this._conn._changeConnectStatus(e.Status.CONNFAIL,"Server did not send any auth methods"),t&&(t=t.bind(this._conn))(),this._conn._doDisconnect()},_onDisconnectTimeout:function(){},_abortAllRequests:function(){},_onError:function(t){e.error("Websocket error "+t),this._conn._changeConnectStatus(e.Status.CONNFAIL,"The WebSocket connection could not be established or was disconnected."),this._disconnect()},_onIdle:function(){var t=this._conn._data;if(t.length>0&&!this._conn.paused){for(var n=0;n<t.length;n++)if(null!==t[n]){var r,i;r="restart"===t[n]?this._buildStream().tree():t[n],i=e.serialize(r),this._conn.xmlOutput(r),this._conn.rawOutput(i),this.socket.send(i)}this._conn._data=[]}},_onMessage:function(t){var n,r,i='<close xmlns="urn:ietf:params:xml:ns:xmpp-framing" />';if(t.data===i)return this._conn.rawInput(i),this._conn.xmlInput(t),void(this._conn.disconnecting||this._conn._doDisconnect());if(0===t.data.search("<open ")){if(n=(new DOMParser).parseFromString(t.data,"text/xml").documentElement,!this._handleStreamStart(n))return}else r=this._streamWrap(t.data),n=(new DOMParser).parseFromString(r,"text/xml").documentElement;return this._check_streamerror(n,e.Status.ERROR)?void 0:this._conn.disconnecting&&"presence"===n.firstChild.nodeName&&"unavailable"===n.firstChild.getAttribute("type")?(this._conn.xmlInput(n),void this._conn.rawInput(e.serialize(n))):void this._conn._dataRecv(n,t.data)},_onOpen:function(){e.info("Websocket open");var t=this._buildStream();this._conn.xmlOutput(t.tree());var n=e.serialize(t);this._conn.rawOutput(n),this.socket.send(n)},_reqToData:function(e){return e},_send:function(){this._conn.flush()},_sendRestart:function(){clearTimeout(this._conn._idleTimeout),this._conn._onIdle.bind(this._conn)()}},e}),function(e){"function"==typeof n&&n.amd&&n("strophe",["strophe-core","strophe-bosh","strophe-websocket"],function(e){return e})}(),t(["strophe-polyfill"]),t("strophe")}),function(e,t){i("utils",["sizzle","es6-promise","lodash.noconflict","strophe"],t)}(0,function(e,n,r,i){"use strict";function o(e){e.removeAttribute("data-slider-marker"),e.classList.remove("collapsed"),e.style.overflow="",e.style.height=""}function s(e,t){e.classList.remove("visible"),r.isFunction(t)&&t()}var a=i.SHA1.b64_sha1;i=i.Strophe;var u=/\b(https?:\/\/|www\.|https?:\/\/www\.)[^\s<>]{2,200}\b\/?/g,c=r.assign({debug:r.get(console,"log")?console.log.bind(console):r.noop,error:r.get(console,"log")?console.log.bind(console):r.noop,info:r.get(console,"log")?console.log.bind(console):r.noop,warn:r.get(console,"log")?console.log.bind(console):r.noop},console),l=function(e){return new n(function(t,n){var r=new Image,i=window.setTimeout(function(){n(new Error("Could not determine whether it's an image")),r=null},3e3);r.onerror=r.onabort=function(){clearTimeout(i),n(new Error("Could not determine whether it's an image"))},r.onload=function(){clearTimeout(i),t(r)},r.src=e})},d={};return d.getNextElement=function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"*",i=t.nextElementSibling;!r.isNull(i)&&!e.matchesSelector(i,n);)i=i.nextElementSibling;return i},d.getPreviousElement=function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"*",i=t.previousSibling;!r.isNull(i)&&!e.matchesSelector(i,n);)i=i.previousSibling;return i},d.getFirstChildElement=function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"*",i=t.firstElementChild;!r.isNull(i)&&!e.matchesSelector(i,n);)i=i.nextSibling;return i},d.getLastChildElement=function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"*",i=t.lastElementChild;!r.isNull(i)&&!e.matchesSelector(i,n);)i=i.previousSibling;return i},d.calculateElementHeight=function(e){return r.reduce(e.children,function(e,t){return e+t.offsetHeight},0)},d.addClass=function(e,t){t instanceof Element&&t.classList.add(e)},d.removeClass=function(e,t){return t instanceof Element&&t.classList.remove(e),t},d.removeElement=function(e){r.isNil(e)||r.isNil(e.parentNode)||e.parentNode.removeChild(e)},d.showElement=r.flow(r.partial(d.removeClass,"collapsed"),r.partial(d.removeClass,"hidden")),d.hideElement=function(e){return r.isNil(e)||e.classList.add("hidden"),e},d.nextUntil=function(e,t){for(var n=(arguments.length>2&&void 0!==arguments[2]&&arguments[2],[]),i=e.nextElementSibling;!r.isNil(i)&&!i.matches(t);)n.push(i),i=i.nextElementSibling;return n},d.addHyperlinks=function(e){var t=e.match(u)||[],n=[];for(r.each(t,function(t){var i=0===t.indexOf("http://")||0===t.indexOf("https://")?"":"http://",o=i+encodeURI(decodeURI(t)).replace(/[!'()]/g,escape).replace(/\*/g,"%2A"),s='<a target="_blank" rel="noopener" href="'+o+'">'+r.escape(t)+"</a>";n.push(s),e=e.replace(t,a(s))});n.length;){var i=n.pop();e=e.replace(a(i),i)}return e},d.renderImageURLs=function(t){var i=t.textContent.match(u)||[];return n.all(r.map(i,function(i){return new n(function(n,o){return l(i).then(function(o){var s=new Image;s.className="chat-image",s.src=o.src,s.addEventListener("load",n),s.addEventListener("error",n);var a=e('a[href="'.concat(i,'"]'),t);r.each(a,function(e){e.replaceChild(s,e.firstChild)})}).catch(n)})}))},d.slideInAllElements=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;return n.all(r.map(e,r.partial(d.slideIn,r,t)))},d.slideToggleElement=function(e,t){return r.includes(e.classList,"collapsed")||r.includes(e.classList,"hidden")?d.slideOut(e,t):d.slideIn(e,t)},d.hasClass=function(e,t){return r.includes(t.classList,e)},d.slideOut=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;return new n(function(n,i){function s(){f+=l/h,f<l?(e.style.height=f+"px",e.setAttribute("data-slider-marker",window.requestAnimationFrame(s))):(e.removeAttribute("data-slider-marker"),e.style.height=d.calculateElementHeight(e)+"px",e.style.overflow="",e.style.height="",n())}if(r.isNil(e)){var a="Undefined or null element passed into slideOut";return c.warn(a),void i(new Error(a))}var u=e.getAttribute("data-slider-marker");u&&(e.removeAttribute("data-slider-marker"),window.cancelAnimationFrame(u));var l=d.calculateElementHeight(e);if(window.converse_disable_effects)return e.style.height=l+"px",o(e),void n();if(!d.hasClass("collapsed",e)&&!d.hasClass("hidden",e))return void n();var h=t/17,f=0;e.style.height="0",e.style.overflow="hidden",e.classList.remove("hidden"),e.classList.remove("collapsed"),e.setAttribute("data-slider-marker",window.requestAnimationFrame(s))})},d.slideIn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;return new n(function(n,i){function o(){d-=u/l,d>0?(e.style.height=d+"px",e.setAttribute("data-slider-marker",window.requestAnimationFrame(o))):(e.removeAttribute("data-slider-marker"),e.classList.add("collapsed"),e.style.height="",n(e))}if(r.isNil(e)){var s="Undefined or null element passed into slideIn";return c.warn(s),i(new Error(s))}if(r.includes(e.classList,"collapsed"))return n(e);if(window.converse_disable_effects)return e.classList.add("collapsed"),e.style.height="",n(e);var a=e.getAttribute("data-slider-marker");a&&(e.removeAttribute("data-slider-marker"),window.cancelAnimationFrame(a));var u=e.offsetHeight,l=t/17,d=u;e.style.overflow="hidden",e.setAttribute("data-slider-marker",window.requestAnimationFrame(o))})},d.fadeIn=function(e,t){if(r.isNil(e)&&c.warn("Undefined or null element passed into fadeIn"),window.converse_disable_effects)return e.classList.remove("hidden"),s(e,t);r.includes(e.classList,"hidden")?(e.classList.add("visible"),e.classList.remove("hidden"),e.addEventListener("webkitAnimationEnd",r.partial(s,e,t)),e.addEventListener("animationend",r.partial(s,e,t)),e.addEventListener("oanimationend",r.partial(s,e,t))):s(e,t)},d.isValidJID=function(e){return 2===r.compact(e.split("@")).length&&!e.startsWith("@")&&!e.endsWith("@")},d.isValidMUCJID=function(e){return!e.startsWith("@")&&!e.endsWith("@")},d.isSameBareJID=function(e,t){return i.getBareJidFromJid(e).toLowerCase()===i.getBareJidFromJid(t).toLowerCase()},d.getMostRecentMessage=function(e){var t=e.messages.filter("message");return t[t.length-1]},d.isNewMessage=function(t){return t instanceof Element?!e('result[xmlns="'+i.NS.MAM+'"]',t).length&&!e('delay[xmlns="'+i.NS.DELAY+'"]',t).length:!t.get("delayed")},d.isOTRMessage=function(e){var t=e.querySelector("body"),n=r.isNull(t)?void 0:t.textContent;return n&&!!n.match(/^\?OTR/)},d.isHeadlineMessage=function(e,t){var n=t.getAttribute("from");if("headline"===t.getAttribute("type"))return!0;var o=e.chatboxes.get(i.getBareJidFromJid(n));return(!o||"chatroom"!==o.get("type"))&&("error"!==t.getAttribute("type")&&!r.isNil(n)&&!r.includes(n,"@"))},d.merge=function e(t,n){for(var i in n)r.isObject(t[i])?e(t[i],n[i]):t[i]=n[i]},d.applyUserSettings=function e(t,n,i){for(var o in n)r.isUndefined(i[o])||(r.isObject(n[o])&&!r.isArray(n[o])?e(t[o],n[o],i[o]):t[o]=i[o])},d.stringToNode=function(e){var t=document.createElement("div");return t.innerHTML=e,t.firstChild},d.getOuterWidth=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.offsetWidth;if(!t)return n;var r=window.getComputedStyle(e);return n+=parseInt(r.marginLeft,10)+parseInt(r.marginRight,10)},d.stringToElement=function(e){var t=document.createElement("div");return t.innerHTML=e,t.firstElementChild},d.matchesSelector=function(e,t){return(e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector).call(e,t)},d.queryChildren=function(e,t){return r.filter(e.children,r.partial(d.matchesSelector,r,t))},d.contains=function(e,n){return function(i){if("object"===t(e)){var o=!1;return r.forEach(e,function(e){o=o||r.includes(i.get(e).toLowerCase(),n.toLowerCase())}),o}if("string"==typeof e)return r.includes(i.get(e).toLowerCase(),n.toLowerCase());throw new TypeError("contains: wrong attribute type. Must be string or array.")}},d.isOfType=function(e,t){return t.get("type")==e},d.isInstance=function(e,t){return t instanceof e},d.getAttribute=function(e,t){return t.get(e)},d.contains.not=function(e,t){return function(n){return!d.contains(e,t)(n)}},d.createFragmentFromText=function(e){var t,n=document.createDocumentFragment(),r=document.createElement("body");for(r.innerHTML=e;t=r.firstChild;)n.appendChild(t);return n},d.addEmoji=function(e,t,n){return e.use_emojione?t.toImage(n):t.shortnameToUnicode(n)},d.getEmojisByCategory=function(e,t){if(r.isUndefined(e.emojis_by_category)){var n=r.values(r.mapValues(t.emojioneList,function(e,t,n){return e._shortname=t,e})),i=[":tone1:",":tone2:",":tone3:",":tone4:",":tone5:"],o=[":kiss_ww:",":kiss_mm:",":kiss_woman_man:"],s=[":woman",":man",":women_",":men_","_man_","_woman_","_woman:","_man:"],a=["modifier","regional"],u=r.difference(r.uniq(r.map(n,r.partial(r.get,r,"category"))),a),c={};r.forEach(u,function(e){var t=r.sortBy(r.filter(n,["category",e]),["uc_base"]);if(t=r.filter(t,function(e){return!r.includes(r.concat(i,o),e._shortname)&&!r.some(s,r.partial(r.includes,e._shortname))}),"people"===e){var a=r.findIndex(t,["uc_base","1f600"]);t=r.union(r.slice(t,a),r.slice(t,0,a+1))}else"activity"===e?t=r.union(r.slice(t,26),r.slice(t,0,27)):"objects"===e?t=r.union(r.slice(t,23),r.slice(t,0,24)):"travel"===e?t=r.union(r.slice(t,16),r.slice(t,0,17)):"symbols"===e&&(t=r.union(r.slice(t,59),r.slice(t,0,60)));c[e]=t}),e.emojis_by_category=c}return e.emojis_by_category},d.getTonedEmojis=function(e){return e.toned_emojis=r.uniq(r.map(r.filter(d.getEmojisByCategory(e).people,function(e){return r.includes(e._shortname,"_tone")}),function(e){return e._shortname.replace(/_tone[1-5]/,"")})),e.toned_emojis},d.isPersistableModel=function(e){return e.collection&&e.collection.browserStorage},d.getResolveablePromise=function(){var e={},t=new n(function(t,n){e.resolve=t,e.reject=n});return r.assign(t,e),t},d.interpolate=function(e,t){return e.replace(/{{{([^{}]*)}}}/g,function(e,n){var r=t[n];return"string"==typeof r||"number"==typeof r?r:e})},d.onMultipleEvents=function(){function e(e){i.push(e),t.length===i.length&&(n(i),i=[])}var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,i=[];r.each(t,function(t){return t.object.on(t.event,e)})},d.safeSave=function(e,t){d.isPersistableModel(e)?e.save(t):e.set(t)},d.isVisible=function(e){return!d.hasClass("hidden",e)&&(e.offsetWidth>0||e.offsetHeight>0||e.getClientRects().length>0)},d.triggerEvent=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Event",r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=document.createEvent(n);o.initEvent(t,r,i),e.dispatchEvent(o)},d}),function(e,t){if("function"==typeof i&&i.amd)i("pluggable",["exports","lodash"],t);else if("undefined"!=typeof exports)t(exports,r("lodash"));else{var n={exports:{}};t(n.exports,e._),e.pluggable=n.exports}}(this,function(e,t){"use strict";function n(e,t){this.name=t,this.plugged=e,void 0===this.plugged.__super__?this.plugged.__super__={}:"string"==typeof this.plugged.__super__&&(this.plugged.__super__={__string__:this.plugged.__super__}),this.plugged.__super__[t]=this.plugged,this.plugins={},this.initialized_plugins=[]}function r(e,t,r){void 0===r&&(r="pluginSocket"),void 0===t&&(t="plugged");var o={};return o[r]=new n(e,t),i.extend(e,o)}Object.defineProperty(e,"__esModule",{value:!0}),e.enable=void 0;var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(t),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};i.extend(n.prototype,{wrappedOverride:function(e,t,n,r){return"function"==typeof n&&(void 0===this.__super__&&(this.__super__=r),this.__super__[e]=n.bind(this)),t.apply(this,i.drop(arguments,4))},_overrideAttribute:function(e,t){var n=t.overrides[e];if("function"==typeof n){var r={};r[this.name]=this.plugged;var o=i.partial(this.wrappedOverride,e,n,this.plugged[e],r);this.plugged[e]=o}else this.plugged[e]=n},_extendObject:function(e,t){e.prototype.__super__||(e.prototype.__super__={},e.prototype.__super__[this.name]=this.plugged);var n=this;i.each(t,function(t,r){if("events"===r)e.prototype[r]=i.extend(t,e.prototype[r]);else if("function"==typeof t){var o={};o[n.name]=n.plugged;var s=i.partial(n.wrappedOverride,r,t,e.prototype[r],o);e.prototype[r]=s}else e.prototype[r]=t})},loadPluginDependencies:function(e){var t=this;i.each(e.dependencies,function(n){var r=t.plugins[n];if(r){if(i.includes(r.dependencies,e.__name__))throw'Found a circular dependency between the plugins "'+e.__name__+'" and "'+n+'"';t.initializePlugin(r)}else t.throwUndefinedDependencyError('Could not find dependency "'+n+'" for the plugin "'+e.__name__+"\". If it's needed, make sure it's loaded by require.js")})},throwUndefinedDependencyError:function(e){if(this.plugged.strict_plugin_dependencies)throw e;return void console.log(e)},applyOverrides:function(e){var t=this;i.each(Object.keys(e.overrides||{}),function(n){
var r=e.overrides[n];"object"===(void 0===r?"undefined":o(r))?void 0===t.plugged[n]?t.throwUndefinedDependencyError('Error: Plugin "'+e.__name__+'" tried to override '+n+" but it's not found."):t._extendObject(t.plugged[n],r):t._overrideAttribute(n,e)})},initializePlugin:function(e){i.includes(i.keys(this.allowed_plugins),e.__name__)&&(i.includes(this.initialized_plugins,e.__name__)||(i.isBoolean(e.enabled)&&e.enabled||i.isFunction(e.enabled)&&e.enabled(this.plugged)||i.isNil(e.enabled))&&(i.extend(e,this.properties),e.dependencies&&this.loadPluginDependencies(e),this.applyOverrides(e),"function"==typeof e.initialize&&e.initialize.bind(e)(this),this.initialized_plugins.push(e.__name__)))},registerPlugin:function(e,t){if(e in this.plugins)throw new Error("Error: Plugin name "+e+" is already taken");t.__name__=e,this.plugins[e]=t},initializePlugins:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];i.size(this.plugins)&&(this.properties=e,this.allowed_plugins=i.pickBy(this.plugins,function(e,r){return(!t.length||t.length&&i.includes(t,r))&&!i.includes(n,r)}),i.each(i.values(this.allowed_plugins),this.initializePlugin.bind(this)))}}),e.enable=r,e.default={enable:r}}),i("underscore",["lodash"],function(e){return e.noConflict()}),i("jquery",[],function(){return Object}),function(e){var t="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global;if("function"==typeof i&&i.amd)i("backbone",["underscore","jquery","exports"],function(n,r,i){t.Backbone=e(t,i,n,r)});else if("undefined"!=typeof exports){var n,o=r("underscore");try{n=r("jquery")}catch(e){}e(t,exports,o,n)}else t.Backbone=e(t,{},t._,t.jQuery||t.Zepto||t.ender||t.$)}(function(e,t,n,r){var i=e.Backbone,o=Array.prototype.slice;t.VERSION="1.3.3",t.$=r,t.noConflict=function(){return e.Backbone=i,this},t.emulateHTTP=!1,t.emulateJSON=!1;var s=function(e,t,r){switch(e){case 1:return function(){return n[t](this[r])};case 2:return function(e){return n[t](this[r],e)};case 3:return function(e,i){return n[t](this[r],u(e,this),i)};case 4:return function(e,i,o){return n[t](this[r],u(e,this),i,o)};default:return function(){var e=o.call(arguments);return e.unshift(this[r]),n[t].apply(n,e)}}},a=function(e,t,r){n.each(t,function(t,i){n[i]&&(e.prototype[i]=s(t,i,r))})},u=function(e,t){return n.isFunction(e)?e:n.isObject(e)&&!t._isModel(e)?c(e):n.isString(e)?function(t){return t.get(e)}:e},c=function(e){var t=n.matches(e);return function(e){return t(e.attributes)}},l=t.Events={},d=/\s+/,h=function(e,t,r,i,o){var s,a=0;if(r&&"object"==typeof r){void 0!==i&&"context"in o&&void 0===o.context&&(o.context=i);for(s=n.keys(r);a<s.length;a++)t=h(e,t,s[a],r[s[a]],o)}else if(r&&d.test(r))for(s=r.split(d);a<s.length;a++)t=e(t,s[a],i,o);else t=e(t,r,i,o);return t};l.on=function(e,t,n){return f(this,e,t,n)};var f=function(e,t,n,r,i){if(e._events=h(p,e._events||{},t,n,{context:r,ctx:e,listening:i}),i){(e._listeners||(e._listeners={}))[i.id]=i}return e};l.listenTo=function(e,t,r){if(!e)return this;var i=e._listenId||(e._listenId=n.uniqueId("l")),o=this._listeningTo||(this._listeningTo={}),s=o[i];if(!s){var a=this._listenId||(this._listenId=n.uniqueId("l"));s=o[i]={obj:e,objId:i,id:a,listeningTo:o,count:0}}return f(e,t,r,this,s),this};var p=function(e,t,n,r){if(n){var i=e[t]||(e[t]=[]),o=r.context,s=r.ctx,a=r.listening;a&&a.count++,i.push({callback:n,context:o,ctx:o||s,listening:a})}return e};l.off=function(e,t,n){return this._events?(this._events=h(m,this._events,e,t,{context:n,listeners:this._listeners}),this):this},l.stopListening=function(e,t,r){var i=this._listeningTo;if(!i)return this;for(var o=e?[e._listenId]:n.keys(i),s=0;s<o.length;s++){var a=i[o[s]];if(!a)break;a.obj.off(t,r,this)}return this};var m=function(e,t,r,i){if(e){var o,s=0,a=i.context,u=i.listeners;if(t||r||a){for(var c=t?[t]:n.keys(e);s<c.length;s++){t=c[s];var l=e[t];if(!l)break;for(var d=[],h=0;h<l.length;h++){var f=l[h];r&&r!==f.callback&&r!==f.callback._callback||a&&a!==f.context?d.push(f):(o=f.listening)&&0==--o.count&&(delete u[o.id],delete o.listeningTo[o.objId])}d.length?e[t]=d:delete e[t]}return e}for(var p=n.keys(u);s<p.length;s++)o=u[p[s]],delete u[o.id],delete o.listeningTo[o.objId]}};l.once=function(e,t,r){var i=h(_,{},e,t,n.bind(this.off,this));return"string"==typeof e&&null==r&&(t=void 0),this.on(i,t,r)},l.listenToOnce=function(e,t,r){var i=h(_,{},t,r,n.bind(this.stopListening,this,e));return this.listenTo(e,i)};var _=function(e,t,r,i){if(r){var o=e[t]=n.once(function(){i(t,o),r.apply(this,arguments)});o._callback=r}return e};l.trigger=function(e){if(!this._events)return this;for(var t=Math.max(0,arguments.length-1),n=Array(t),r=0;r<t;r++)n[r]=arguments[r+1];return h(g,this._events,e,void 0,n),this};var g=function(e,t,n,r){if(e){var i=e[t],o=e.all;i&&o&&(o=o.slice()),i&&v(i,r),o&&v(o,[t].concat(r))}return e},v=function(e,t){var n,r=-1,i=e.length,o=t[0],s=t[1],a=t[2];switch(t.length){case 0:for(;++r<i;)(n=e[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=e[r]).callback.call(n.ctx,o);return;case 2:for(;++r<i;)(n=e[r]).callback.call(n.ctx,o,s);return;case 3:for(;++r<i;)(n=e[r]).callback.call(n.ctx,o,s,a);return;default:for(;++r<i;)(n=e[r]).callback.apply(n.ctx,t);return}};l.bind=l.on,l.unbind=l.off,n.extend(t,l);var y=t.Model=function(e,t){var r=e||{};t||(t={}),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(r=this.parse(r,t)||{});var i=n.result(this,"defaults");r=n.defaults(n.extend({},i,r),i),this.set(r,t),this.changed={},this.initialize.apply(this,arguments)};n.extend(y.prototype,l,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(e){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return n.escape(this.get(e))},has:function(e){return null!=this.get(e)},matches:function(e){return!!n.iteratee(e,this)(this.attributes)},set:function(e,t,r){if(null==e)return this;var i;if("object"==typeof e?(i=e,r=t):(i={})[e]=t,r||(r={}),!this._validate(i,r))return!1;var o=r.unset,s=r.silent,a=[],u=this._changing;this._changing=!0,u||(this._previousAttributes=n.clone(this.attributes),this.changed={});var c=this.attributes,l=this.changed,d=this._previousAttributes;for(var h in i)t=i[h],n.isEqual(c[h],t)||a.push(h),n.isEqual(d[h],t)?delete l[h]:l[h]=t,o?delete c[h]:c[h]=t;if(this.idAttribute in i&&(this.id=this.get(this.idAttribute)),!s){a.length&&(this._pending=r);for(var f=0;f<a.length;f++)this.trigger("change:"+a[f],this,c[a[f]],r)}if(u)return this;if(!s)for(;this._pending;)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,n.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var r in this.attributes)t[r]=void 0;return this.set(t,n.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!n.isEmpty(this.changed):n.has(this.changed,e)},changedAttributes:function(e){if(!e)return!!this.hasChanged()&&n.clone(this.changed);var t=this._changing?this._previousAttributes:this.attributes,r={};for(var i in e){var o=e[i];n.isEqual(t[i],o)||(r[i]=o)}return!!n.size(r)&&r},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(e){e=n.extend({parse:!0},e);var t=this,r=e.success;return e.success=function(n){var i=e.parse?t.parse(n,e):n;if(!t.set(i,e))return!1;r&&r.call(e.context,t,n,e),t.trigger("sync",t,n,e)},P(this,e),this.sync("read",this,e)},save:function(e,t,r){var i;null==e||"object"==typeof e?(i=e,r=t):(i={})[e]=t,r=n.extend({validate:!0,parse:!0},r);var o=r.wait;if(i&&!o){if(!this.set(i,r))return!1}else if(!this._validate(i,r))return!1;var s=this,a=r.success,u=this.attributes;r.success=function(e){s.attributes=u;var t=r.parse?s.parse(e,r):e;if(o&&(t=n.extend({},i,t)),t&&!s.set(t,r))return!1;a&&a.call(r.context,s,e,r),s.trigger("sync",s,e,r)},P(this,r),i&&o&&(this.attributes=n.extend({},u,i));var c=this.isNew()?"create":r.patch?"patch":"update";"patch"!==c||r.attrs||(r.attrs=i);var l=this.sync(c,this,r);return this.attributes=u,l},destroy:function(e){e=e?n.clone(e):{};var t=this,r=e.success,i=e.wait,o=function(){t.stopListening(),t.trigger("destroy",t,t.collection,e)};e.success=function(n){i&&o(),r&&r.call(e.context,t,n,e),t.isNew()||t.trigger("sync",t,n,e)};var s=!1;return this.isNew()?n.defer(e.success):(P(this,e),s=this.sync("delete",this,e)),i||o(),s},url:function(){var e=n.result(this,"urlRoot")||n.result(this.collection,"url")||j();if(this.isNew())return e;var t=this.get(this.idAttribute);return e.replace(/[^\/]$/,"$&/")+encodeURIComponent(t)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},n.extend({},e,{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=n.extend({},this.attributes,e);var r=this.validationError=this.validate(e,t)||null;return!r||(this.trigger("invalid",this,r,n.extend(t,{validationError:r})),!1)}}),a(y,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes");var b=t.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,n.extend({silent:!0},t))},w={add:!0,remove:!0,merge:!0},S={add:!0,remove:!1},x=function(e,t,n){n=Math.min(Math.max(n,0),e.length);var r,i=Array(e.length-n),o=t.length;for(r=0;r<i.length;r++)i[r]=e[r+n];for(r=0;r<o;r++)e[r+n]=t[r];for(r=0;r<i.length;r++)e[r+o+n]=i[r]};n.extend(b.prototype,l,{model:y,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,n.extend({merge:!1},t,S))},remove:function(e,t){t=n.extend({},t);var r=!n.isArray(e);e=r?[e]:e.slice();var i=this._removeModels(e,t);return!t.silent&&i.length&&(t.changes={added:[],merged:[],removed:i},this.trigger("update",this,t)),r?i[0]:i},set:function(e,t){if(null!=e){t=n.extend({},w,t),t.parse&&!this._isModel(e)&&(e=this.parse(e,t)||[]);var r=!n.isArray(e);e=r?[e]:e.slice();var i=t.at;null!=i&&(i=+i),i>this.length&&(i=this.length),i<0&&(i+=this.length+1);var o,s,a=[],u=[],c=[],l=[],d={},h=t.add,f=t.merge,p=t.remove,m=!1,_=this.comparator&&null==i&&!1!==t.sort,g=n.isString(this.comparator)?this.comparator:null;for(s=0;s<e.length;s++){o=e[s];var v=this.get(o);if(v){if(f&&o!==v){var y=this._isModel(o)?o.attributes:o;t.parse&&(y=v.parse(y,t)),v.set(y,t),c.push(v),_&&!m&&(m=v.hasChanged(g))}d[v.cid]||(d[v.cid]=!0,a.push(v)),e[s]=v}else h&&(o=e[s]=this._prepareModel(o,t))&&(u.push(o),this._addReference(o,t),d[o.cid]=!0,a.push(o))}if(p){for(s=0;s<this.length;s++)o=this.models[s],d[o.cid]||l.push(o);l.length&&this._removeModels(l,t)}var b=!1,S=!_&&h&&p;if(a.length&&S?(b=this.length!==a.length||n.some(this.models,function(e,t){return e!==a[t]}),this.models.length=0,x(this.models,a,0),this.length=this.models.length):u.length&&(_&&(m=!0),x(this.models,u,null==i?this.length:i),this.length=this.models.length),m&&this.sort({silent:!0}),!t.silent){for(s=0;s<u.length;s++)null!=i&&(t.index=i+s),o=u[s],o.trigger("add",o,this,t);(m||b)&&this.trigger("sort",this,t),(u.length||l.length||c.length)&&(t.changes={added:u,removed:l,merged:c},this.trigger("update",this,t))}return r?e[0]:e}},reset:function(e,t){t=t?n.clone(t):{};for(var r=0;r<this.models.length;r++)this._removeReference(this.models[r],t);return t.previousModels=this.models,this._reset(),e=this.add(e,n.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,n.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e)},unshift:function(e,t){return this.add(e,n.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e)},slice:function(){return o.apply(this.models,arguments)},get:function(e){if(null!=e)return this._byId[e]||this._byId[this.modelId(e.attributes||e)]||e.cid&&this._byId[e.cid]},has:function(e){return null!=this.get(e)},at:function(e){return e<0&&(e+=this.length),this.models[e]},where:function(e,t){return this[t?"find":"filter"](e)},findWhere:function(e){return this.where(e,!0)},sort:function(e){var t=this.comparator;if(!t)throw new Error("Cannot sort a set without a comparator");e||(e={});var r=t.length;return n.isFunction(t)&&(t=n.bind(t,this)),1===r||n.isString(t)?this.models=this.sortBy(t):this.models.sort(t),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return this.map(e+"")},fetch:function(e){e=n.extend({parse:!0},e);var t=e.success,r=this;return e.success=function(n){var i=e.reset?"reset":"set";r[i](n,e),t&&t.call(e.context,r,n,e),r.trigger("sync",r,n,e)},P(this,e),this.sync("read",this,e)},create:function(e,t){t=t?n.clone(t):{};var r=t.wait;if(!(e=this._prepareModel(e,t)))return!1;r||this.add(e,t);var i=this,o=t.success;return t.success=function(e,t,n){r&&i.add(e,n),o&&o.call(n.context,e,t,n)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(e){return e[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(this._isModel(e))return e.collection||(e.collection=this),e;t=t?n.clone(t):{},t.collection=this;var r=new this.model(e,t);return r.validationError?(this.trigger("invalid",this,r.validationError,t),!1):r},_removeModels:function(e,t){for(var n=[],r=0;r<e.length;r++){var i=this.get(e[r]);if(i){var o=this.indexOf(i);this.models.splice(o,1),this.length--,delete this._byId[i.cid];var s=this.modelId(i.attributes);null!=s&&delete this._byId[s],t.silent||(t.index=o,i.trigger("remove",i,this,t)),n.push(i),this._removeReference(i,t)}}return n},_isModel:function(e){return e instanceof y},_addReference:function(e,t){this._byId[e.cid]=e;var n=this.modelId(e.attributes);null!=n&&(this._byId[n]=e),e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){delete this._byId[e.cid];var n=this.modelId(e.attributes);null!=n&&delete this._byId[n],this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){if(t){if(("add"===e||"remove"===e)&&n!==this)return;if("destroy"===e&&this.remove(t,r),"change"===e){var i=this.modelId(t.previousAttributes()),o=this.modelId(t.attributes);i!==o&&(null!=i&&delete this._byId[i],null!=o&&(this._byId[o]=t))}}this.trigger.apply(this,arguments)}}),a(b,{forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},"models");var M=t.View=function(e){this.cid=n.uniqueId("view"),n.extend(this,n.pick(e,L)),this._ensureElement(),this.initialize.apply(this,arguments)},A=/^(\S+)\s*(.*)$/,L=["model","collection","el","id","attributes","className","tagName","events"];n.extend(M.prototype,l,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(e){return this.undelegateEvents(),this._setElement(e),this.delegateEvents(),this},_setElement:function(e){this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0]},delegateEvents:function(e){if(e||(e=n.result(this,"events")),!e)return this;this.undelegateEvents();for(var t in e){var r=e[t];if(n.isFunction(r)||(r=this[r]),r){var i=t.match(A);this.delegate(i[1],i[2],n.bind(r,this))}}return this},delegate:function(e,t,n){return this.$el.on(e+".delegateEvents"+this.cid,t,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(e,t,n){return this.$el.off(e+".delegateEvents"+this.cid,t,n),this},_createElement:function(e){return document.createElement(e)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var e=n.extend({},n.result(this,"attributes"));this.id&&(e.id=n.result(this,"id")),this.className&&(e.class=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(e)}},_setAttributes:function(e){this.$el.attr(e)}}),t.sync=function(e,r,i){var o=T[e];n.defaults(i||(i={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var s={type:o,dataType:"json"};if(i.url||(s.url=n.result(r,"url")||j()),null!=i.data||!r||"create"!==e&&"update"!==e&&"patch"!==e||(s.contentType="application/json",s.data=JSON.stringify(i.attrs||r.toJSON(i))),i.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),i.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){s.type="POST",i.emulateJSON&&(s.data._method=o);var a=i.beforeSend;i.beforeSend=function(e){if(e.setRequestHeader("X-HTTP-Method-Override",o),a)return a.apply(this,arguments)}}"GET"===s.type||i.emulateJSON||(s.processData=!1);var u=i.error;i.error=function(e,t,n){i.textStatus=t,i.errorThrown=n,u&&u.call(i.context,e,t,n)};var c=i.xhr=t.ajax(n.extend(s,i));return r.trigger("request",r,c,i),c};var T={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var D=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},E=/\((.*?)\)/g,k=/(\(\?)?:\w+/g,C=/\*\w+/g,N=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(D.prototype,l,{initialize:function(){},route:function(e,r,i){n.isRegExp(e)||(e=this._routeToRegExp(e)),n.isFunction(r)&&(i=r,r=""),i||(i=this[r]);var o=this;return t.history.route(e,function(n){var s=o._extractParameters(e,n);!1!==o.execute(i,s,r)&&(o.trigger.apply(o,["route:"+r].concat(s)),o.trigger("route",r,s),t.history.trigger("route",o,r,s))}),this},execute:function(e,t,n){e&&e.apply(this,t)},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var e,t=n.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(N,"\\$&").replace(E,"(?:$1)?").replace(k,function(e,t){return t?e:"([^/?]+)"}).replace(C,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var r=e.exec(t).slice(1);return n.map(r,function(e,t){return t===r.length-1?e||null:e?decodeURIComponent(e):null})}});var O=t.History=function(){this.handlers=[],this.checkUrl=n.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},I=/^[#\/]|\s+$/g,Y=/^\/+|\/+$/g,R=/#.*$/;O.started=!1,n.extend(O.prototype,l,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(e){return decodeURI(e.replace(/%25/g,"%2525"))},getSearch:function(){var e=this.location.href.replace(/#.*/,"").match(/\?.+/);return e?e[0]:""},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getPath:function(){var e=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===e.charAt(0)?e.slice(1):e},getFragment:function(e){return null==e&&(e=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),e.replace(I,"")},start:function(e){if(O.started)throw new Error("Backbone.history has already been started");if(O.started=!0,this.options=n.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(Y,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var t=this.root.slice(0,-1)||"/";return this.location.replace(t+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var r=document.body,i=r.insertBefore(this.iframe,r.firstChild).contentWindow;i.document.open(),i.document.close(),i.location.hash="#"+this.fragment}var o=window.addEventListener||function(e,t){return attachEvent("on"+e,t)};if(this._usePushState?o("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?o("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var e=window.removeEventListener||function(e,t){return detachEvent("on"+e,t)};this._usePushState?e("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&e("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),O.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();if(t===this.fragment&&this.iframe&&(t=this.getHash(this.iframe.contentWindow)),t===this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()},loadUrl:function(e){return!!this.matchRoot()&&(e=this.fragment=this.getFragment(e),n.some(this.handlers,function(t){if(t.route.test(e))return t.callback(e),!0}))},navigate:function(e,t){if(!O.started)return!1;t&&!0!==t||(t={trigger:!!t}),e=this.getFragment(e||"");var n=this.root;""!==e&&"?"!==e.charAt(0)||(n=n.slice(0,-1)||"/");var r=n+e;if(e=this.decodeFragment(e.replace(R,"")),this.fragment!==e){if(this.fragment=e,this._usePushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,r);else{if(!this._wantsHashChange)return this.location.assign(r);if(this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getHash(this.iframe.contentWindow)){var i=this.iframe.contentWindow;t.replace||(i.document.open(),i.document.close()),this._updateHash(i.location,e,t.replace)}}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,n){if(n){var r=e.href.replace(/(javascript:|#).*$/,"");e.replace(r+"#"+t)}else e.hash="#"+t}}),t.history=new O;var H=function(e,t){var r,i=this;return r=e&&n.has(e,"constructor")?e.constructor:function(){return i.apply(this,arguments)},n.extend(r,i,t),r.prototype=n.create(i.prototype,e),r.prototype.constructor=r,r.__super__=i.prototype,r};y.extend=b.extend=D.extend=M.extend=O.extend=H;var j=function(){throw new Error('A "url" property or function must be specified')},P=function(e,t){var n=t.error;t.error=function(r){n&&n.call(t.context,e,r,t),e.trigger("error",e,r,t)}};return t}),i("backbone.noconflict",["backbone"],function(e){return e.noConflict()}),function(e){"function"==typeof i&&i.amd?i("backbone.nativeview",["backbone"],e):"object"==typeof module?module.exports=e(r("backbone")):e(Backbone)}(function(e){var t=/^\s*</,n="undefined"!=typeof Element&&Element.prototype||{},r=n.addEventListener||function(e,t){return this.attachEvent("on"+e,t)},i=n.removeEventListener||function(e,t){return this.detachEvent("on"+e,t)},o=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},s=n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||function(e){var t=(this.parentNode||document).querySelectorAll(e)||[];return~o(t,this)},a=e.View;return e.NativeViewMixin={_domEvents:null,constructor:function(){return this._domEvents=[],a.apply(this,arguments)},$:function(e){return this.el.querySelectorAll(e)},_removeElement:function(){this.undelegateEvents(),this.el.parentNode&&this.el.parentNode.removeChild(this.el)},_setElement:function(e){if("string"==typeof e)if(t.test(e)){var n=document.createElement("div");n.innerHTML=e,this.el=n.firstChild}else this.el=document.querySelector(e);else this.el=e},_setAttributes:function(e){for(var t in e)t in this.el?this.el[t]=e[t]:this.el.setAttribute(t,e[t])},delegate:function(e,t,n){"function"==typeof t&&(n=t,t=null);var i=this.el,o=t?function(e){for(var r=e.target||e.srcElement;r&&r!=i;r=r.parentNode)s.call(r,t)&&(e.delegateTarget=r,n(e))}:n;return r.call(this.el,e,o,!1),this._domEvents.push({eventName:e,handler:o,listener:n,selector:t}),o},undelegate:function(e,t,n){if("function"==typeof t&&(n=t,t=null),this.el)for(var r=this._domEvents.slice(),s=0,a=r.length;s<a;s++){var u=r[s],c=!(u.eventName!==e||n&&u.listener!==n||t&&u.selector!==t);c&&(i.call(this.el,u.eventName,u.handler,!1),this._domEvents.splice(o(r,u),1))}return this},undelegateEvents:function(){if(this.el){for(var e=0,t=this._domEvents.length;e<t;e++){var n=this._domEvents[e];i.call(this.el,n.eventName,n.handler,!1)}this._domEvents.length=0}return this}},e.NativeView=e.View.extend(e.NativeViewMixin),e.NativeView}),function(e,t){"object"==typeof exports&&"function"==typeof r?module.exports=t(r("backbone"),r("underscore")):"function"==typeof i&&i.amd?i("backbone.browserStorage",["backbone","underscore"],function(n,r){return t(n||e.Backbone,r||e._)}):t(Backbone,_)}(this,function(e,t){function n(){return(65536*(1+Math.random())|0).toString(16).substring(1)}function r(){return n()+n()+"-"+n()+"-"+n()+"-"+n()+"-"+n()+n()+n()}function i(e,t){for(var n=e.length;n--;)if(e[n]===t)return!0;return!1}function o(e,t){for(var n in t)e[n]=t[n];return e}function s(e,n,r){var i;if("local"===r&&!window.localStorage)throw"Backbone.browserStorage: Environment does not support localStorage.";if("session"===r&&!window.sessionStorage)throw"Backbone.browserStorage: Environment does not support sessionStorage.";if(this.name=e,this.serializer=n||{serialize:function(e){return t.isObject(e)?JSON.stringify(e):e},deserialize:function(e){return e&&JSON.parse(e)}},"session"===r)this.store=window.sessionStorage;else{if("local"!==r)throw"Backbone.browserStorage: No storage type was specified";this.store=window.localStorage}i=this.store.getItem(this.name),this.records=i&&i.split(",")||[]}e.BrowserStorage={local:function(e,t){return s.bind(this,e,t,"local")()},session:function(e,t){return s.bind(this,e,t,"session")()}};var a={save:function(){this.store.setItem(this.name,this.records.join(","))},create:function(e){return e.id||(e.id=r(),e.set(e.idAttribute,e.id)),this.store.setItem(this._itemName(e.id),this.serializer.serialize(e)),this.records.push(e.id.toString()),this.save(),!1!==this.find(e)},update:function(e){this.store.setItem(this._itemName(e.id),this.serializer.serialize(e));var t=e.id.toString();return i(this.records,t)||(this.records.push(t),this.save()),!1!==this.find(e)},find:function(e){return this.serializer.deserialize(this.store.getItem(this._itemName(e.id)))},findAll:function(){for(var e,t,n=[],r=0;r<this.records.length;r++)e=this.records[r],null!==(t=this.serializer.deserialize(this.store.getItem(this._itemName(e))))&&n.push(t);return n},destroy:function(e){this.store.removeItem(this._itemName(e.id));for(var t=e.id.toString(),n=0;n<this.records.length;n++)this.records[n]===t&&this.records.splice(n,1);return this.save(),e},browserStorage:function(){return{session:sessionStorage,local:localStorage}},_clear:function(){var e,t=this.store;e=new RegExp("^"+this.name.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")+"-"),t.removeItem(this.name);for(var n in t)e.test(n)&&t.removeItem(n);this.records.length=0},_storageSize:function(){return this.store.length},_itemName:function(e){return this.name+"-"+e}};return o(e.BrowserStorage.session.prototype,a),o(e.BrowserStorage.local.prototype,a),e.BrowserStorage.sync=e.localSync=function(t,n,r){var i,o,s=n.browserStorage||n.collection.browserStorage,a=e.$?e.$.Deferred&&e.$.Deferred():e.Deferred&&e.Deferred();try{switch(t){case"read":i=void 0!==n.id?s.find(n):s.findAll();break;case"create":i=s.create(n);break;case"update":i=s.update(n);break;case"delete":i=s.destroy(n)}}catch(e){o=22===e.code&&0===s._storageSize()?"Private browsing is unsupported":e.message}return i?(r&&r.success&&("0.9.10"===e.VERSION?r.success(n,i,r):r.success(i)),a&&a.resolve(i)):(o=o||"Record Not Found",r&&r.error&&("0.9.10"===e.VERSION?r.error(n,o,r):r.error(o)),a&&a.reject(o)),r&&r.complete&&r.complete(i),a&&a.promise()},e.ajaxSync=e.sync,e.getSyncMethod=function(t){return t.browserStorage||t.collection&&t.collection.browserStorage?e.localSync:e.ajaxSync},e.sync=function(t,n,r){return e.getSyncMethod(n).apply(this,[t,n,r])},e.BrowserStorage}),function(e,t){i("converse-core",["sizzle","es6-promise","lodash.noconflict","lodash.fp","polyfill","i18n","utils","moment","strophe","pluggable","backbone.noconflict","backbone.nativeview","backbone.browserStorage"],t)}(0,function(t,n,r,i,o,s,a,u,c,l,d){function h(e){y.promises[e]=a.getResolveablePromise()}var f=c,p=f.$build,m=f.$iq,_=f.$msg,g=f.$pres,v=c.SHA1.b64_sha1;c=c.Strophe,c.addNamespace("CARBONS","urn:xmpp:carbons:2"),c.addNamespace("CHATSTATES","http://jabber.org/protocol/chatstates"),c.addNamespace("CSI","urn:xmpp:csi:0"),c.addNamespace("DELAY","urn:xmpp:delay"),c.addNamespace("FORWARD","urn:xmpp:forward:0"),c.addNamespace("HINTS","urn:xmpp:hints"),c.addNamespace("MAM","urn:xmpp:mam:2"),c.addNamespace("NICK","http://jabber.org/protocol/nick"),c.addNamespace("PUBSUB","http://jabber.org/protocol/pubsub"),c.addNamespace("ROSTERX","http://jabber.org/protocol/rosterx"),c.addNamespace("RSM","http://jabber.org/protocol/rsm"),c.addNamespace("SID","urn:xmpp:sid:0"),c.addNamespace("SPOILER","urn:xmpp:spoiler:0"),c.addNamespace("XFORM","jabber:x:data"),r.templateSettings={escape:/\{\{\{([\s\S]+?)\}\}\}/g,evaluate:/\{\[([\s\S]+?)\]\}/g,interpolate:/\{\{([\s\S]+?)\}\}/g,imports:{_:r}};var y={templates:{},promises:{}};r.extend(y,d.Events),y.core_plugins=["converse-bookmarks","converse-chatboxes","converse-chatview","converse-controlbox","converse-core","converse-disco","converse-dragresize","converse-fullscreen","converse-headline","converse-mam","converse-minimize","converse-muc","converse-muc-embedded","converse-notification","converse-otr","converse-ping","converse-profile","converse-register","converse-roomslist","converse-rosterview","converse-singleton","converse-spoilers","converse-vcard"],l.enable(y,"_converse","pluggable"),y.STATUS_WEIGHTS={offline:6,unavailable:5,xa:4,away:3,dnd:2,chat:1,online:1},y.PRETTY_CHAT_STATUS={offline:"Offline",unavailable:"Unavailable",xa:"Extended Away",away:"Away",dnd:"Do not disturb",chat:"Chattty",online:"Online"},y.ANONYMOUS="anonymous",y.CLOSED="closed",y.EXTERNAL="external",y.LOGIN="login",y.LOGOUT="logout",y.OPENED="opened",y.PREBIND="prebind",y.CONNECTION_STATUS={0:"ERROR",1:"CONNECTING",2:"CONNFAIL",3:"AUTHENTICATING",4:"AUTHFAIL",5:"CONNECTED",6:"DISCONNECTED",7:"DISCONNECTING",8:"ATTACHED",9:"REDIRECT",10:"RECONNECTING"},y.DEFAULT_IMAGE_TYPE="image/png",
y.DEFAULT_IMAGE="iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAIAAABt+uBvAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3gwHCy455JBsggAABkJJREFUeNrtnM1PE1sUwHvvTD8otWLHST/Gimi1CEgr6M6FEWuIBo2pujDVsNDEP8GN/4MbN7oxrlipG2OCgZgYlxAbkRYw1KqkIDRCSkM7nXvvW8x7vjyNeQ9m7p1p3z1LQk/v/Dhz7vkEXL161cHl9wI5Ag6IA+KAOCAOiAPigDggLhwQB2S+iNZ+PcYY/SWEEP2HAAAIoSAIoihCCP+ngDDGtVotGAz29/cfOXJEUZSOjg6n06lp2sbGRqlUWlhYyGazS0tLbrdbEASrzgksyeYJId3d3el0uqenRxRFAAAA4KdfIIRgjD9+/Pj8+fOpqSndslofEIQwHA6Pjo4mEon//qmFhYXHjx8vLi4ihBgDEnp7e9l8E0Jo165dQ0NDd+/eDYVC2/qsJElDQ0OEkKWlpa2tLZamxAhQo9EIBoOjo6MXL17csZLe3l5FUT59+lQul5l5JRaAVFWNRqN37tw5ceKEQVWRSOTw4cOFQuHbt2+iKLYCIISQLMu3b99OJpOmKAwEAgcPHszn8+vr6wzsiG6UQQhxuVyXLl0aGBgwUW0sFstkMl6v90fo1KyAMMYDAwPnzp0zXfPg4GAqlWo0Gk0MiBAiy/L58+edTqf5Aa4onj59OhaLYYybFRCEMBaL0fNxBw4cSCQStN0QRUBut3t4eJjq6U+dOiVJElVPRBFQIBDo6+ujCqirqyscDlONGykC2lYyYSR6pBoQQapHZwAoHo/TuARYAOrs7GQASFEUqn6aIiBJkhgA6ujooFpUo6iaTa7koFwnaoWadLNe81tbWwzoaJrWrICWl5cZAFpbW6OabVAEtLi4yABQsVjUNK0pAWWzWQaAcrlcswKanZ1VVZUqHYRQEwOq1Wpv3ryhCmh6erpcLjdrNl+v1ycnJ+l5UELI27dvv3//3qxxEADgy5cvExMT9Mznw4cPtFtAdAPFarU6Pj5eKpVM17yxsfHy5cvV1VXazXu62gVBKBQKT58+rdVqJqrFGL948eLdu3dU8/g/H4FBUaJYLAqC0NPTY9brMD4+PjY25mDSracOCABACJmZmXE6nUePHjWu8NWrV48ePSKEsGlAs7Agfd5nenq6Wq0mk0kjDzY2NvbkyRMIIbP2PLvhBUEQ8vl8NpuNx+M+n29bzhVjvLKycv/+/YmJCcazQuwA6YzW1tYmJyf1SY+2trZ/rRk1Go1SqfT69esHDx4UCgVmNaa/zZ/9ABUhRFXVYDB48uTJeDweiUQkSfL7/T9MA2NcqVTK5fLy8vL8/PzU1FSxWHS5XJaM4wGr9sUwxqqqer3eUCgkSZJuUBBCfTRvc3OzXC6vrKxUKhWn02nhCJ5lM4oQQo/HgxD6+vXr58+fHf8sDOp+HQDg8XgclorFU676dKLlo6yWRdItIBwQB8QBcUCtfosRQjRNQwhhjPUC4w46WXryBSHU1zgEQWBz99EFhDGu1+t+v//48ePxeFxRlD179ng8nh0Efgiher2+vr6ur3HMzMysrq7uTJVdACGEurq6Ll++nEgkPB7Pj9jPoDHqOxyqqubz+WfPnuVyuV9XPeyeagAAAoHArVu3BgcHab8CuVzu4cOHpVKJUnfA5GweY+xyuc6cOXPv3r1IJMLAR8iyPDw8XK/Xi8Wiqqqmm5KZgBBC7e3tN27cuHbtGuPVpf7+/lAoNDs7W61WzfVKpgHSSzw3b95MpVKW3MfRaDQSiczNzVUqFRMZmQOIEOL1eq9fv3727FlL1t50URRFluX5+flqtWpWEGAOIFEUU6nUlStXLKSjy759+xwOx9zcnKZpphzGHMzhcDiTydgk9r1w4YIp7RPTAAmCkMlk2FeLf/tIEKbTab/fbwtAhJBoNGrutpNx6e7uPnTokC1eMU3T0um0DZPMkZER6wERQnw+n/FFSxpy7Nix3bt3WwwIIcRgIWnHkkwmjecfRgGx7DtuV/r6+iwGhDHev3+/bQF1dnYaH6E2CkiWZdsC2rt3r8WAHA5HW1ubbQGZcjajgOwTH/4qNko1Wlg4IA6IA+KAOKBWBUQIsfNojyliKIoRRfH9+/dut9umf3wzpoUNNQ4BAJubmwz+ic+OxefzWWlBhJD29nbug7iT5sIBcUAcEAfEAXFAHBAHxOVn+QMrmWpuPZx12gAAAABJRU5ErkJggg==",y.log=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";t!==c.LogLevel.ERROR&&t!==c.LogLevel.FATAL||(n=n||"color: maroon"),e instanceof Error&&(e=e.stack);var i=n?"%c":"",o=r.assign({debug:r.get(console,"log")?console.log.bind(console):r.noop,error:r.get(console,"log")?console.log.bind(console):r.noop,info:r.get(console,"log")?console.log.bind(console):r.noop,warn:r.get(console,"log")?console.log.bind(console):r.noop},console);t===c.LogLevel.ERROR?o.error("".concat(i," ERROR: ").concat(e),n):t===c.LogLevel.WARN?y.debug&&o.warn("".concat(i," ").concat(u().format()," WARNING: ").concat(e),n):t===c.LogLevel.FATAL?o.error("".concat(i," FATAL: ").concat(e),n):y.debug&&(t===c.LogLevel.DEBUG?o.debug("".concat(i," ").concat(u().format()," DEBUG: ").concat(e),n):o.info("".concat(i," ").concat(u().format()," INFO: ").concat(e),n))},c.log=function(e,t){y.log(e+" "+t,e)},c.error=function(e){y.log(e,c.LogLevel.ERROR)},y.__=function(e){return r.isUndefined(s)?e:s.translate.apply(s,arguments)};var b=y.__,w=["initialized","cachedRoster","connectionInitialized","pluginsInitialized","roster","rosterContactsFetched","rosterGroupsFetched","rosterInitialized","statusInitialized"];return y.emit=function(e){y.trigger.apply(this,arguments);var t=y.promises[e];r.isUndefined(t)||t.resolve()},y.router=new d.Router,y.initialize=function(e,i){"use strict";function o(){y.initPlugins(),y.initConnection(),y.setUpXMLLogging(),y.logIn(),y.registerGlobalEventHandlers(),d.history.started||d.history.start()}var l=this;e=r.isUndefined(e)?{}:e;var f=a.getResolveablePromise();r.each(w,h),r.isUndefined(y.connection)||(d.history.stop(),y.chatboxviews.closeAllChatBoxes(),delete y.controlboxtoggle,delete y.chatboxviews,y.connection.reset(),y.off(),y.stopListening(),y._tearDown());var _;if("onpagehide"in window?_="pagehide":"onbeforeunload"in window?_="beforeunload":"onunload"in window&&(_="unload"),this.TIMEOUTS={PAUSED:1e4,INACTIVE:9e4},this.INACTIVE="inactive",this.ACTIVE="active",this.COMPOSING="composing",this.PAUSED="paused",this.GONE="gone",this.default_settings={allow_contact_requests:!0,allow_non_roster_messaging:!1,animate:!0,authentication:"login",auto_away:0,auto_login:!1,auto_reconnect:!0,auto_subscribe:!1,auto_xa:0,blacklisted_plugins:[],bosh_service_url:void 0,connection_options:{},credentials_url:null,csi_waiting_time:0,debug:!1,default_state:"online",expose_rid_and_sid:!1,filter_by_resource:!1,forward_messages:!1,hide_offline_users:!1,include_offline_state:!1,jid:void 0,keepalive:!0,locales_url:"locale/{{{locale}}}/LC_MESSAGES/converse.json",locales:["af","bg","ca","de","es","en","fr","he","hu","id","it","ja","nb","nl","pl","pt_BR","ru","tr","uk","zh_CN","zh_TW"],message_carbons:!0,message_storage:"session",password:void 0,prebind_url:null,priority:0,registration_domain:"",rid:void 0,root:window.document,roster_groups:!0,show_only_online_users:!1,show_send_button:!1,sid:void 0,storage:"session",strict_plugin_dependencies:!1,synchronize_availability:!0,view_mode:"overlayed",websocket_url:void 0,whitelisted_plugins:[],xhr_custom_status:!1,xhr_custom_status_url:""},r.assignIn(this,this.default_settings),r.assignIn(this,r.pick(e,r.keys(this.default_settings))),this.authentication===y.ANONYMOUS&&this.auto_login&&!this.jid)throw new Error("Config Error: you need to provide the server's domain via the 'jid' option when using anonymous authentication with auto_login.");return r.isUndefined(s)?y.locale="en":s.setLocales(e.i18n,y),this.callback=i||r.noop,this.send_initial_presence=!0,this.msg_counter=0,this.user_settings=e,this.generateResource=function(){return"/converse.js-".concat(Math.floor(139749528*Math.random()).toString())},this.sendCSI=function(e){y.connection.send(p(e,{xmlns:c.NS.CSI})),y.inactive=e===y.INACTIVE},this.onUserActivity=function(){y.idle_seconds>0&&(y.idle_seconds=0),y.connection.authenticated&&(y.inactive&&y.sendCSI(y.ACTIVE),!0===y.auto_changed_status&&(y.auto_changed_status=!1,y.xmppstatus.setStatus(y.default_state)))},this.onEverySecond=function(){if(y.connection.authenticated){var e=y.xmppstatus.getStatus();y.idle_seconds++,y.csi_waiting_time>0&&y.idle_seconds>y.csi_waiting_time&&!y.inactive&&y.sendCSI(y.INACTIVE),y.auto_away>0&&y.idle_seconds>y.auto_away&&"away"!==e&&"xa"!==e&&"dnd"!==e?(y.auto_changed_status=!0,y.xmppstatus.setStatus("away")):y.auto_xa>0&&y.idle_seconds>y.auto_xa&&"xa"!==e&&"dnd"!==e&&(y.auto_changed_status=!0,y.xmppstatus.setStatus("xa"))}},this.registerIntervalHandler=function(){y.auto_away<1&&y.auto_xa<1&&y.csi_waiting_time<1||(y.idle_seconds=0,y.auto_changed_status=!1,window.addEventListener("click",y.onUserActivity),window.addEventListener("focus",y.onUserActivity),window.addEventListener("keypress",y.onUserActivity),window.addEventListener("mousemove",y.onUserActivity),window.addEventListener(_,y.onUserActivity),y.everySecondTrigger=window.setInterval(y.onEverySecond,1e3))},this.setConnectionStatus=function(e,t){y.connfeedback.set({connection_status:e,message:t})},this.rejectPresenceSubscription=function(e,t){var n=g({to:e,type:"unsubscribed"});t&&""!==t&&n.c("status").t(t),y.connection.send(n)},this.reconnect=r.debounce(function(){y.log("RECONNECTING"),y.log("The connection has dropped, attempting to reconnect."),y.setConnectionStatus(c.Status.RECONNECTING,b("The connection has dropped, attempting to reconnect.")),y.connection.reconnecting=!0,y._tearDown(),y.logIn(null,!0)},3e3,{leading:!0}),this.disconnect=function(){y.log("DISCONNECTED"),delete y.connection.reconnecting,y.connection.reset(),y._tearDown(),y.emit("disconnected")},this.onDisconnected=function(){var e=y.disconnection_reason;return y.disconnection_cause===c.Status.AUTHFAIL?y.credentials_url&&y.auto_reconnect?(y.emit("will-reconnect"),y.reconnect()):y.disconnect():y.disconnection_cause===y.LOGOUT||!r.isUndefined(e)&&e===r.get(c,"ErrorCondition.NO_AUTH_MECH")||"host-unknown"===e||"remote-connection-failed"===e||!y.auto_reconnect?y.disconnect():(y.emit("will-reconnect"),void y.reconnect())},this.setDisconnectionCause=function(e,t,n){r.isUndefined(e)?(delete y.disconnection_cause,delete y.disconnection_reason):(r.isUndefined(y.disconnection_cause)||n)&&(y.disconnection_cause=e,y.disconnection_reason=t)},this.onConnectStatusChanged=function(e,t){if(y.log("Status changed to: ".concat(y.CONNECTION_STATUS[e])),e===c.Status.CONNECTED||e===c.Status.ATTACHED)y.setConnectionStatus(e),y.send_initial_presence=!0,y.setDisconnectionCause(),y.connection.reconnecting?(y.log(e===c.Status.CONNECTED?"Reconnected":"Reattached"),y.onConnected(!0)):(y.log(e===c.Status.CONNECTED?"Connected":"Attached"),y.connection.restored&&(y.send_initial_presence=!1),y.onConnected());else if(e===c.Status.DISCONNECTED)y.setDisconnectionCause(e,t),y.onDisconnected();else if(e===c.Status.ERROR)y.setConnectionStatus(e,b("An error occurred while connecting to the chat server."));else if(e===c.Status.CONNECTING)y.setConnectionStatus(e);else if(e===c.Status.AUTHENTICATING)y.setConnectionStatus(e);else if(e===c.Status.AUTHFAIL)t||(t=b("Your Jabber ID and/or password is incorrect. Please try again.")),y.setConnectionStatus(e,t),y.setDisconnectionCause(e,t,!0),y.onDisconnected();else if(e===c.Status.CONNFAIL){var n=t;"host-unknown"===t||"remote-connection-failed"==t?n=b("Sorry, we could not connect to the XMPP host with domain: %1$s",'"'.concat(c.getDomainFromJid(y.connection.jid),'"')):r.isUndefined(t)||t!==r.get(c,"ErrorCondition.NO_AUTH_MECH")||(n=b("The XMPP server did not offer a supported authentication mechanism")),y.setConnectionStatus(e,n),y.setDisconnectionCause(e,t)}else e===c.Status.DISCONNECTING&&y.setDisconnectionCause(e,t)},this.incrementMsgCounter=function(){this.msg_counter+=1;var e=this.msg_counter,t=document.title;r.isNil(t)||(t=-1===t.search(/^Messages \(\d+\) /)?"Messages (".concat(e,") ").concat(t):t.replace(/^Messages \(\d+\) /,"Messages (".concat(e,")")))},this.clearMsgCounter=function(){this.msg_counter=0;var e=document.title;r.isNil(e)||-1!==e.search(/^Messages \(\d+\) /)&&(e=e.replace(/^Messages \(\d+\) /,""))},this.initStatus=function(){return new n(function(e,t){new a.getResolveablePromise;l.xmppstatus=new l.XMPPStatus;var n=v("converse.xmppstatus-".concat(y.bare_jid));l.xmppstatus.id=n,l.xmppstatus.browserStorage=new d.BrowserStorage[y.storage](n),l.xmppstatus.fetch({success:e,error:e}),y.emit("statusInitialized")})},this.initSession=function(){y.session=new d.Model;var e=v("converse.bosh-session");y.session.id=e,y.session.browserStorage=new d.BrowserStorage[y.storage](e),y.session.fetch()},this.clearSession=function(){r.isUndefined(this.roster)||this.roster.browserStorage._clear(),!r.isUndefined(this.session)&&this.session.browserStorage&&this.session.browserStorage._clear()},this.logOut=function(){y.clearSession(),y.setDisconnectionCause(y.LOGOUT,void 0,!0),r.isUndefined(y.connection)?y._tearDown():y.connection.disconnect(),r.each(r.keys(y.promises),h),y.emit("logout")},this.saveWindowState=function(e,t){var n,r={focus:"visible",focusin:"visible",pageshow:"visible",blur:"hidden",focusout:"hidden",pagehide:"hidden"};e=e||document.createEvent("Events"),n=e.type in r?r[e.type]:document[t]?"hidden":"visible","visible"===n&&y.clearMsgCounter(),y.windowState=n,y.emit("windowStateChanged",{state:n})},this.registerGlobalEventHandlers=function(){var e="hidden";e in document?document.addEventListener("visibilitychange",r.partial(y.saveWindowState,r,e)):(e="mozHidden")in document?document.addEventListener("mozvisibilitychange",r.partial(y.saveWindowState,r,e)):(e="webkitHidden")in document?document.addEventListener("webkitvisibilitychange",r.partial(y.saveWindowState,r,e)):(e="msHidden")in document?document.addEventListener("msvisibilitychange",r.partial(y.saveWindowState,r,e)):"onfocusin"in document?document.onfocusin=document.onfocusout=r.partial(y.saveWindowState,r,e):window.onpageshow=window.onpagehide=window.onfocus=window.onblur=r.partial(y.saveWindowState,r,e),void 0!==document[e]&&r.partial(y.saveWindowState,r,e)({type:document[e]?"blur":"focus"})},this.enableCarbons=function(){var e=this;if(this.message_carbons&&!this.session.get("carbons_enabled")){var t=new c.Builder("iq",{from:this.connection.jid,id:"enablecarbons",type:"set"}).c("enable",{xmlns:c.NS.CARBONS});this.connection.addHandler(function(t){t.querySelectorAll("error").length>0?y.log("An error occured while trying to enable message carbons.",c.LogLevel.ERROR):(e.session.save({carbons_enabled:!0}),y.log("Message carbons have been enabled."))},null,"iq",null,"enablecarbons"),this.connection.send(t)}},this.initRoster=function(){y.roster=new y.RosterContacts,y.roster.browserStorage=new d.BrowserStorage.session(v("converse.contacts-".concat(y.bare_jid))),y.rostergroups=new y.RosterGroups,y.rostergroups.browserStorage=new d.BrowserStorage.session(v("converse.roster.groups".concat(y.bare_jid))),y.emit("rosterInitialized")},this.populateRoster=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]?(y.send_initial_presence=!0,y.roster.fetchFromServer().then(function(){y.emit("rosterContactsFetched"),y.sendInitialPresence()}).catch(function(e){y.log(e,c.LogLevel.ERROR),y.sendInitialPresence()})):y.rostergroups.fetchRosterGroups().then(function(){return y.emit("rosterGroupsFetched"),y.roster.fetchRosterContacts()}).then(function(){y.emit("rosterContactsFetched"),y.sendInitialPresence()}).catch(function(e){y.log(e,c.LogLevel.ERROR),y.sendInitialPresence()})},this.unregisterPresenceHandler=function(){r.isUndefined(y.presence_ref)||(y.connection.deleteHandler(y.presence_ref),delete y.presence_ref)},this.registerPresenceHandler=function(){y.unregisterPresenceHandler(),y.presence_ref=y.connection.addHandler(function(e){return y.roster.presenceHandler(e),!0},null,"presence",null)},this.sendInitialPresence=function(){y.send_initial_presence&&y.xmppstatus.sendPresence()},this.onStatusInitialized=function(e){e?y.emit("rosterReadyAfterReconnection"):(y.registerIntervalHandler(),y.initRoster()),y.roster.onConnected(),y.populateRoster(e),y.registerPresenceHandler(),e||(f.resolve(),y.emit("initialized"))},this.setUserJid=function(){y.jid=y.connection.jid,y.bare_jid=c.getBareJidFromJid(y.connection.jid),y.resource=c.getResourceFromJid(y.connection.jid),y.domain=c.getDomainFromJid(y.connection.jid)},this.onConnected=function(e){y.connection.flush(),y.setUserJid(),y.initSession(),y.enableCarbons(),e=!r.isUndefined(y.xmppstatus)&&e,e?(y.onStatusInitialized(!0),y.emit("reconnected")):(y.initStatus().then(r.partial(y.onStatusInitialized,!1),r.partial(y.onStatusInitialized,!1)).catch(r.partial(y.log,r,c.LogLevel.FATAL)),y.emit("connected"))},this.RosterContact=d.Model.extend({defaults:{chat_state:void 0,chat_status:"offline",image:y.DEFAULT_IMAGE,image_type:y.DEFAULT_IMAGE_TYPE,num_unread:0,status:""},initialize:function(e){var t=this,n=e.jid,i=c.getBareJidFromJid(n).toLowerCase();c.getResourceFromJid(n);e.jid=i,this.set(r.assignIn({fullname:i,groups:[],id:i,jid:i,resources:{},user_id:c.getNodeFromJid(n)},e)),this.on("destroy",function(){t.removeFromRoster()}),this.on("change:chat_status",function(e){y.emit("contactStatusChanged",e.attributes)})},subscribe:function(e){this.save("ask","subscribe");var t=g({to:this.get("jid"),type:"subscribe"});e&&""!==e&&t.c("status").t(e).up();var n=y.xmppstatus.get("fullname");return n&&""!==n&&t.c("nick",{xmlns:c.NS.NICK}).t(n).up(),y.connection.send(t),this},ackSubscribe:function(){y.connection.send(g({type:"subscribe",to:this.get("jid")}))},ackUnsubscribe:function(){y.connection.send(g({type:"unsubscribe",to:this.get("jid")})),this.destroy()},unauthorize:function(e){return y.rejectPresenceSubscription(this.get("jid"),e),this},authorize:function(e){var t=g({to:this.get("jid"),type:"subscribed"});return e&&""!==e&&t.c("status").t(e),y.connection.send(t),this},addResource:function(e){var t=e.getAttribute("from"),n=r.propertyOf(e.querySelector("show"))("textContent")||"online",i=c.getResourceFromJid(t),o=e.querySelector('delay[xmlns="'.concat(c.NS.DELAY,'"]')),s=r.isNull(o)?u().format():u(o.getAttribute("stamp")).format(),a=r.propertyOf(e.querySelector("priority"))("textContent")||0;a=r.isNaN(parseInt(a,10))?0:parseInt(a,10);var l=r.isObject(this.get("resources"))?this.get("resources"):{};l[i]={name:i,priority:a,status:n,timestamp:s};var d={resources:l},h=this.getHighestPriorityResource();return a==h.priority&&s==h.timestamp&&(d.chat_status=n),this.save(d),l},removeResource:function(e){var t=this.get("resources");r.isObject(t)?delete t[e]:t={},this.save({resources:t,chat_status:r.propertyOf(this.getHighestPriorityResource())("status")||"offline"})},getHighestPriorityResource:function(){var e=this.get("resources");if(r.isObject(e)&&r.size(e)){var t=r.flow(r.values,r.partial(r.sortBy,r,["priority","timestamp"]),r.reverse)(e)[0];if(!r.isUndefined(t))return t}},removeFromRoster:function(e){var t=m({type:"set"}).c("query",{xmlns:c.NS.ROSTER}).c("item",{jid:this.get("jid"),subscription:"remove"});return y.connection.sendIQ(t,e,e),this}}),this.RosterContacts=d.Collection.extend({model:y.RosterContact,comparator:function(e,t){var n=e.get("chat_status")||"offline",r=t.get("chat_status")||"offline";if(y.STATUS_WEIGHTS[n]===y.STATUS_WEIGHTS[r]){var i=e.get("fullname").toLowerCase(),o=t.get("fullname").toLowerCase();return i<o?-1:i>o?1:0}return y.STATUS_WEIGHTS[n]<y.STATUS_WEIGHTS[r]?-1:1},onConnected:function(){this.registerRosterHandler(),this.registerRosterXHandler()},registerRosterHandler:function(){y.connection.addHandler(y.roster.onRosterPush.bind(y.roster),c.NS.ROSTER,"iq","set")},registerRosterXHandler:function(){var e=0;y.connection.addHandler(function(t){return window.setTimeout(function(){y.connection.flush(),y.roster.subscribeToSuggestedItems.bind(y.roster)(t)},e),e+=250*t.querySelectorAll("item").length,!0},c.NS.ROSTERX,"message",null)},fetchRosterContacts:function(){var e=this;return new n(function(t,n){e.fetch({add:!0,silent:!0,success:function(e){0===e.length?(y.send_initial_presence=!0,y.roster.fetchFromServer().then(t).catch(n)):(y.emit("cachedRoster",e),t())}})})},subscribeToSuggestedItems:function(e){return r.each(e.querySelectorAll("item"),function(e){"add"===e.getAttribute("action")&&y.roster.addAndSubscribe(e.getAttribute("jid"),null,y.xmppstatus.get("fullname"))}),!0},isSelf:function(e){return a.isSameBareJID(e,y.connection.jid)},addAndSubscribe:function(e,t,n,r,i){var o=function(e){e instanceof y.RosterContact&&e.subscribe(r)};this.addContact(e,t,n,i).then(o,o)},sendContactAddIQ:function(e,t,n,i,o){t=r.isEmpty(t)?e:t;var s=m({type:"set"}).c("query",{xmlns:c.NS.ROSTER}).c("item",{jid:e,name:t});r.each(n,function(e){s.c("group").t(e).up()}),y.connection.sendIQ(s,i,o)},addContact:function(e,t,i,o){var s=this;return new n(function(n,a){i=i||[],t=r.isEmpty(t)?e:t,s.sendContactAddIQ(e,t,i,function(){var a=s.create(r.assignIn({ask:void 0,fullname:t,groups:i,jid:e,requesting:!1,subscription:"none"},o),{sort:!1});n(a)},function(e){alert(b("Sorry, there was an error while trying to add %1$s as a contact.",t)),y.log(e,c.LogLevel.ERROR),n(e)})})},subscribeBack:function(e){var t=this.get(e);if(t instanceof y.RosterContact)t.authorize().subscribe();else{var n=function(e){e instanceof y.RosterContact&&e.authorize().subscribe()};this.addContact(e,"",[],{subscription:"from"}).then(n,n)}},getNumOnlineContacts:function(){var e=["offline","unavailable"];return y.show_only_online_users&&(e=r.union(e,["dnd","xa","away"])),r.sum(this.models.filter(function(t){return!r.includes(e,t.get("chat_status"))}))},onRosterPush:function(e){var n=e.getAttribute("id"),i=e.getAttribute("from");if(i&&""!==i&&c.getBareJidFromJid(i)!==y.bare_jid)return y.connection.send(m({type:"error",id:n,from:y.connection.jid}).c("error",{type:"cancel"}).c("service-unavailable",{xmlns:c.NS.ROSTER})),!0;y.connection.send(m({type:"result",id:n,from:y.connection.jid}));var o=t('query[xmlns="'.concat(c.NS.ROSTER,'"] item'),e);return r.each(o,this.updateContact.bind(this)),y.emit("rosterPush",e),!0},fetchFromServer:function(){var e=this;return new n(function(t,n){var i=m({type:"get",id:y.connection.getUniqueId("roster")}).c("query",{xmlns:c.NS.ROSTER}),o=r.flow(e.onReceivedFromServer.bind(e),t),s=function(e){var t="Error while trying to fetch roster from the server";y.log(t,c.LogLevel.ERROR),n(new Error(t))};return y.connection.sendIQ(i,o,s)})},onReceivedFromServer:function(e){var n=t('query[xmlns="'.concat(c.NS.ROSTER,'"] item'),e);r.each(n,this.updateContact.bind(this)),y.emit("roster",e)},updateContact:function(e){var t=e.getAttribute("jid");if(!this.isSelf(t)){var n=this.get(t),i=e.getAttribute("subscription"),o=e.getAttribute("ask"),s=r.map(e.getElementsByTagName("group"),c.getText);if(n){if("remove"===i)return n.destroy();n.save({subscription:i,ask:o,requesting:null,groups:s})}else{if("none"===i&&null===o||"remove"===i)return;this.create({ask:o,fullname:e.getAttribute("name")||t,groups:s,jid:t,subscription:i},{sort:!1})}}},createRequestingContact:function(e){var t=c.getBareJidFromJid(e.getAttribute("from")),n=e.querySelector('nick[xmlns="'.concat(c.NS.NICK,'"]')),r={jid:t,subscription:"none",ask:null,requesting:!0,fullname:n&&n.textContent||t};this.create(r),y.emit("contactRequest",r)},handleIncomingSubscription:function(e){var t=e.getAttribute("from"),n=c.getBareJidFromJid(t),r=this.get(n);y.allow_contact_requests||y.rejectPresenceSubscription(t,b("This client does not allow presence subscriptions")),y.auto_subscribe?r&&"to"===r.get("subscription")?r.authorize():this.subscribeBack(n):r?"none"!==r.get("subscription")?r.authorize():"subscribe"===r.get("ask")&&r.authorize():this.createRequestingContact(e)},presenceHandler:function(e){var n=e.getAttribute("type");if("error"===n)return!0;var i=e.getAttribute("from"),o=c.getBareJidFromJid(i),s=c.getResourceFromJid(i),a=r.propertyOf(e.querySelector("show"))("textContent")||"online",u=r.propertyOf(e.querySelector("status"))("textContent"),l=this.get(o);if(this.isSelf(o))return void(y.connection.jid===i||"unavailable"===n||!0!==y.synchronize_availability&&y.synchronize_availability!==s||(y.xmppstatus.save({status:a}),u&&y.xmppstatus.save({status_message:u})));if(!t('query[xmlns="'.concat(c.NS.MUC,'"]'),e).length)if(l&&u!==l.get("status")&&l.save({status:u}),"subscribed"===n&&l)l.ackSubscribe();else if("unsubscribed"===n&&l)l.ackUnsubscribe();else{if("unsubscribe"===n)return;"subscribe"===n?this.handleIncomingSubscription(e):"unavailable"===n&&l?l.removeResource(s):l&&l.addResource(e)}}}),this.RosterGroup=d.Model.extend({initialize:function(e){this.set(r.assignIn({description:b("Click to hide these contacts"),state:y.OPENED},e)),this.contacts=new y.RosterContacts}}),this.RosterGroups=d.Collection.extend({model:y.RosterGroup,fetchRosterGroups:function(){var e=this;return new n(function(t,n){e.fetch({silent:!0,success:t})})}}),this.ConnectionFeedback=d.Model.extend({defaults:{connection_status:c.Status.DISCONNECTED,message:""},initialize:function(){this.on("change",function(){y.emit("connfeedback",y.connfeedback)})}}),this.connfeedback=new this.ConnectionFeedback,this.XMPPStatus=d.Model.extend({initialize:function(){var e=this;this.set({status:this.getStatus()}),this.on("change",function(t){r.has(t.changed,"status")&&y.emit("statusChanged",e.get("status")),r.has(t.changed,"status_message")&&y.emit("statusMessageChanged",e.get("status_message"))})},constructPresence:function(e,t){var n;return e=r.isString(e)?e:this.get("status")||y.default_state,t=r.isString(t)?t:this.get("status_message"),n="unavailable"===e||"probe"===e||"error"===e||"unsubscribe"===e||"unsubscribed"===e||"subscribe"===e||"subscribed"===e?g({type:e}):"offline"===e?g({type:"unavailable"}):"online"===e?g():g().c("show").t(e).up(),t&&n.c("status").t(t).up(),n.c("priority").t(r.isNaN(Number(y.priority))?0:y.priority),n},sendPresence:function(e,t){y.connection.send(this.constructPresence(e,t))},setStatus:function(e){this.sendPresence(e),this.save({status:e})},getStatus:function(){return this.get("status")||y.default_state},setStatusMessage:function(e){if(this.sendPresence(this.getStatus(),e),this.save({status_message:e}),this.xhr_custom_status){var t=new XMLHttpRequest;t.open("POST",this.xhr_custom_status_url,!0),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),t.send({msg:e})}this.get("status_message")===e&&this.trigger("update-status-ui",this)}}),this.setUpXMLLogging=function(){c.log=function(e,t){y.log(t,e)},this.debug&&(this.connection.xmlInput=function(e){y.log(e.outerHTML,c.LogLevel.DEBUG,"color: darkgoldenrod")},this.connection.xmlOutput=function(e){y.log(e.outerHTML,c.LogLevel.DEBUG,"color: darkcyan")})},this.fetchLoginCredentials=function(){return new n(function(e,t){var n=new XMLHttpRequest;n.open("GET",y.credentials_url,!0),n.setRequestHeader("Accept","application/json, text/javascript"),n.onload=function(){if(n.status>=200&&n.status<400){var t=JSON.parse(n.responseText);e({jid:t.jid,password:t.password})}else n.onerror()},n.onerror=function(){delete y.connection,y.emit("noResumeableSession",this),t(n.responseText)},n.send()})},this.startNewBOSHSession=function(){var e=new XMLHttpRequest;e.open("GET",y.prebind_url,!0),e.setRequestHeader("Accept","application/json, text/javascript"),e.onload=function(){if(e.status>=200&&e.status<400){var t=JSON.parse(e.responseText);y.connection.attach(t.jid,t.sid,t.rid,y.onConnectStatusChanged)}else e.onerror()},e.onerror=function(){delete y.connection,y.emit("noResumeableSession",this)},e.send()},this.restoreBOSHSession=function(e){if(!this.jid){var t='restoreBOSHSession: tried to restore a "keepalive" session but we don\'t have the JID for the user!';if(e)throw new Error(t);y.log(t)}try{return this.connection.restore(this.jid,this.onConnectStatusChanged),!0}catch(e){return y.log("Could not restore session for jid: "+this.jid+" Error message: "+e.message,c.LogLevel.WARN),this.clearSession(),!1}},this.attemptPreboundSession=function(e){if(!e){if(this.keepalive&&this.restoreBOSHSession(!0))return;if(this.jid&&this.sid&&this.rid)return this.connection.attach(this.jid,this.sid,this.rid,this.onConnectStatusChanged)}if(this.prebind_url)return this.startNewBOSHSession();throw new Error("attemptPreboundSession: If you use prebind and not keepalive, then you MUST supply JID, RID and SID values or a prebind_url.")},this.attemptNonPreboundSession=function(e,t){if(t||!this.keepalive||!this.restoreBOSHSession())if(e)this.autoLogin(e);else if(this.auto_login)if(this.credentials_url)this.fetchLoginCredentials().then(this.autoLogin.bind(this),this.autoLogin.bind(this));else{if(!this.jid)throw new Error("attemptNonPreboundSession: If you use auto_login, you also need to give either a jid value (and if applicable a password) or you need to pass in a URL from where the username and password can be fetched (via credentials_url).");this.autoLogin()}else t&&this.autoLogin()},this.autoLogin=function(e){if(e&&(this.jid=e.jid),this.authentication===y.ANONYMOUS){if(!this.jid)throw new Error("Config Error: when using anonymous login you need to provide the server's domain via the 'jid' option. Either when calling converse.initialize, or when calling _converse.api.user.login.");this.connection.reconnecting||this.connection.reset(),this.connection.connect(this.jid.toLowerCase(),null,this.onConnectStatusChanged)}else if(this.authentication===y.LOGIN){var t=r.isNil(e)?y.connection.pass||this.password:e.password;if(!t){if(this.auto_login)throw new Error("initConnection: If you use auto_login and authentication='login' then you also need to provide a password.");return y.setDisconnectionCause(c.Status.AUTHFAIL,void 0,!0),void y.disconnect()}var n=c.getResourceFromJid(this.jid);this.jid=n?c.getBareJidFromJid(this.jid).toLowerCase()+"/"+n:this.jid.toLowerCase()+y.generateResource(),this.connection.reconnecting||this.connection.reset(),this.connection.connect(this.jid,t,this.onConnectStatusChanged)}},this.logIn=function(e,t){this.authentication===y.PREBIND?this.attemptPreboundSession(t):this.attemptNonPreboundSession(e,t)},this.initConnection=function(){if(!this.connection){if(!this.bosh_service_url&&!this.websocket_url)throw new Error("initConnection: you must supply a value for either the bosh_service_url or websocket_url or both.");if(("WebSocket"in window||"MozWebSocket"in window)&&this.websocket_url)this.connection=new c.Connection(this.websocket_url,this.connection_options);else{if(!this.bosh_service_url)throw new Error("initConnection: this browser does not support websockets and bosh_service_url wasn't specified.");this.connection=new c.Connection(this.bosh_service_url,r.assignIn(this.connection_options,{keepalive:this.keepalive}))}}y.emit("connectionInitialized")},this._tearDown=function(){return y.emit("beforeTearDown"),y.unregisterPresenceHandler(),y.roster&&y.roster.off().reset(),r.isUndefined(y.session)||y.session.destroy(),window.removeEventListener("click",y.onUserActivity),window.removeEventListener("focus",y.onUserActivity),window.removeEventListener("keypress",y.onUserActivity),window.removeEventListener("mousemove",y.onUserActivity),window.removeEventListener(_,y.onUserActivity),window.clearInterval(y.everySecondTrigger),y.emit("afterTearDown"),y},this.initPlugins=function(){y.pluggable.initialized_plugins=[];var e=y.core_plugins.concat(y.whitelisted_plugins);"embedded"===y.view_mode&&r.forEach(["converse-bookmarks","converse-controlbox","converse-dragresize","converse-headline","converse-minimize","converse-otr","converse-register","converse-vcard"],function(e){y.blacklisted_plugins.push(e)}),y.pluggable.initializePlugins({updateSettings:function(){y.log("(DEPRECATION) The `updateSettings` method has been deprecated. Please use `_converse.api.settings.update` instead.",c.LogLevel.WARN),y.api.settings.update.apply(y,arguments)},_converse:y},e,y.blacklisted_plugins),y.emit("pluginsInitialized")},e.connection&&(this.connection=e.connection),r.isUndefined(y.connection)||"jasmine tests"!==y.connection.service?(r.isUndefined(s)?o():s.fetchTranslations(y.locale,y.locales,a.interpolate(y.locales_url,{locale:y.locale})).catch(r.partial(y.log,r,c.LogLevel.FATAL)).then(o).catch(r.partial(y.log,r,c.LogLevel.FATAL)),f):(o(),y)},y.api={connection:{connected:function(){return y.connection&&y.connection.connected||!1},disconnect:function(){y.connection.disconnect()}},emit:function(){y.emit.apply(y,arguments)},user:{jid:function(){return y.connection.jid},login:function(e){y.initConnection(),y.logIn(e)},logout:function(){y.logOut()},status:{get:function(){return y.xmppstatus.get("status")},set:function(e,t){var n={status:e};if(!r.includes(r.keys(y.STATUS_WEIGHTS),e))throw new Error("Invalid availability value. See https://xmpp.org/rfcs/rfc3921.html#rfc.section.2.2.2.1");r.isString(t)&&(n.status_message=t),y.xmppstatus.sendPresence(e),y.xmppstatus.save(n)},message:{get:function(){return y.xmppstatus.get("status_message")},set:function(e){y.xmppstatus.save({status_message:e})}}}},settings:{update:function(e){a.merge(y.default_settings,e),a.merge(y,e),a.applyUserSettings(y,e,y.user_settings)},get:function(e){if(r.includes(r.keys(y.default_settings),e))return y[e]},set:function(e,t){var n={};r.isObject(e)?r.assignIn(y,r.pick(e,r.keys(y.default_settings))):r.isString("string")&&(n[e]=t,r.assignIn(y,r.pick(n,r.keys(y.default_settings))))}},promises:{add:function(e){e=r.isArray(e)?e:[e],r.each(e,h)}},contacts:{get:function(e){var t=function(e){var t=y.roster.get(c.getBareJidFromJid(e));return t?t.attributes:null};if(r.isUndefined(e))e=y.roster.pluck("jid");else if(r.isString(e))return t(e);return r.map(e,t)},add:function(e,t){if(!r.isString(e)||!r.includes(e,"@"))throw new TypeError("contacts.add: invalid jid");y.roster.addAndSubscribe(e,r.isEmpty(t)?e:t)}},tokens:{
get:function(e){return!y.expose_rid_and_sid||r.isUndefined(y.connection)?null:"rid"===e.toLowerCase()?y.connection.rid||y.connection._proto.rid:"sid"===e.toLowerCase()?y.connection.sid||y.connection._proto.sid:void 0}},listen:{once:y.once.bind(y),on:y.on.bind(y),not:y.off.bind(y),stanza:function(e,t,n){r.isFunction(t)?(n=t,t={}):t=t||{},y.connection.addHandler(n,t.ns,e,t.type,t.id,t.from,t)}},waitUntil:function(e){var t=y.promises[e];return r.isUndefined(t)?null:t},send:function(e){y.connection.send(e)}},window.converse={initialize:function(e,t){return y.initialize(e,t)},plugins:{add:function(e,t){if(t.__name__=e,!r.isUndefined(y.pluggable.plugins[e]))throw new TypeError('Error: plugin with name "'.concat(e,'" has already been ')+"registered!");y.pluggable.plugins[e]=t}},env:{$build:p,$iq:m,$msg:_,$pres:g,Backbone:d,Promise:n,Strophe:c,_:r,f:i,b64_sha1:v,moment:u,sizzle:t,utils:a}},window.dispatchEvent(new e("converse-loaded")),window.converse}),function(e,t){"function"==typeof i&&i.amd?i("backbone.overview",["underscore","backbone"],t):t(_||e._,Backbone||e.Backbone)}(this,function(e,t){"use strict";var n=e.isUndefined(t.NativeView)?t.View:t.NativeView,r=t.Overview=function(t){var r=this;this.views={},this.keys=e.partial(e.keys,this.views),this.getAll=e.partial(e.identity,this.views),this.get=function(e){return r.views[e]},this.xget=function(t){return e.filter(r.views,function(e,n){return n!==t})},this.add=function(e,t){return r.views[e]=t,t},this.remove=function(e){void 0===e&&(new n).remove.apply(r);var t=r.views[e];if(t)return delete r.views[e],t.remove(),t},this.removeAll=function(){return e.each(e.keys(r.views),r.remove),r},n.apply(this,Array.prototype.slice.apply(arguments))},i=["all","any","chain","collect","contains","detect","difference","drop","each","every","filter","find","first","foldl","foldr","forEach","head","include","indexOf","initial","inject","invoke","isEmpty","last","lastIndexOf","map","max","min","reduce","reduceRight","reject","rest","sample","select","shuffle","size","some","sortBy","tail","take","toArray","without"];return e.each(i,function(t){r.prototype[t]=function(){var n=Array.prototype.slice.call(arguments);return n.unshift(this.views),e[t].apply(e,n)}}),e.extend(r.prototype,n.prototype),r.extend=n.extend,t.OrderedListView=t.Overview.extend({listItems:"model",sortEvent:"change",listSelector:".ordered-items",ItemView:void 0,initialize:function(){this.sortEventually=e.debounce(this.sortAndPositionAllItems.bind(this),500),this.items=e.get(this,this.listItems),this.items.on("add",this.createItemView,this),this.items.on("add",this.sortEventually,this),this.items.on(this.sortEvent,this.sortEventually,this)},createItemView:function(e){var t=this.get(e.get("id"));return t?(t.model=e,t.initialize()):(t=new this.ItemView({model:e}),this.add(e.get("id"),t)),t.render(),t},sortAndPositionAllItems:function(){var t=this;this.items.sort(),this.items.each(function(n){e.isUndefined(t.get(n.get("id")))&&t.createItemView(n),t.positionItem(n,t.el.querySelector(t.listSelector))})},positionItem:function(e,t){var n=this.get(e.get("id")),r=this.items.indexOf(e);if(0===r)t.insertAdjacentElement("afterbegin",n.el);else if(r===this.items.length-1)t.insertAdjacentElement("beforeend",n.el);else{var i=t.querySelector("li:nth-child("+r+")");i.insertAdjacentElement("afterend",n.el)}return n}}),t.Overview}),function(e,t){i("converse-chatboxes",["converse-core","backbone.overview"],t)}(0,function(e){"use strict";var t=e.env,n=t.Backbone,r=t.Promise,i=t.Strophe,o=t.b64_sha1,s=t.moment,a=t.utils,u=t._;return e.plugins.add("converse-chatboxes",{overrides:{disconnect:function(){return this.__super__._converse.chatboxviews.closeAllChatBoxes(),this.__super__.disconnect.apply(this,arguments)},logOut:function(){return this.__super__._converse.chatboxviews.closeAllChatBoxes(),this.__super__.logOut.apply(this,arguments)},initStatus:function(){return this.__super__._converse.chatboxviews.closeAllChatBoxes(),this.__super__.initStatus.apply(this,arguments)},onStatusInitialized:function(){return this.__super__._converse.chatboxes.onConnected(),this.__super__.onStatusInitialized.apply(this,arguments)}},initialize:function(){function t(t){if(!a.isValidJID(t))return e.log('Invalid JID "'.concat(t,'" provided in URL fragment'),i.LogLevel.WARN);r.all([c.api.waitUntil("rosterContactsFetched"),c.api.waitUntil("chatBoxesFetched")]).then(function(){c.api.chats.open(t)})}var c=this._converse;c.api.promises.add(["chatBoxesFetched","chatBoxesInitialized"]),c.router.route("converse/chat?jid=:jid",t),c.Message=n.Model.extend({defaults:function(){return{msgid:c.connection.getUniqueId()}}}),c.Messages=n.Collection.extend({model:c.Message,comparator:"time"}),c.ChatBox=n.Model.extend({defaults:{type:"chatbox",show_avatar:!0,bookmarked:!1,chat_state:void 0,num_unread:0,url:""},initialize:function(){this.messages=new c.Messages,this.messages.browserStorage=new n.BrowserStorage[c.message_storage](o("converse.messages".concat(this.get("jid")).concat(c.bare_jid))),this.save({box_id:o(this.get("jid")),time_opened:this.get("time_opened")||s().valueOf(),user_id:i.getNodeFromJid(this.get("jid"))})},getMessageBody:function(e){return"error"===e.getAttribute("type")?u.propertyOf(e.querySelector("error text"))("textContent"):u.propertyOf(e.querySelector("body"))("textContent")},getMessageAttributes:function(e,t,n){var r=this.__super__._converse;r.__;t=t||e.querySelector("delay");var o,a=e.getAttribute("type"),c=this.getMessageBody(e),l=!u.isNull(t),d="groupchat"===a,h=e.getElementsByTagName(r.COMPOSING).length&&r.COMPOSING||e.getElementsByTagName(r.PAUSED).length&&r.PAUSED||e.getElementsByTagName(r.INACTIVE).length&&r.INACTIVE||e.getElementsByTagName(r.ACTIVE).length&&r.ACTIVE||e.getElementsByTagName(r.GONE).length&&r.GONE;o=d?i.unescapeNode(i.getResourceFromJid(e.getAttribute("from"))):i.getBareJidFromJid(e.getAttribute("from"));var f,p,m=l?t.getAttribute("stamp"):s().format();d&&o===this.get("nick")||!d&&o===r.bare_jid?(f="me",p=r.xmppstatus.get("fullname")||o):(f="them",p=this.get("fullname")||o);var _=e.querySelector('spoiler[xmlns="'.concat(i.NS.SPOILER,'"]')),g={type:a,chat_state:h,delayed:l,fullname:p,message:c||void 0,msgid:e.getAttribute("id"),sender:f,time:m,is_spoiler:!u.isNull(_)};return _&&(g.spoiler_hint=_.textContent.length>0?_.textContent:""),g},createMessage:function(e,t,n){return this.messages.create(this.getMessageAttributes.apply(this,arguments))},newMessageWillBeHidden:function(){return this.get("hidden")||this.get("minimized")||this.isScrolledUp()||"hidden"===c.windowState},incrementUnreadMsgCounter:function(e){u.isNull(e.querySelector("body"))||a.isNewMessage(e)&&this.newMessageWillBeHidden()&&(this.save({num_unread:this.get("num_unread")+1}),c.incrementMsgCounter())},clearUnreadMsgCounter:function(){this.save({num_unread:0})},isScrolledUp:function(){return this.get("scrolled",!0)}}),c.ChatBoxes=n.Collection.extend({comparator:"time_opened",model:function(e,t){return new c.ChatBox(e,t)},registerMessageHandler:function(){c.connection.addHandler(this.onMessage.bind(this),null,"message","chat"),c.connection.addHandler(this.onErrorMessage.bind(this),null,"message","error")},chatBoxMayBeShown:function(e){return!0},onChatBoxesFetched:function(e){var t=this;e.each(function(e){t.chatBoxMayBeShown(e)&&e.trigger("show")}),c.emit("chatBoxesFetched")},onConnected:function(){this.browserStorage=new n.BrowserStorage[c.storage](o("converse.chatboxes-".concat(c.bare_jid))),this.registerMessageHandler(),this.fetch({add:!0,success:this.onChatBoxesFetched.bind(this)})},onErrorMessage:function(e){var t=i.getBareJidFromJid(e.getAttribute("from"));if(a.isSameBareJID(t,c.bare_jid))return!0;var n=this.getChatBox(t);return!n||(n.createMessage(e,null,e),!0)},onMessage:function(e){var t,n,r=e.getAttribute("from"),o=e.getAttribute("to"),s=e,l=i.getResourceFromJid(o),d=!u.isNull(e.querySelector('received[xmlns="'.concat(i.NS.CARBONS,'"]')));if(c.filter_by_resource&&l&&l!==c.resource)return c.log("onMessage: Ignoring incoming message intended for a different resource: ".concat(o),i.LogLevel.INFO),!0;if(a.isHeadlineMessage(c,e))return c.log("onMessage: Ignoring incoming headline message sent with type 'chat' from JID: ".concat(r),i.LogLevel.INFO),!0;var h=e.querySelector("forwarded");if(!u.isNull(h)){var f=h.querySelector("message"),p=f.getAttribute("from");if(d&&i.getBareJidFromJid(p)!==r)return!0;e=f,n=h.querySelector("delay"),r=e.getAttribute("from"),o=e.getAttribute("to")}var m=i.getBareJidFromJid(r),_=i.getResourceFromJid(r);m===c.bare_jid?(t=i.getBareJidFromJid(o),i.getResourceFromJid(o)):t=m;var g=this.getChatBox(t,!u.isNull(e.querySelector("body"))),v=e.getAttribute("id");if(g){var y=v&&g.messages.findWhere({msgid:v})||[];u.isEmpty(y)&&(g.incrementUnreadMsgCounter(s),g.createMessage(e,n,s))}return c.emit("message",{stanza:s,chatbox:g}),!0},createChatBox:function(e,t){var n=i.getBareJidFromJid(e),r=c.roster.get(n),o={};if(u.isUndefined(r)){if(!c.allow_non_roster_messaging)return void c.log("Could not get roster item for JID ".concat(n)+" and allow_non_roster_messaging is set to false",i.LogLevel.ERROR)}else o={fullname:u.isEmpty(r.get("fullname"))?e:r.get("fullname"),image_type:r.get("image_type"),image:r.get("image"),url:r.get("url")};return this.create(u.assignIn({id:n,jid:n,fullname:e,image_type:c.DEFAULT_IMAGE_TYPE,image:c.DEFAULT_IMAGE,url:""},o,t||{}))},getChatBox:function(e,t,n){e=e.toLowerCase();var r=this.get(i.getBareJidFromJid(e));return!r&&t&&(r=this.createChatBox(e,n)),r}}),c.ChatBoxViews=n.Overview.extend({initialize:function(){this.model.on("add",this.onChatBoxAdded,this),this.model.on("destroy",this.removeChat,this)},_ensureElement:function(){if(this.el)this.setElement(u.result(this,"el"),!1);else{var e=c.root.querySelector("#conversejs");if(u.isNull(e)){e=document.createElement("div"),e.setAttribute("id","conversejs");var t=c.root.querySelector("body");t?t.appendChild(e):c.root.appendChild(e)}e.innerHTML="",this.setElement(e,!1)}},onChatBoxAdded:function(e){return this.get(e.get("id"))},removeChat:function(e){this.remove(e.get("id"))},closeAllChatBoxes:function(){return this.each(function(e){e.close()}),this},chatBoxMayBeShown:function(e){return this.model.chatBoxMayBeShown(e)},getChatBox:function(e,t){var n=this.model.get(e.jid);return!n&&t&&(n=this.model.create(e,{error:function(e,t){c.log(t.responseText)}})),n},showChat:function(e){var t=this.getChatBox(e,!0);return this.chatBoxMayBeShown(t)&&t.trigger("show",!0),t}}),c.api.listen.on("pluginsInitialized",function(){c.chatboxes=new c.ChatBoxes,c.chatboxviews=new c.ChatBoxViews({model:c.chatboxes}),c.emit("chatBoxesInitialized")}),c.api.listen.on("beforeTearDown",function(){c.chatboxes.remove(),delete c.chatboxes.browserStorage}),c.getViewForChatBox=function(e){if(e)return c.chatboxviews.get(e.get("id"))},u.extend(c.api,{chats:{open:function(e,t){if(u.isUndefined(e))return c.log("chats.open: You need to provide at least one JID",i.LogLevel.ERROR),null;if(u.isString(e)){var n=c.chatboxes.getChatBox(e,!0,t);return u.isNil(n)?void c.log("Could not open chatbox for JID: "+e):c.getViewForChatBox(n.trigger("show"))}return u.map(e,function(e){return c.getViewForChatBox(c.chatboxes.getChatBox(e,!0,t).trigger("show"))})},get:function(e){if(u.isUndefined(e)){var t=[];return c.chatboxes.each(function(e){"chatroom"!==e.get("type")&&t.push(c.getViewForChatBox(e))}),t}return u.isString(e)?c.getViewForChatBox(c.chatboxes.getChatBox(e)):u.map(e,u.partial(u.flow(c.chatboxes.getChatBox.bind(c.chatboxes),c.getViewForChatBox.bind(c)),u,!0))}}})}}),e}),function(e,t){"function"==typeof i&&i.amd?i("strophe.disco",["strophe"],function(e){return t(e.Strophe,e.$build,e.$iq,e.$msg,e.$pres),e}):t(e.Strophe,e.$build,e.$iq,e.$msg,e.$pres)}(this,function(e,t,n,r,i){e.addConnectionPlugin("disco",{_connection:null,_identities:[],_features:[],_items:[],init:function(t){this._connection=t,this._identities=[],this._features=[],this._items=[],t.addHandler(this._onDiscoInfo.bind(this),e.NS.DISCO_INFO,"iq","get",null,null),t.addHandler(this._onDiscoItems.bind(this),e.NS.DISCO_ITEMS,"iq","get",null,null)},addIdentity:function(e,t,n,r){for(var i=0;i<this._identities.length;i++)if(this._identities[i].category==e&&this._identities[i].type==t&&this._identities[i].name==n&&this._identities[i].lang==r)return!1;return this._identities.push({category:e,type:t,name:n,lang:r}),!0},addFeature:function(e){for(var t=0;t<this._features.length;t++)if(this._features[t]==e)return!1;return this._features.push(e),!0},removeFeature:function(e){for(var t=0;t<this._features.length;t++)if(this._features[t]===e)return this._features.splice(t,1),!0;return!1},addItem:function(e,t,n,r){return!(n&&!r)&&(this._items.push({jid:e,name:t,node:n,call_back:r}),!0)},info:function(t,r,i,o,s){var a={xmlns:e.NS.DISCO_INFO};r&&(a.node=r);var u=n({from:this._connection.jid,to:t,type:"get"}).c("query",a);this._connection.sendIQ(u,i,o,s)},items:function(t,r,i,o,s){var a={xmlns:e.NS.DISCO_ITEMS};r&&(a.node=r);var u=n({from:this._connection.jid,to:t,type:"get"}).c("query",a);this._connection.sendIQ(u,i,o,s)},_buildIQResult:function(e,t){var r=e.getAttribute("id"),i=e.getAttribute("from"),o=n({type:"result",id:r});return null!==i&&o.attrs({to:i}),o.c("query",t)},_onDiscoInfo:function(t){var n,r=t.getElementsByTagName("query")[0].getAttribute("node"),i={xmlns:e.NS.DISCO_INFO};r&&(i.node=r);var o=this._buildIQResult(t,i);for(n=0;n<this._identities.length;n++)i={category:this._identities[n].category,type:this._identities[n].type},this._identities[n].name&&(i.name=this._identities[n].name),this._identities[n].lang&&(i["xml:lang"]=this._identities[n].lang),o.c("identity",i).up();for(n=0;n<this._features.length;n++)o.c("feature",{var:this._features[n]}).up();return this._connection.send(o.tree()),!0},_onDiscoItems:function(t){var n,r,i={xmlns:e.NS.DISCO_ITEMS},o=t.getElementsByTagName("query")[0].getAttribute("node");if(o){for(i.node=o,n=[],r=0;r<this._items.length;r++)if(this._items[r].node==o){n=this._items[r].call_back(t);break}}else n=this._items;var s=this._buildIQResult(t,i);for(r=0;r<n.length;r++){var a={jid:n[r].jid};n[r].name&&(a.name=n[r].name),n[r].node&&(a.node=n[r].node),s.c("item",a).up()}return this._connection.send(s.tree()),!0}})}),function(e,t){i("converse-disco",["converse-core","sizzle","strophe.disco"],t)}(0,function(e,t){var n=e.env,r=n.Backbone,i=n.Promise,o=n.Strophe,s=n.b64_sha1,a=n.utils,u=n._;e.plugins.add("converse-disco",{initialize:function(){function e(e){u.each(e.querySelectorAll("query item"),function(e){if(!e.getAttribute("node")){var t=e.getAttribute("jid"),n=c.disco_entities;u.isUndefined(n.get(t))&&n.create({jid:t})}})}function t(){return c.connection.disco.addIdentity("client","web","Converse.js"),c.connection.disco.addFeature(o.NS.BOSH),c.connection.disco.addFeature(o.NS.CHATSTATES),c.connection.disco.addFeature(o.NS.DISCO_INFO),c.connection.disco.addFeature(o.NS.ROSTERX),c.message_carbons&&c.connection.disco.addFeature(o.NS.CARBONS),c.emit("addClientFeatures"),this}function n(){t(),c.disco_entities=new c.DiscoEntities}var c=this._converse;c.api.promises.add("discoInitialized"),c.DiscoEntity=r.Model.extend({idAttribute:"jid",initialize:function(){this.waitUntilFeaturesDiscovered=a.getResolveablePromise(),this.features=new r.Collection,this.features.browserStorage=new r.BrowserStorage[c.storage](s("converse.features-".concat(this.get("jid")))),this.features.on("add",this.onFeatureAdded,this),this.identities=new r.Collection,this.identities.browserStorage=new r.BrowserStorage[c.storage](s("converse.identities-".concat(this.get("jid")))),this.fetchFeatures()},getIdentity:function(e,t){var n=this;return new i(function(r,i){function s(){var i=n.identities.findWhere({category:e,type:t});r(i)}n.waitUntilFeaturesDiscovered.then(s).catch(u.partial(c.log,u,o.LogLevel.FATAL))})},hasFeature:function(e){var t=this;return new i(function(n,r){function i(){var r=t.features.findWhere({var:e});n(r?{supported:!0,feature:r}:{supported:!1,feature:null})}t.waitUntilFeaturesDiscovered.then(i).catch(u.partial(c.log,u,o.LogLevel.FATAL))})},onFeatureAdded:function(e){e.entity=this,c.emit("serviceDiscovered",e)},fetchFeatures:function(){var e=this;0===this.features.browserStorage.records.length?this.queryInfo():(this.features.fetch({add:!0,success:function(){e.waitUntilFeaturesDiscovered.resolve(),e.trigger("featuresDiscovered")}}),this.identities.fetch({add:!0}))},queryInfo:function(){c.connection.disco.info(this.get("jid"),null,this.onInfo.bind(this))},queryForItems:function(){u.isEmpty(this.identities.where({category:"server"}))||c.connection.disco.items(this.get("jid"),null,e)},onInfo:function(e){var t=this;u.forEach(e.querySelectorAll("identity"),function(e){t.identities.create({category:e.getAttribute("category"),type:e.getAttribute("type"),name:e.getAttribute("name")})}),e.querySelector('feature[var="'+o.NS.DISCO_ITEMS+'"]')&&this.queryForItems(),u.forEach(e.querySelectorAll("feature"),function(n){t.features.create({var:n.getAttribute("var"),from:e.getAttribute("from")})}),this.waitUntilFeaturesDiscovered.resolve(),this.trigger("featuresDiscovered")}}),c.DiscoEntities=r.Collection.extend({model:c.DiscoEntity,initialize:function(){this.browserStorage=new r.BrowserStorage[c.storage](s("converse.disco-entities-".concat(c.bare_jid))),this.fetchEntities().then(u.partial(c.emit,"discoInitialized"),u.partial(c.emit,"discoInitialized")).catch(u.partial(c.log,u,o.LogLevel.FATAL))},fetchEntities:function(){var e=this;return new i(function(t,n){e.fetch({add:!0,success:function(e){0!==e.length&&e.get(c.domain)||this.create({jid:c.domain}),t()}.bind(e),error:function(){n(new Error("Could not fetch disco entities"))}})})}}),c.api.listen.on("reconnected",n),c.api.listen.on("connected",n),c.api.listen.on("beforeTearDown",function(){c.disco_entities&&(c.disco_entities.each(function(e){e.features.reset(),e.features.browserStorage._clear()}),c.disco_entities.reset(),c.disco_entities.browserStorage._clear())}),u.extend(c.api,{disco:{entities:{get:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=c.disco_entities.get(e);return n||!t?n:c.disco_entities.create({jid:e})}},supports:function(e,t){return c.api.waitUntil("discoInitialized").then(function(){return c.api.disco.entities.get(t,!0).hasFeature(e)}).catch(u.partial(c.log,u,o.LogLevel.FATAL))},getIdentity:function(e,t,n){return c.api.waitUntil("discoInitialized").then(function(){return c.api.disco.entities.get(n,!0).getIdentity(e,t)}).catch(u.partial(c.log,u,o.LogLevel.FATAL))}}})}})}),function(e,t){"function"==typeof i&&i.amd?i("strophe.rsm",["strophe"],function(e){return t(e.Strophe,e.$build,e.$iq,e.$msg,e.$pres),e}):t(e.Strophe,e.$build,e.$iq,e.$msg,e.$pres)}(this,function(e,t,n,r,i){e.addNamespace("RSM","http://jabber.org/protocol/rsm"),e.RSM=function(e){if(this.attribs=["max","first","last","after","before","index","count"],void 0!==e.xml)this.fromXMLElement(e.xml);else for(var t=0;t<this.attribs.length;t++){var n=this.attribs[t];this[n]=e[n]}},e.RSM.prototype={toXML:function(){for(var n=t("set",{xmlns:e.NS.RSM}),r=0;r<this.attribs.length;r++){var i=this.attribs[r];void 0!==this[i]&&(n=n.c(i).t(this[i].toString()).up())}return n.tree()},next:function(t){return new e.RSM({max:t,after:this.last})},previous:function(t){return new e.RSM({max:t,before:this.first})},fromXMLElement:function(t){for(var n=0;n<this.attribs.length;n++){var r=this.attribs[n],i=t.getElementsByTagName(r)[0];void 0!==i&&null!==i&&(this[r]=e.getText(i),"first"==r&&(this.index=i.getAttribute("index")))}}}}),function(e,t){i("converse-mam",["sizzle","converse-core","utils","converse-disco","strophe.rsm"],t)}(0,function(e,t,n){"use strict";function r(t){var n=e('result[xmlns="'.concat(s.NS.MAM,'"]'),t).pop();if(!u.isUndefined(n))return n.getAttribute("id");var r=e('stanza-id[xmlns="'.concat(s.NS.SID,'"]'),t).pop();return u.isUndefined(r)?void 0:r.getAttribute("id")}function i(e,t,n,r){var i;u.isFunction(t)&&(n=t,r=n);var o=e.connection.getUniqueId(),h={type:"set"};if(!u.isUndefined(t)&&t.groupchat){if(!t.with)throw new Error('You need to specify a "with" value containing the chat room JID, when querying groupchat messages.');h.to=t.with}var f=a(h).c("query",{xmlns:s.NS.MAM,queryid:o});u.isUndefined(t)||(f.c("x",{xmlns:s.NS.XFORM,type:"submit"}).c("field",{var:"FORM_TYPE",type:"hidden"}).c("value").t(s.NS.MAM).up().up(),t.with&&!t.groupchat&&f.c("field",{var:"with"}).c("value").t(t.with).up().up(),u.each(["start","end"],function(e){if(t[e]){if(i=c(t[e]),!i.isValid())throw new TypeError("archive.query: invalid date provided for: ".concat(e));f.c("field",{var:e}).c("value").t(i.format()).up().up()}}),f.up(),t instanceof s.RSM?f.cnode(t.toXML()):u.intersection(l,u.keys(t)).length&&f.cnode(new s.RSM(t).toXML()));var p=[],m=e.connection.addHandler(function(e){if(t.groupchat&&e.getAttribute("from")!==t.with)return!0;var n=e.querySelector("result");return u.isNull(n)||n.getAttribute("queryid")!==o||p.push(e),!0},s.NS.MAM);e.connection.sendIQ(f,function(r){if(e.connection.deleteHandler(m),u.isFunction(n)){var i,o=r.querySelector("set");u.isUndefined(o)||(i=new s.RSM({xml:o}),u.extend(i,u.pick(t,u.concat(d,["max"])))),n(p,i)}},function(){e.connection.deleteHandler(m),u.isFunction(r)&&r.apply(this,arguments)},e.message_archiving_timeout)}var o=t.env,s=(o.Promise,o.Strophe),a=o.$iq,u=o._,c=o.moment,l=["max","first","last","after","before","index","count"],d=["with","start","end"];t.plugins.add("converse-mam",{dependencies:["converse-chatview","converse-muc"],overrides:{ChatBox:{getMessageAttributes:function(e,t,n){var i=this.__super__.getMessageAttributes.apply(this,arguments),o=r(n);return o&&(i.archive_id=o),i}},ChatBoxView:{render:function(){var e=this.__super__.render.apply(this,arguments);return this.disable_mam||this.content.addEventListener("scroll",u.debounce(this.onScroll.bind(this),100)),e},fetchNewestMessages:function(){var e=this;if(!this.disable_mam){var t=this.__super__._converse;t.api.disco.supports(s.NS.MAM,t.bare_jid).then(function(t){if(t.supported){var r=n.getMostRecentMessage(e.model);if(u.isNil(r))e.fetchArchivedMessages();else{r.get("archive_id")?e.fetchArchivedMessages({after:r.get("archive_id")}):e.fetchArchivedMessages({start:r.get("time")})}}},function(){t.log("Error or timeout while checking for MAM support",s.LogLevel.ERROR)}).catch(function(n){e.clearSpinner(),t.log(n,s.LogLevel.FATAL)})}},fetchArchivedMessagesIfNecessary:function(){var e=this;if(!this.disable_mam&&!this.model.get("mam_initialized")){var t=this.__super__._converse;t.api.disco.supports(s.NS.MAM,t.bare_jid).then(function(t){t.supported&&e.fetchArchivedMessages(),e.model.save({mam_initialized:!0})},function(){t.log("Error or timeout while checking for MAM support",s.LogLevel.ERROR)}).catch(function(n){e.clearSpinner(),t.log(n,s.LogLevel.FATAL)})}},fetchArchivedMessages:function(e){var t=this,n=this.__super__._converse;if(!n.disco_entities.get(n.bare_jid).features.findWhere({var:s.NS.MAM}))return void n.log("Attempted to fetch archived messages but this user's server doesn't support XEP-0313",s.LogLevel.WARN);this.disable_mam||(this.addSpinner(),n.api.archive.query(u.extend({before:"",max:n.archived_messages_page_size,with:this.model.get("jid")},e),function(e){t.clearSpinner(),e.length&&u.each(e,n.chatboxes.onMessage.bind(n.chatboxes))},function(){t.clearSpinner(),n.log("Error or timeout while trying to fetch archived messages",s.LogLevel.ERROR)}))},onScroll:function(e){this.__super__._converse;if(0===this.content.scrollTop&&this.model.messages.length){var t=this.model.messages.at(0),n=t.get("archive_id");n?this.fetchArchivedMessages({before:n}):this.fetchArchivedMessages({end:t.get("time")})}}},ChatRoomView:{initialize:function(){this.__super__._converse;this.__super__.initialize.apply(this,arguments),this.model.on("change:mam_enabled",this.fetchArchivedMessagesIfNecessary,this),this.model.on("change:connection_status",this.fetchArchivedMessagesIfNecessary,this)},isDuplicate:function(e,t){var n=this.__super__.isDuplicate.apply(this,arguments);if(n)return n;var i=r(t);return i?this.model.messages.filter({archive_id:i}).length>0:void 0},renderChatArea:function(){var e=this.__super__.renderChatArea.apply(this,arguments);return this.disable_mam||this.content.addEventListener("scroll",u.debounce(this.onScroll.bind(this),100)),e},handleMUCMessage:function(t){return e('[xmlns="'.concat(s.NS.MAM,'"]'),t).length>0||this.__super__.handleMUCMessage.apply(this,arguments)},fetchArchivedMessagesIfNecessary:function(){this.model.get("connection_status")===t.ROOMSTATUS.ENTERED&&this.model.get("mam_enabled")&&!this.model.get("mam_initialized")&&(this.fetchArchivedMessages(),this.model.save({mam_initialized:!0}))},fetchArchivedMessages:function(e){var t=this,n=this.__super__._converse;this.addSpinner(),n.api.archive.query(u.extend({groupchat:!0,before:"",with:this.model.get("jid"),max:n.archived_messages_page_size},e),function(e){t.clearSpinner(),e.length&&u.each(e,t.onChatRoomMessage.bind(t))},function(){t.clearSpinner(),n.log("Error while trying to fetch archived messages",s.LogLevel.WARN)})}}},initialize:function(){var t=this._converse;t.api.settings.update({archived_messages_page_size:"50",message_archiving:void 0,message_archiving_timeout:8e3}),t.onMAMError=function(e){e.querySelectorAll("feature-not-implemented").length?t.log("Message Archive Management (XEP-0313) not supported by this server",s.LogLevel.WARN):(t.log("An error occured while trying to set archiving preferences.",s.LogLevel.ERROR),t.log(e))},t.onMAMPreferences=function(n,r){var i=e('prefs[xmlns="'.concat(s.NS.MAM,'"]'),r).pop();if(i.getAttribute("default")!==t.message_archiving){var o=a({type:"set"}).c("prefs",{xmlns:s.NS.MAM,default:t.message_archiving});u.each(i.children,function(e){o.cnode(e).up()}),t.connection.sendIQ(o,u.partial(function(e,n){e.save({preferences:{default:t.message_archiving}})},n),t.onMAMError)}else n.save({preferences:{default:t.message_archiving}})},t.on("serviceDiscovered",function(e){var n=e.get("preferences")||{};e.get("var")!==s.NS.MAM||n.default===t.message_archiving||u.isUndefined(t.message_archiving)||t.connection.sendIQ(a({type:"get"}).c("prefs",{xmlns:s.NS.MAM}),u.partial(t.onMAMPreferences,e),u.partial(t.onMAMError,e))}),t.on("addClientFeatures",function(){t.connection.disco.addFeature(s.NS.MAM)}),t.on("afterMessagesFetched",function(e){e.fetchNewestMessages()}),t.on("reconnected",function(){var e=t.chatboxviews.filter(function(e){return"chatbox"===u.at(e,"model.attributes.type")[0]});u.each(e,function(e){return e.fetchNewestMessages()})}),u.extend(t.api,{archive:{query:function(e,n,r){if(!t.api.connection.connected())throw new Error("Can't call `api.archive.query` before having established an XMPP session");return i(t,e,n,r)}}})}})}),function(e,t){"function"==typeof i&&i.amd?i("strophe.ping",["strophe"],function(e){return t(e.Strophe,e.$build,e.$iq,e.$msg,e.$pres),e}):t(e.Strophe,e.$build,e.$iq,e.$msg,e.$pres)}(this,function(e,t,n,r,i){e.addConnectionPlugin("ping",{_c:null,init:function(t){this._c=t,e.addNamespace("PING","urn:xmpp:ping")},ping:function(t,r,i,o){var s=this._c.getUniqueId("ping"),a=n({type:"get",to:t,id:s}).c("ping",{xmlns:e.NS.PING});this._c.sendIQ(a,r,i,o)},pong:function(e){var t=e.getAttribute("from"),r=e.getAttribute("id"),i=n({type:"result",to:t,id:r});this._c.sendIQ(i)},addPingHandler:function(t){return this._c.addHandler(t,e.NS.PING,"iq","get")}})}),function(e,t){i("converse-ping",["converse-core","strophe.ping"],t)}(0,function(e){"use strict";var t=e.env,n=t.Strophe,r=t._;e.plugins.add("converse-ping",{initialize:function(){var e=this._converse;e.api.settings.update({ping_interval:180}),e.ping=function(t,i,o,s){return e.lastStanzaDate=new Date,r.isNil(t)&&(t=n.getDomainFromJid(e.bare_jid)),r.isUndefined(s)&&(s=null),r.isUndefined(i)&&(i=null),r.isUndefined(o)&&(o=null),!!e.connection&&(e.connection.ping.ping(t,i,o,s),!0)},e.pong=function(t){return e.lastStanzaDate=new Date,e.connection.ping.pong(t),!0},e.registerPongHandler=function(){r.isUndefined(e.connection.disco)||e.connection.disco.addFeature(n.NS.PING),e.connection.ping.addPingHandler(e.pong)},e.registerPingHandler=function(){e.registerPongHandler(),e.ping_interval>0&&(e.connection.addHandler(function(){return e.lastStanzaDate=new Date,!0}),e.connection.addTimedHandler(1e3,function(){var t=new Date;return e.lastStanzaDate||(e.lastStanzaDate=t),!((t-e.lastStanzaDate)/1e3>e.ping_interval)||e.ping()}))};var t=function(){e.registerPingHandler()};e.on("connected",t),e.on("reconnected",t)}})}),function(e,t){"function"==typeof i&&i.amd?i("strophe.vcard",["strophe"],function(e){return t(e.Strophe,e.$build,e.$iq,e.$msg,e.$pres),e}):t(e.Strophe,e.$build,e.$iq,e.$msg,e.$pres)}(this,function(e,t,n,r,i){var o=function(t,r,i){var o=n(r?{type:t,to:r}:{type:t});return o.c("vCard",{xmlns:e.NS.VCARD}),i&&o.cnode(i),o};e.addConnectionPlugin("vcard",{_connection:null,init:function(t){return this._connection=t,e.addNamespace("VCARD","vcard-temp")},get:function(e,t,n){var r=o("get",t);return this._connection.sendIQ(r,e,n)},set:function(e,t,n,r){var i=o("set",n,t);return this._connection.sendIQ(i,e,r)}})}),function(e,t){i("converse-vcard",["converse-core","strophe.vcard"],t)}(0,function(e){"use strict";function t(e,t,r,i){var o=r.querySelector("vCard");if(u.isNull(o))return n(e,t,r,i);var s=u.get(o.querySelector("TYPE"),"textContent"),a=u.get(o.querySelector("BINVAL"),"textContent"),l=u.get(o.querySelector("URL"),"textContent"),d=u.get(o.querySelector("FN"),"textContent");if(t){var h=e.roster.get(t);h&&h.save({fullname:d||u.get(h,"fullname",t),image_type:s,image:a,url:l,vcard_updated:c().format()})}i&&i({stanza:r,jid:t,fullname:d||t,image:a,image_type:s,url:l})}function n(e,t,n,r){var i=e.roster.get(t);i&&i.save({vcard_updated:c().format()}),r&&r({stanza:n,jid:t})}function r(e,r){return a.getBareJidFromJid(r)===e.bare_jid&&(r=null),new s(function(i,o){e.use_vcards?e.connection.vcard.get(u.partial(t,e,r,u,i),r,u.partial(n,e,r,u,i)):i&&i({jid:r})})}function i(e,t){e.api.vcard.get(t).then(function(t){var n=e.chatboxes.getChatBox(t.jid);u.isUndefined(n)||n.save(u.pick(t,["fullname","url","image_type","image","vcard_updated"]))}).catch(function(){e.log("updateChatBoxFromVCard: Error occured while attempting to update chatbox with VCard data",a.LogLevel.ERROR)})}var o=e.env,s=o.Promise,a=o.Strophe,u=o._,c=o.moment,l=o.sizzle;e.plugins.add("converse-vcard",{overrides:{RosterContacts:{createRequestingContact:function(e){var t=this.__super__._converse,n=a.getBareJidFromJid(e.getAttribute("from"));t.api.vcard.get(n).then(u.partial(t.createRequestingContactFromVCard,e)).catch(function(n){t.log("Error while retrieving vcard for ".concat(n.jid),a.LogLevel.WARN),t.createRequestingContactFromVCard(e,n.stanza,n.jid)})}}},initialize:function(){var e=this._converse;e.api.settings.update({use_vcards:!0}),e.createRequestingContactFromVCard=function(t,n){var r=a.getBareJidFromJid(n.jid),i=n.fullname;if(!i){var o=l('nick[xmlns="'.concat(a.NS.NICK,'"]'),t);i=o.length?o[0].textContent:r}var s={jid:r,subscription:"none",ask:null,requesting:!0,fullname:i,image:n.image,image_type:n.image_type,url:n.url,vcard_updated:c().format()};e.roster.create(s),e.emit("contactRequest",s)},e.on("addClientFeatures",function(){e.use_vcards&&e.connection.disco.addFeature(a.NS.VCARD)}),e.on("chatBoxInitialized",function(t){e.use_vcards&&"headline"!==t.model.get("type")&&e.api.waitUntil("rosterInitialized").then(function(){var n=t.model.get("jid"),r=e.roster.get(n);(r&&!r.get("vcard_updated")||u.isUndefined(r)&&e.allow_non_roster_messaging)&&i(e,n)}).catch(u.partial(e.log,u,a.LogLevel.FATAL))}),e.on("initialized",function(){e.roster.on("add",function(t){t.get("vcard_updated")||e.api.vcard.get(t.get("jid"))})}),e.on("statusInitialized",function(){u.isNil(e.xmppstatus.get("fullname"))&&e.api.disco.supports(a.NS.VCARD,e.domain).then(function(t){t.supported&&e.api.vcard.get(e.bare_jid).then(function(t){e.xmppstatus.save({
fullname:t.fullname||""})})}).catch(function(t){e.log(t,a.LogLevel.FATAL)})}),u.extend(e.api,{vcard:{get:function(t){return r(e,t)}}})}})}),void 0!==i&&i("converse",["converse-core","converse-chatboxes","converse-disco","converse-mam","converse-ping","converse-vcard"],function(e){return e}),r("converse")});